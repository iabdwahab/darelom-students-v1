function VE(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var sr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function FE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function $E(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var UE={exports:{}},Af={},BE={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mu=Symbol.for("react.element"),zk=Symbol.for("react.portal"),qk=Symbol.for("react.fragment"),Hk=Symbol.for("react.strict_mode"),Wk=Symbol.for("react.profiler"),Gk=Symbol.for("react.provider"),Kk=Symbol.for("react.context"),Qk=Symbol.for("react.forward_ref"),Yk=Symbol.for("react.suspense"),Jk=Symbol.for("react.memo"),Xk=Symbol.for("react.lazy"),ew=Symbol.iterator;function Zk(t){return t===null||typeof t!="object"?null:(t=ew&&t[ew]||t["@@iterator"],typeof t=="function"?t:null)}var zE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qE=Object.assign,HE={};function Nl(t,e,n){this.props=t,this.context=e,this.refs=HE,this.updater=n||zE}Nl.prototype.isReactComponent={};Nl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Nl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function WE(){}WE.prototype=Nl.prototype;function E_(t,e,n){this.props=t,this.context=e,this.refs=HE,this.updater=n||zE}var T_=E_.prototype=new WE;T_.constructor=E_;qE(T_,Nl.prototype);T_.isPureReactComponent=!0;var tw=Array.isArray,GE=Object.prototype.hasOwnProperty,S_={current:null},KE={key:!0,ref:!0,__self:!0,__source:!0};function QE(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)GE.call(e,r)&&!KE.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];s.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Mu,type:t,key:i,ref:o,props:s,_owner:S_.current}}function eC(t,e){return{$$typeof:Mu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function I_(t){return typeof t=="object"&&t!==null&&t.$$typeof===Mu}function tC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var nw=/\/+/g;function Fp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?tC(""+t.key):e.toString(36)}function ah(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Mu:case zk:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Fp(o,0):r,tw(s)?(n="",t!=null&&(n=t.replace(nw,"$&/")+"/"),ah(s,e,n,"",function(c){return c})):s!=null&&(I_(s)&&(s=eC(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(nw,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",tw(t))for(var l=0;l<t.length;l++){i=t[l];var a=r+Fp(i,l);o+=ah(i,e,n,a,s)}else if(a=Zk(t),typeof a=="function")for(t=a.call(t),l=0;!(i=t.next()).done;)i=i.value,a=r+Fp(i,l++),o+=ah(i,e,n,a,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Rd(t,e,n){if(t==null)return t;var r=[],s=0;return ah(t,r,"","",function(i){return e.call(n,i,s++)}),r}function nC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Cn={current:null},lh={transition:null},rC={ReactCurrentDispatcher:Cn,ReactCurrentBatchConfig:lh,ReactCurrentOwner:S_};function YE(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:Rd,forEach:function(t,e,n){Rd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Rd(t,function(){e++}),e},toArray:function(t){return Rd(t,function(e){return e})||[]},only:function(t){if(!I_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=Nl;je.Fragment=qk;je.Profiler=Wk;je.PureComponent=E_;je.StrictMode=Hk;je.Suspense=Yk;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rC;je.act=YE;je.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=qE({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=S_.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)GE.call(e,a)&&!KE.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Mu,type:t.type,key:s,ref:i,props:r,_owner:o}};je.createContext=function(t){return t={$$typeof:Kk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Gk,_context:t},t.Consumer=t};je.createElement=QE;je.createFactory=function(t){var e=QE.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:Qk,render:t}};je.isValidElement=I_;je.lazy=function(t){return{$$typeof:Xk,_payload:{_status:-1,_result:t},_init:nC}};je.memo=function(t,e){return{$$typeof:Jk,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=lh.transition;lh.transition={};try{t()}finally{lh.transition=e}};je.unstable_act=YE;je.useCallback=function(t,e){return Cn.current.useCallback(t,e)};je.useContext=function(t){return Cn.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return Cn.current.useDeferredValue(t)};je.useEffect=function(t,e){return Cn.current.useEffect(t,e)};je.useId=function(){return Cn.current.useId()};je.useImperativeHandle=function(t,e,n){return Cn.current.useImperativeHandle(t,e,n)};je.useInsertionEffect=function(t,e){return Cn.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return Cn.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return Cn.current.useMemo(t,e)};je.useReducer=function(t,e,n){return Cn.current.useReducer(t,e,n)};je.useRef=function(t){return Cn.current.useRef(t)};je.useState=function(t){return Cn.current.useState(t)};je.useSyncExternalStore=function(t,e,n){return Cn.current.useSyncExternalStore(t,e,n)};je.useTransition=function(){return Cn.current.useTransition()};je.version="18.3.1";BE.exports=je;var L=BE.exports;const Pt=FE(L),sC=VE({__proto__:null,default:Pt},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iC=L,oC=Symbol.for("react.element"),aC=Symbol.for("react.fragment"),lC=Object.prototype.hasOwnProperty,cC=iC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uC={key:!0,ref:!0,__self:!0,__source:!0};function JE(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)lC.call(e,r)&&!uC.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:oC,type:t,key:i,ref:o,props:s,_owner:cC.current}}Af.Fragment=aC;Af.jsx=JE;Af.jsxs=JE;UE.exports=Af;var f=UE.exports,Bm={},XE={exports:{}},cr={},ZE={exports:{}},eT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,Y){var se=z.length;z.push(Y);e:for(;0<se;){var ve=se-1>>>1,Te=z[ve];if(0<s(Te,Y))z[ve]=Y,z[se]=Te,se=ve;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var Y=z[0],se=z.pop();if(se!==Y){z[0]=se;e:for(var ve=0,Te=z.length,W=Te>>>1;ve<W;){var He=2*(ve+1)-1,Ke=z[He],Ze=He+1,nt=z[Ze];if(0>s(Ke,se))Ze<Te&&0>s(nt,Ke)?(z[ve]=nt,z[Ze]=se,ve=Ze):(z[ve]=Ke,z[He]=se,ve=He);else if(Ze<Te&&0>s(nt,se))z[ve]=nt,z[Ze]=se,ve=Ze;else break e}}return Y}function s(z,Y){var se=z.sortIndex-Y.sortIndex;return se!==0?se:z.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],c=[],d=1,h=null,g=3,_=!1,E=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(z){for(var Y=n(c);Y!==null;){if(Y.callback===null)r(c);else if(Y.startTime<=z)r(c),Y.sortIndex=Y.expirationTime,e(a,Y);else break;Y=n(c)}}function O(z){if(S=!1,T(z),!E)if(n(a)!==null)E=!0,ke(M);else{var Y=n(c);Y!==null&&ee(O,Y.startTime-z)}}function M(z,Y){E=!1,S&&(S=!1,I(y),y=-1),_=!0;var se=g;try{for(T(Y),h=n(a);h!==null&&(!(h.expirationTime>Y)||z&&!j());){var ve=h.callback;if(typeof ve=="function"){h.callback=null,g=h.priorityLevel;var Te=ve(h.expirationTime<=Y);Y=t.unstable_now(),typeof Te=="function"?h.callback=Te:h===n(a)&&r(a),T(Y)}else r(a);h=n(a)}if(h!==null)var W=!0;else{var He=n(c);He!==null&&ee(O,He.startTime-Y),W=!1}return W}finally{h=null,g=se,_=!1}}var R=!1,x=null,y=-1,k=5,A=-1;function j(){return!(t.unstable_now()-A<k)}function D(){if(x!==null){var z=t.unstable_now();A=z;var Y=!0;try{Y=x(!0,z)}finally{Y?N():(R=!1,x=null)}}else R=!1}var N;if(typeof w=="function")N=function(){w(D)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,_e=ie.port2;ie.port1.onmessage=D,N=function(){_e.postMessage(null)}}else N=function(){C(D,0)};function ke(z){x=z,R||(R=!0,N())}function ee(z,Y){y=C(function(){z(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){E||_||(E=!0,ke(M))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(z){switch(g){case 1:case 2:case 3:var Y=3;break;default:Y=g}var se=g;g=Y;try{return z()}finally{g=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,Y){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var se=g;g=z;try{return Y()}finally{g=se}},t.unstable_scheduleCallback=function(z,Y,se){var ve=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?ve+se:ve):se=ve,z){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=se+Te,z={id:d++,callback:Y,priorityLevel:z,startTime:se,expirationTime:Te,sortIndex:-1},se>ve?(z.sortIndex=se,e(c,z),n(a)===null&&z===n(c)&&(S?(I(y),y=-1):S=!0,ee(O,se-ve))):(z.sortIndex=Te,e(a,z),E||_||(E=!0,ke(M))),z},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(z){var Y=g;return function(){var se=g;g=Y;try{return z.apply(this,arguments)}finally{g=se}}}})(eT);ZE.exports=eT;var dC=ZE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hC=L,ir=dC;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tT=new Set,su={};function ha(t,e){fl(t,e),fl(t+"Capture",e)}function fl(t,e){for(su[t]=e,t=0;t<e.length;t++)tT.add(e[t])}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zm=Object.prototype.hasOwnProperty,fC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rw={},sw={};function pC(t){return zm.call(sw,t)?!0:zm.call(rw,t)?!1:fC.test(t)?sw[t]=!0:(rw[t]=!0,!1)}function mC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function gC(t,e,n,r){if(e===null||typeof e>"u"||mC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Zt[t]=new Pn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Zt[e]=new Pn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Zt[t]=new Pn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Zt[t]=new Pn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Zt[t]=new Pn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Zt[t]=new Pn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Zt[t]=new Pn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Zt[t]=new Pn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Zt[t]=new Pn(t,5,!1,t.toLowerCase(),null,!1,!1)});var x_=/[\-:]([a-z])/g;function A_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(x_,A_);Zt[e]=new Pn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(x_,A_);Zt[e]=new Pn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(x_,A_);Zt[e]=new Pn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Zt[t]=new Pn(t,1,!1,t.toLowerCase(),null,!1,!1)});Zt.xlinkHref=new Pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Zt[t]=new Pn(t,1,!1,t.toLowerCase(),null,!0,!0)});function k_(t,e,n,r){var s=Zt.hasOwnProperty(e)?Zt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(gC(e,n,s,r)&&(n=null),r||s===null?pC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var hi=hC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jd=Symbol.for("react.element"),Ua=Symbol.for("react.portal"),Ba=Symbol.for("react.fragment"),C_=Symbol.for("react.strict_mode"),qm=Symbol.for("react.profiler"),nT=Symbol.for("react.provider"),rT=Symbol.for("react.context"),P_=Symbol.for("react.forward_ref"),Hm=Symbol.for("react.suspense"),Wm=Symbol.for("react.suspense_list"),R_=Symbol.for("react.memo"),Ri=Symbol.for("react.lazy"),sT=Symbol.for("react.offscreen"),iw=Symbol.iterator;function dc(t){return t===null||typeof t!="object"?null:(t=iw&&t[iw]||t["@@iterator"],typeof t=="function"?t:null)}var yt=Object.assign,$p;function Ic(t){if($p===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$p=e&&e[1]||""}return`
`+$p+t}var Up=!1;function Bp(t,e){if(!t||Up)return"";Up=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Up=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ic(t):""}function _C(t){switch(t.tag){case 5:return Ic(t.type);case 16:return Ic("Lazy");case 13:return Ic("Suspense");case 19:return Ic("SuspenseList");case 0:case 2:case 15:return t=Bp(t.type,!1),t;case 11:return t=Bp(t.type.render,!1),t;case 1:return t=Bp(t.type,!0),t;default:return""}}function Gm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ba:return"Fragment";case Ua:return"Portal";case qm:return"Profiler";case C_:return"StrictMode";case Hm:return"Suspense";case Wm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case rT:return(t.displayName||"Context")+".Consumer";case nT:return(t._context.displayName||"Context")+".Provider";case P_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R_:return e=t.displayName||null,e!==null?e:Gm(t.type)||"Memo";case Ri:e=t._payload,t=t._init;try{return Gm(t(e))}catch{}}return null}function vC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gm(e);case 8:return e===C_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ro(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function iT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function yC(t){var e=iT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Od(t){t._valueTracker||(t._valueTracker=yC(t))}function oT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=iT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Rh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Km(t,e){var n=e.checked;return yt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ow(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ro(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function aT(t,e){e=e.checked,e!=null&&k_(t,"checked",e,!1)}function Qm(t,e){aT(t,e);var n=ro(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ym(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ym(t,e.type,ro(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function aw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ym(t,e,n){(e!=="number"||Rh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var xc=Array.isArray;function tl(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ro(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Jm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return yt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(X(92));if(xc(n)){if(1<n.length)throw Error(X(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ro(n)}}function lT(t,e){var n=ro(e.value),r=ro(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function cw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function cT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?cT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Nd,uT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Nd=Nd||document.createElement("div"),Nd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Nd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function iu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Mc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wC=["Webkit","ms","Moz","O"];Object.keys(Mc).forEach(function(t){wC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Mc[e]=Mc[t]})});function dT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Mc.hasOwnProperty(t)&&Mc[t]?(""+e).trim():e+"px"}function hT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=dT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var bC=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zm(t,e){if(e){if(bC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function eg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tg=null;function j_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ng=null,nl=null,rl=null;function uw(t){if(t=$u(t)){if(typeof ng!="function")throw Error(X(280));var e=t.stateNode;e&&(e=jf(e),ng(t.stateNode,t.type,e))}}function fT(t){nl?rl?rl.push(t):rl=[t]:nl=t}function pT(){if(nl){var t=nl,e=rl;if(rl=nl=null,uw(t),e)for(t=0;t<e.length;t++)uw(e[t])}}function mT(t,e){return t(e)}function gT(){}var zp=!1;function _T(t,e,n){if(zp)return t(e,n);zp=!0;try{return mT(t,e,n)}finally{zp=!1,(nl!==null||rl!==null)&&(gT(),pT())}}function ou(t,e){var n=t.stateNode;if(n===null)return null;var r=jf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(X(231,e,typeof n));return n}var rg=!1;if(ei)try{var hc={};Object.defineProperty(hc,"passive",{get:function(){rg=!0}}),window.addEventListener("test",hc,hc),window.removeEventListener("test",hc,hc)}catch{rg=!1}function EC(t,e,n,r,s,i,o,l,a){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Vc=!1,jh=null,Oh=!1,sg=null,TC={onError:function(t){Vc=!0,jh=t}};function SC(t,e,n,r,s,i,o,l,a){Vc=!1,jh=null,EC.apply(TC,arguments)}function IC(t,e,n,r,s,i,o,l,a){if(SC.apply(this,arguments),Vc){if(Vc){var c=jh;Vc=!1,jh=null}else throw Error(X(198));Oh||(Oh=!0,sg=c)}}function fa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function vT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function dw(t){if(fa(t)!==t)throw Error(X(188))}function xC(t){var e=t.alternate;if(!e){if(e=fa(t),e===null)throw Error(X(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return dw(s),t;if(i===r)return dw(s),e;i=i.sibling}throw Error(X(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?t:e}function yT(t){return t=xC(t),t!==null?wT(t):null}function wT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=wT(t);if(e!==null)return e;t=t.sibling}return null}var bT=ir.unstable_scheduleCallback,hw=ir.unstable_cancelCallback,AC=ir.unstable_shouldYield,kC=ir.unstable_requestPaint,At=ir.unstable_now,CC=ir.unstable_getCurrentPriorityLevel,O_=ir.unstable_ImmediatePriority,ET=ir.unstable_UserBlockingPriority,Nh=ir.unstable_NormalPriority,PC=ir.unstable_LowPriority,TT=ir.unstable_IdlePriority,kf=null,_s=null;function RC(t){if(_s&&typeof _s.onCommitFiberRoot=="function")try{_s.onCommitFiberRoot(kf,t,void 0,(t.current.flags&128)===128)}catch{}}var Jr=Math.clz32?Math.clz32:NC,jC=Math.log,OC=Math.LN2;function NC(t){return t>>>=0,t===0?32:31-(jC(t)/OC|0)|0}var Dd=64,Ld=4194304;function Ac(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Dh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Ac(l):(i&=o,i!==0&&(r=Ac(i)))}else o=n&~s,o!==0?r=Ac(o):i!==0&&(r=Ac(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Jr(e),s=1<<n,r|=t[n],e&=~s;return r}function DC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function LC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Jr(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=DC(l,e)):a<=e&&(t.expiredLanes|=l),i&=~l}}function ig(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ST(){var t=Dd;return Dd<<=1,!(Dd&4194240)&&(Dd=64),t}function qp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Vu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Jr(e),t[e]=n}function MC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Jr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function N_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Jr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Qe=0;function IT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var xT,D_,AT,kT,CT,og=!1,Md=[],Wi=null,Gi=null,Ki=null,au=new Map,lu=new Map,Ni=[],VC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fw(t,e){switch(t){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":Gi=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":au.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":lu.delete(e.pointerId)}}function fc(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=$u(e),e!==null&&D_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function FC(t,e,n,r,s){switch(e){case"focusin":return Wi=fc(Wi,t,e,n,r,s),!0;case"dragenter":return Gi=fc(Gi,t,e,n,r,s),!0;case"mouseover":return Ki=fc(Ki,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return au.set(i,fc(au.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,lu.set(i,fc(lu.get(i)||null,t,e,n,r,s)),!0}return!1}function PT(t){var e=Vo(t.target);if(e!==null){var n=fa(e);if(n!==null){if(e=n.tag,e===13){if(e=vT(n),e!==null){t.blockedOn=e,CT(t.priority,function(){AT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ch(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ag(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);tg=r,n.target.dispatchEvent(r),tg=null}else return e=$u(n),e!==null&&D_(e),t.blockedOn=n,!1;e.shift()}return!0}function pw(t,e,n){ch(t)&&n.delete(e)}function $C(){og=!1,Wi!==null&&ch(Wi)&&(Wi=null),Gi!==null&&ch(Gi)&&(Gi=null),Ki!==null&&ch(Ki)&&(Ki=null),au.forEach(pw),lu.forEach(pw)}function pc(t,e){t.blockedOn===e&&(t.blockedOn=null,og||(og=!0,ir.unstable_scheduleCallback(ir.unstable_NormalPriority,$C)))}function cu(t){function e(s){return pc(s,t)}if(0<Md.length){pc(Md[0],t);for(var n=1;n<Md.length;n++){var r=Md[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Wi!==null&&pc(Wi,t),Gi!==null&&pc(Gi,t),Ki!==null&&pc(Ki,t),au.forEach(e),lu.forEach(e),n=0;n<Ni.length;n++)r=Ni[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ni.length&&(n=Ni[0],n.blockedOn===null);)PT(n),n.blockedOn===null&&Ni.shift()}var sl=hi.ReactCurrentBatchConfig,Lh=!0;function UC(t,e,n,r){var s=Qe,i=sl.transition;sl.transition=null;try{Qe=1,L_(t,e,n,r)}finally{Qe=s,sl.transition=i}}function BC(t,e,n,r){var s=Qe,i=sl.transition;sl.transition=null;try{Qe=4,L_(t,e,n,r)}finally{Qe=s,sl.transition=i}}function L_(t,e,n,r){if(Lh){var s=ag(t,e,n,r);if(s===null)em(t,e,r,Mh,n),fw(t,r);else if(FC(s,t,e,n,r))r.stopPropagation();else if(fw(t,r),e&4&&-1<VC.indexOf(t)){for(;s!==null;){var i=$u(s);if(i!==null&&xT(i),i=ag(t,e,n,r),i===null&&em(t,e,r,Mh,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else em(t,e,r,null,n)}}var Mh=null;function ag(t,e,n,r){if(Mh=null,t=j_(r),t=Vo(t),t!==null)if(e=fa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=vT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Mh=t,null}function RT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(CC()){case O_:return 1;case ET:return 4;case Nh:case PC:return 16;case TT:return 536870912;default:return 16}default:return 16}}var Bi=null,M_=null,uh=null;function jT(){if(uh)return uh;var t,e=M_,n=e.length,r,s="value"in Bi?Bi.value:Bi.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return uh=s.slice(t,1<r?1-r:void 0)}function dh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Vd(){return!0}function mw(){return!1}function ur(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Vd:mw,this.isPropagationStopped=mw,this}return yt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vd)},persist:function(){},isPersistent:Vd}),e}var Dl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},V_=ur(Dl),Fu=yt({},Dl,{view:0,detail:0}),zC=ur(Fu),Hp,Wp,mc,Cf=yt({},Fu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:F_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==mc&&(mc&&t.type==="mousemove"?(Hp=t.screenX-mc.screenX,Wp=t.screenY-mc.screenY):Wp=Hp=0,mc=t),Hp)},movementY:function(t){return"movementY"in t?t.movementY:Wp}}),gw=ur(Cf),qC=yt({},Cf,{dataTransfer:0}),HC=ur(qC),WC=yt({},Fu,{relatedTarget:0}),Gp=ur(WC),GC=yt({},Dl,{animationName:0,elapsedTime:0,pseudoElement:0}),KC=ur(GC),QC=yt({},Dl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),YC=ur(QC),JC=yt({},Dl,{data:0}),_w=ur(JC),XC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ZC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=eP[t])?!!e[t]:!1}function F_(){return tP}var nP=yt({},Fu,{key:function(t){if(t.key){var e=XC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=dh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ZC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:F_,charCode:function(t){return t.type==="keypress"?dh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?dh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),rP=ur(nP),sP=yt({},Cf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vw=ur(sP),iP=yt({},Fu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:F_}),oP=ur(iP),aP=yt({},Dl,{propertyName:0,elapsedTime:0,pseudoElement:0}),lP=ur(aP),cP=yt({},Cf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),uP=ur(cP),dP=[9,13,27,32],$_=ei&&"CompositionEvent"in window,Fc=null;ei&&"documentMode"in document&&(Fc=document.documentMode);var hP=ei&&"TextEvent"in window&&!Fc,OT=ei&&(!$_||Fc&&8<Fc&&11>=Fc),yw=" ",ww=!1;function NT(t,e){switch(t){case"keyup":return dP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var za=!1;function fP(t,e){switch(t){case"compositionend":return DT(e);case"keypress":return e.which!==32?null:(ww=!0,yw);case"textInput":return t=e.data,t===yw&&ww?null:t;default:return null}}function pP(t,e){if(za)return t==="compositionend"||!$_&&NT(t,e)?(t=jT(),uh=M_=Bi=null,za=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return OT&&e.locale!=="ko"?null:e.data;default:return null}}var mP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!mP[t.type]:e==="textarea"}function LT(t,e,n,r){fT(r),e=Vh(e,"onChange"),0<e.length&&(n=new V_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var $c=null,uu=null;function gP(t){GT(t,0)}function Pf(t){var e=Wa(t);if(oT(e))return t}function _P(t,e){if(t==="change")return e}var MT=!1;if(ei){var Kp;if(ei){var Qp="oninput"in document;if(!Qp){var Ew=document.createElement("div");Ew.setAttribute("oninput","return;"),Qp=typeof Ew.oninput=="function"}Kp=Qp}else Kp=!1;MT=Kp&&(!document.documentMode||9<document.documentMode)}function Tw(){$c&&($c.detachEvent("onpropertychange",VT),uu=$c=null)}function VT(t){if(t.propertyName==="value"&&Pf(uu)){var e=[];LT(e,uu,t,j_(t)),_T(gP,e)}}function vP(t,e,n){t==="focusin"?(Tw(),$c=e,uu=n,$c.attachEvent("onpropertychange",VT)):t==="focusout"&&Tw()}function yP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pf(uu)}function wP(t,e){if(t==="click")return Pf(e)}function bP(t,e){if(t==="input"||t==="change")return Pf(e)}function EP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Zr=typeof Object.is=="function"?Object.is:EP;function du(t,e){if(Zr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!zm.call(e,s)||!Zr(t[s],e[s]))return!1}return!0}function Sw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Iw(t,e){var n=Sw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sw(n)}}function FT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?FT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $T(){for(var t=window,e=Rh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Rh(t.document)}return e}function U_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function TP(t){var e=$T(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&FT(n.ownerDocument.documentElement,n)){if(r!==null&&U_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Iw(n,i);var o=Iw(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var SP=ei&&"documentMode"in document&&11>=document.documentMode,qa=null,lg=null,Uc=null,cg=!1;function xw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cg||qa==null||qa!==Rh(r)||(r=qa,"selectionStart"in r&&U_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Uc&&du(Uc,r)||(Uc=r,r=Vh(lg,"onSelect"),0<r.length&&(e=new V_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=qa)))}function Fd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ha={animationend:Fd("Animation","AnimationEnd"),animationiteration:Fd("Animation","AnimationIteration"),animationstart:Fd("Animation","AnimationStart"),transitionend:Fd("Transition","TransitionEnd")},Yp={},UT={};ei&&(UT=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function Rf(t){if(Yp[t])return Yp[t];if(!Ha[t])return t;var e=Ha[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in UT)return Yp[t]=e[n];return t}var BT=Rf("animationend"),zT=Rf("animationiteration"),qT=Rf("animationstart"),HT=Rf("transitionend"),WT=new Map,Aw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lo(t,e){WT.set(t,e),ha(e,[t])}for(var Jp=0;Jp<Aw.length;Jp++){var Xp=Aw[Jp],IP=Xp.toLowerCase(),xP=Xp[0].toUpperCase()+Xp.slice(1);lo(IP,"on"+xP)}lo(BT,"onAnimationEnd");lo(zT,"onAnimationIteration");lo(qT,"onAnimationStart");lo("dblclick","onDoubleClick");lo("focusin","onFocus");lo("focusout","onBlur");lo(HT,"onTransitionEnd");fl("onMouseEnter",["mouseout","mouseover"]);fl("onMouseLeave",["mouseout","mouseover"]);fl("onPointerEnter",["pointerout","pointerover"]);fl("onPointerLeave",["pointerout","pointerover"]);ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ha("onBeforeInput",["compositionend","keypress","textInput","paste"]);ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AP=new Set("cancel close invalid load scroll toggle".split(" ").concat(kc));function kw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,IC(r,e,void 0,t),t.currentTarget=null}function GT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;kw(s,l,c),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,c=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;kw(s,l,c),i=a}}}if(Oh)throw t=sg,Oh=!1,sg=null,t}function ut(t,e){var n=e[pg];n===void 0&&(n=e[pg]=new Set);var r=t+"__bubble";n.has(r)||(KT(e,t,2,!1),n.add(r))}function Zp(t,e,n){var r=0;e&&(r|=4),KT(n,t,r,e)}var $d="_reactListening"+Math.random().toString(36).slice(2);function hu(t){if(!t[$d]){t[$d]=!0,tT.forEach(function(n){n!=="selectionchange"&&(AP.has(n)||Zp(n,!1,t),Zp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$d]||(e[$d]=!0,Zp("selectionchange",!1,e))}}function KT(t,e,n,r){switch(RT(e)){case 1:var s=UC;break;case 4:s=BC;break;default:s=L_}n=s.bind(null,e,n,t),s=void 0,!rg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function em(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Vo(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}_T(function(){var c=i,d=j_(n),h=[];e:{var g=WT.get(t);if(g!==void 0){var _=V_,E=t;switch(t){case"keypress":if(dh(n)===0)break e;case"keydown":case"keyup":_=rP;break;case"focusin":E="focus",_=Gp;break;case"focusout":E="blur",_=Gp;break;case"beforeblur":case"afterblur":_=Gp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=gw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=HC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=oP;break;case BT:case zT:case qT:_=KC;break;case HT:_=lP;break;case"scroll":_=zC;break;case"wheel":_=uP;break;case"copy":case"cut":case"paste":_=YC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=vw}var S=(e&4)!==0,C=!S&&t==="scroll",I=S?g!==null?g+"Capture":null:g;S=[];for(var w=c,T;w!==null;){T=w;var O=T.stateNode;if(T.tag===5&&O!==null&&(T=O,I!==null&&(O=ou(w,I),O!=null&&S.push(fu(w,O,T)))),C)break;w=w.return}0<S.length&&(g=new _(g,E,null,n,d),h.push({event:g,listeners:S}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",g&&n!==tg&&(E=n.relatedTarget||n.fromElement)&&(Vo(E)||E[ti]))break e;if((_||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,_?(E=n.relatedTarget||n.toElement,_=c,E=E?Vo(E):null,E!==null&&(C=fa(E),E!==C||E.tag!==5&&E.tag!==6)&&(E=null)):(_=null,E=c),_!==E)){if(S=gw,O="onMouseLeave",I="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(S=vw,O="onPointerLeave",I="onPointerEnter",w="pointer"),C=_==null?g:Wa(_),T=E==null?g:Wa(E),g=new S(O,w+"leave",_,n,d),g.target=C,g.relatedTarget=T,O=null,Vo(d)===c&&(S=new S(I,w+"enter",E,n,d),S.target=T,S.relatedTarget=C,O=S),C=O,_&&E)t:{for(S=_,I=E,w=0,T=S;T;T=Pa(T))w++;for(T=0,O=I;O;O=Pa(O))T++;for(;0<w-T;)S=Pa(S),w--;for(;0<T-w;)I=Pa(I),T--;for(;w--;){if(S===I||I!==null&&S===I.alternate)break t;S=Pa(S),I=Pa(I)}S=null}else S=null;_!==null&&Cw(h,g,_,S,!1),E!==null&&C!==null&&Cw(h,C,E,S,!0)}}e:{if(g=c?Wa(c):window,_=g.nodeName&&g.nodeName.toLowerCase(),_==="select"||_==="input"&&g.type==="file")var M=_P;else if(bw(g))if(MT)M=bP;else{M=yP;var R=vP}else(_=g.nodeName)&&_.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(M=wP);if(M&&(M=M(t,c))){LT(h,M,n,d);break e}R&&R(t,g,c),t==="focusout"&&(R=g._wrapperState)&&R.controlled&&g.type==="number"&&Ym(g,"number",g.value)}switch(R=c?Wa(c):window,t){case"focusin":(bw(R)||R.contentEditable==="true")&&(qa=R,lg=c,Uc=null);break;case"focusout":Uc=lg=qa=null;break;case"mousedown":cg=!0;break;case"contextmenu":case"mouseup":case"dragend":cg=!1,xw(h,n,d);break;case"selectionchange":if(SP)break;case"keydown":case"keyup":xw(h,n,d)}var x;if($_)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else za?NT(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(OT&&n.locale!=="ko"&&(za||y!=="onCompositionStart"?y==="onCompositionEnd"&&za&&(x=jT()):(Bi=d,M_="value"in Bi?Bi.value:Bi.textContent,za=!0)),R=Vh(c,y),0<R.length&&(y=new _w(y,t,null,n,d),h.push({event:y,listeners:R}),x?y.data=x:(x=DT(n),x!==null&&(y.data=x)))),(x=hP?fP(t,n):pP(t,n))&&(c=Vh(c,"onBeforeInput"),0<c.length&&(d=new _w("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=x))}GT(h,e)})}function fu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Vh(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ou(t,n),i!=null&&r.unshift(fu(t,i,s)),i=ou(t,e),i!=null&&r.push(fu(t,i,s))),t=t.return}return r}function Pa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Cw(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&c!==null&&(l=c,s?(a=ou(n,i),a!=null&&o.unshift(fu(n,a,l))):s||(a=ou(n,i),a!=null&&o.push(fu(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var kP=/\r\n?/g,CP=/\u0000|\uFFFD/g;function Pw(t){return(typeof t=="string"?t:""+t).replace(kP,`
`).replace(CP,"")}function Ud(t,e,n){if(e=Pw(e),Pw(t)!==e&&n)throw Error(X(425))}function Fh(){}var ug=null,dg=null;function hg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fg=typeof setTimeout=="function"?setTimeout:void 0,PP=typeof clearTimeout=="function"?clearTimeout:void 0,Rw=typeof Promise=="function"?Promise:void 0,RP=typeof queueMicrotask=="function"?queueMicrotask:typeof Rw<"u"?function(t){return Rw.resolve(null).then(t).catch(jP)}:fg;function jP(t){setTimeout(function(){throw t})}function tm(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),cu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);cu(e)}function Qi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function jw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ll=Math.random().toString(36).slice(2),ms="__reactFiber$"+Ll,pu="__reactProps$"+Ll,ti="__reactContainer$"+Ll,pg="__reactEvents$"+Ll,OP="__reactListeners$"+Ll,NP="__reactHandles$"+Ll;function Vo(t){var e=t[ms];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ti]||n[ms]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=jw(t);t!==null;){if(n=t[ms])return n;t=jw(t)}return e}t=n,n=t.parentNode}return null}function $u(t){return t=t[ms]||t[ti],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Wa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function jf(t){return t[pu]||null}var mg=[],Ga=-1;function co(t){return{current:t}}function dt(t){0>Ga||(t.current=mg[Ga],mg[Ga]=null,Ga--)}function ot(t,e){Ga++,mg[Ga]=t.current,t.current=e}var so={},fn=co(so),$n=co(!1),Qo=so;function pl(t,e){var n=t.type.contextTypes;if(!n)return so;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Un(t){return t=t.childContextTypes,t!=null}function $h(){dt($n),dt(fn)}function Ow(t,e,n){if(fn.current!==so)throw Error(X(168));ot(fn,e),ot($n,n)}function QT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(X(108,vC(t)||"Unknown",s));return yt({},n,r)}function Uh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||so,Qo=fn.current,ot(fn,t),ot($n,$n.current),!0}function Nw(t,e,n){var r=t.stateNode;if(!r)throw Error(X(169));n?(t=QT(t,e,Qo),r.__reactInternalMemoizedMergedChildContext=t,dt($n),dt(fn),ot(fn,t)):dt($n),ot($n,n)}var zs=null,Of=!1,nm=!1;function YT(t){zs===null?zs=[t]:zs.push(t)}function DP(t){Of=!0,YT(t)}function uo(){if(!nm&&zs!==null){nm=!0;var t=0,e=Qe;try{var n=zs;for(Qe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}zs=null,Of=!1}catch(s){throw zs!==null&&(zs=zs.slice(t+1)),bT(O_,uo),s}finally{Qe=e,nm=!1}}return null}var Ka=[],Qa=0,Bh=null,zh=0,br=[],Er=0,Yo=null,qs=1,Hs="";function jo(t,e){Ka[Qa++]=zh,Ka[Qa++]=Bh,Bh=t,zh=e}function JT(t,e,n){br[Er++]=qs,br[Er++]=Hs,br[Er++]=Yo,Yo=t;var r=qs;t=Hs;var s=32-Jr(r)-1;r&=~(1<<s),n+=1;var i=32-Jr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,qs=1<<32-Jr(e)+s|n<<s|r,Hs=i+t}else qs=1<<i|n<<s|r,Hs=t}function B_(t){t.return!==null&&(jo(t,1),JT(t,1,0))}function z_(t){for(;t===Bh;)Bh=Ka[--Qa],Ka[Qa]=null,zh=Ka[--Qa],Ka[Qa]=null;for(;t===Yo;)Yo=br[--Er],br[Er]=null,Hs=br[--Er],br[Er]=null,qs=br[--Er],br[Er]=null}var nr=null,tr=null,pt=!1,Qr=null;function XT(t,e){var n=Sr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Dw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,nr=t,tr=Qi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,nr=t,tr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Yo!==null?{id:qs,overflow:Hs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Sr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,nr=t,tr=null,!0):!1;default:return!1}}function gg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _g(t){if(pt){var e=tr;if(e){var n=e;if(!Dw(t,e)){if(gg(t))throw Error(X(418));e=Qi(n.nextSibling);var r=nr;e&&Dw(t,e)?XT(r,n):(t.flags=t.flags&-4097|2,pt=!1,nr=t)}}else{if(gg(t))throw Error(X(418));t.flags=t.flags&-4097|2,pt=!1,nr=t}}}function Lw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;nr=t}function Bd(t){if(t!==nr)return!1;if(!pt)return Lw(t),pt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!hg(t.type,t.memoizedProps)),e&&(e=tr)){if(gg(t))throw ZT(),Error(X(418));for(;e;)XT(t,e),e=Qi(e.nextSibling)}if(Lw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){tr=Qi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}tr=null}}else tr=nr?Qi(t.stateNode.nextSibling):null;return!0}function ZT(){for(var t=tr;t;)t=Qi(t.nextSibling)}function ml(){tr=nr=null,pt=!1}function q_(t){Qr===null?Qr=[t]:Qr.push(t)}var LP=hi.ReactCurrentBatchConfig;function gc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,t))}return t}function zd(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Mw(t){var e=t._init;return e(t._payload)}function eS(t){function e(I,w){if(t){var T=I.deletions;T===null?(I.deletions=[w],I.flags|=16):T.push(w)}}function n(I,w){if(!t)return null;for(;w!==null;)e(I,w),w=w.sibling;return null}function r(I,w){for(I=new Map;w!==null;)w.key!==null?I.set(w.key,w):I.set(w.index,w),w=w.sibling;return I}function s(I,w){return I=Zi(I,w),I.index=0,I.sibling=null,I}function i(I,w,T){return I.index=T,t?(T=I.alternate,T!==null?(T=T.index,T<w?(I.flags|=2,w):T):(I.flags|=2,w)):(I.flags|=1048576,w)}function o(I){return t&&I.alternate===null&&(I.flags|=2),I}function l(I,w,T,O){return w===null||w.tag!==6?(w=cm(T,I.mode,O),w.return=I,w):(w=s(w,T),w.return=I,w)}function a(I,w,T,O){var M=T.type;return M===Ba?d(I,w,T.props.children,O,T.key):w!==null&&(w.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ri&&Mw(M)===w.type)?(O=s(w,T.props),O.ref=gc(I,w,T),O.return=I,O):(O=vh(T.type,T.key,T.props,null,I.mode,O),O.ref=gc(I,w,T),O.return=I,O)}function c(I,w,T,O){return w===null||w.tag!==4||w.stateNode.containerInfo!==T.containerInfo||w.stateNode.implementation!==T.implementation?(w=um(T,I.mode,O),w.return=I,w):(w=s(w,T.children||[]),w.return=I,w)}function d(I,w,T,O,M){return w===null||w.tag!==7?(w=Wo(T,I.mode,O,M),w.return=I,w):(w=s(w,T),w.return=I,w)}function h(I,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return w=cm(""+w,I.mode,T),w.return=I,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case jd:return T=vh(w.type,w.key,w.props,null,I.mode,T),T.ref=gc(I,null,w),T.return=I,T;case Ua:return w=um(w,I.mode,T),w.return=I,w;case Ri:var O=w._init;return h(I,O(w._payload),T)}if(xc(w)||dc(w))return w=Wo(w,I.mode,T,null),w.return=I,w;zd(I,w)}return null}function g(I,w,T,O){var M=w!==null?w.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return M!==null?null:l(I,w,""+T,O);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case jd:return T.key===M?a(I,w,T,O):null;case Ua:return T.key===M?c(I,w,T,O):null;case Ri:return M=T._init,g(I,w,M(T._payload),O)}if(xc(T)||dc(T))return M!==null?null:d(I,w,T,O,null);zd(I,T)}return null}function _(I,w,T,O,M){if(typeof O=="string"&&O!==""||typeof O=="number")return I=I.get(T)||null,l(w,I,""+O,M);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case jd:return I=I.get(O.key===null?T:O.key)||null,a(w,I,O,M);case Ua:return I=I.get(O.key===null?T:O.key)||null,c(w,I,O,M);case Ri:var R=O._init;return _(I,w,T,R(O._payload),M)}if(xc(O)||dc(O))return I=I.get(T)||null,d(w,I,O,M,null);zd(w,O)}return null}function E(I,w,T,O){for(var M=null,R=null,x=w,y=w=0,k=null;x!==null&&y<T.length;y++){x.index>y?(k=x,x=null):k=x.sibling;var A=g(I,x,T[y],O);if(A===null){x===null&&(x=k);break}t&&x&&A.alternate===null&&e(I,x),w=i(A,w,y),R===null?M=A:R.sibling=A,R=A,x=k}if(y===T.length)return n(I,x),pt&&jo(I,y),M;if(x===null){for(;y<T.length;y++)x=h(I,T[y],O),x!==null&&(w=i(x,w,y),R===null?M=x:R.sibling=x,R=x);return pt&&jo(I,y),M}for(x=r(I,x);y<T.length;y++)k=_(x,I,y,T[y],O),k!==null&&(t&&k.alternate!==null&&x.delete(k.key===null?y:k.key),w=i(k,w,y),R===null?M=k:R.sibling=k,R=k);return t&&x.forEach(function(j){return e(I,j)}),pt&&jo(I,y),M}function S(I,w,T,O){var M=dc(T);if(typeof M!="function")throw Error(X(150));if(T=M.call(T),T==null)throw Error(X(151));for(var R=M=null,x=w,y=w=0,k=null,A=T.next();x!==null&&!A.done;y++,A=T.next()){x.index>y?(k=x,x=null):k=x.sibling;var j=g(I,x,A.value,O);if(j===null){x===null&&(x=k);break}t&&x&&j.alternate===null&&e(I,x),w=i(j,w,y),R===null?M=j:R.sibling=j,R=j,x=k}if(A.done)return n(I,x),pt&&jo(I,y),M;if(x===null){for(;!A.done;y++,A=T.next())A=h(I,A.value,O),A!==null&&(w=i(A,w,y),R===null?M=A:R.sibling=A,R=A);return pt&&jo(I,y),M}for(x=r(I,x);!A.done;y++,A=T.next())A=_(x,I,y,A.value,O),A!==null&&(t&&A.alternate!==null&&x.delete(A.key===null?y:A.key),w=i(A,w,y),R===null?M=A:R.sibling=A,R=A);return t&&x.forEach(function(D){return e(I,D)}),pt&&jo(I,y),M}function C(I,w,T,O){if(typeof T=="object"&&T!==null&&T.type===Ba&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case jd:e:{for(var M=T.key,R=w;R!==null;){if(R.key===M){if(M=T.type,M===Ba){if(R.tag===7){n(I,R.sibling),w=s(R,T.props.children),w.return=I,I=w;break e}}else if(R.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ri&&Mw(M)===R.type){n(I,R.sibling),w=s(R,T.props),w.ref=gc(I,R,T),w.return=I,I=w;break e}n(I,R);break}else e(I,R);R=R.sibling}T.type===Ba?(w=Wo(T.props.children,I.mode,O,T.key),w.return=I,I=w):(O=vh(T.type,T.key,T.props,null,I.mode,O),O.ref=gc(I,w,T),O.return=I,I=O)}return o(I);case Ua:e:{for(R=T.key;w!==null;){if(w.key===R)if(w.tag===4&&w.stateNode.containerInfo===T.containerInfo&&w.stateNode.implementation===T.implementation){n(I,w.sibling),w=s(w,T.children||[]),w.return=I,I=w;break e}else{n(I,w);break}else e(I,w);w=w.sibling}w=um(T,I.mode,O),w.return=I,I=w}return o(I);case Ri:return R=T._init,C(I,w,R(T._payload),O)}if(xc(T))return E(I,w,T,O);if(dc(T))return S(I,w,T,O);zd(I,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,w!==null&&w.tag===6?(n(I,w.sibling),w=s(w,T),w.return=I,I=w):(n(I,w),w=cm(T,I.mode,O),w.return=I,I=w),o(I)):n(I,w)}return C}var gl=eS(!0),tS=eS(!1),qh=co(null),Hh=null,Ya=null,H_=null;function W_(){H_=Ya=Hh=null}function G_(t){var e=qh.current;dt(qh),t._currentValue=e}function vg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function il(t,e){Hh=t,H_=Ya=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Fn=!0),t.firstContext=null)}function kr(t){var e=t._currentValue;if(H_!==t)if(t={context:t,memoizedValue:e,next:null},Ya===null){if(Hh===null)throw Error(X(308));Ya=t,Hh.dependencies={lanes:0,firstContext:t}}else Ya=Ya.next=t;return e}var Fo=null;function K_(t){Fo===null?Fo=[t]:Fo.push(t)}function nS(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,K_(e)):(n.next=s.next,s.next=n),e.interleaved=n,ni(t,r)}function ni(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ji=!1;function Q_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Js(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Yi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Be&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ni(t,n)}return s=r.interleaved,s===null?(e.next=e,K_(r)):(e.next=s.next,s.next=e),r.interleaved=e,ni(t,n)}function hh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,N_(t,n)}}function Vw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Wh(t,e,n,r){var s=t.updateQueue;ji=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,c=a.next;a.next=null,o===null?i=c:o.next=c,o=a;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=a))}if(i!==null){var h=s.baseState;o=0,d=c=a=null,l=i;do{var g=l.lane,_=l.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:_,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var E=t,S=l;switch(g=e,_=n,S.tag){case 1:if(E=S.payload,typeof E=="function"){h=E.call(_,h,g);break e}h=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=S.payload,g=typeof E=="function"?E.call(_,h,g):E,g==null)break e;h=yt({},h,g);break e;case 2:ji=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[l]:g.push(l))}else _={eventTime:_,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=_,a=h):d=d.next=_,o|=g;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;g=l,l=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(d===null&&(a=h),s.baseState=a,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Xo|=o,t.lanes=o,t.memoizedState=h}}function Fw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(X(191,s));s.call(r)}}}var Uu={},vs=co(Uu),mu=co(Uu),gu=co(Uu);function $o(t){if(t===Uu)throw Error(X(174));return t}function Y_(t,e){switch(ot(gu,e),ot(mu,t),ot(vs,Uu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Xm(e,t)}dt(vs),ot(vs,e)}function _l(){dt(vs),dt(mu),dt(gu)}function sS(t){$o(gu.current);var e=$o(vs.current),n=Xm(e,t.type);e!==n&&(ot(mu,t),ot(vs,n))}function J_(t){mu.current===t&&(dt(vs),dt(mu))}var _t=co(0);function Gh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var rm=[];function X_(){for(var t=0;t<rm.length;t++)rm[t]._workInProgressVersionPrimary=null;rm.length=0}var fh=hi.ReactCurrentDispatcher,sm=hi.ReactCurrentBatchConfig,Jo=0,vt=null,Vt=null,Ht=null,Kh=!1,Bc=!1,_u=0,MP=0;function on(){throw Error(X(321))}function Z_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Zr(t[n],e[n]))return!1;return!0}function ev(t,e,n,r,s,i){if(Jo=i,vt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fh.current=t===null||t.memoizedState===null?UP:BP,t=n(r,s),Bc){i=0;do{if(Bc=!1,_u=0,25<=i)throw Error(X(301));i+=1,Ht=Vt=null,e.updateQueue=null,fh.current=zP,t=n(r,s)}while(Bc)}if(fh.current=Qh,e=Vt!==null&&Vt.next!==null,Jo=0,Ht=Vt=vt=null,Kh=!1,e)throw Error(X(300));return t}function tv(){var t=_u!==0;return _u=0,t}function ps(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?vt.memoizedState=Ht=t:Ht=Ht.next=t,Ht}function Cr(){if(Vt===null){var t=vt.alternate;t=t!==null?t.memoizedState:null}else t=Vt.next;var e=Ht===null?vt.memoizedState:Ht.next;if(e!==null)Ht=e,Vt=t;else{if(t===null)throw Error(X(310));Vt=t,t={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Ht===null?vt.memoizedState=Ht=t:Ht=Ht.next=t}return Ht}function vu(t,e){return typeof e=="function"?e(t):e}function im(t){var e=Cr(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=Vt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,c=i;do{var d=c.lane;if((Jo&d)===d)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=h,o=r):a=a.next=h,vt.lanes|=d,Xo|=d}c=c.next}while(c!==null&&c!==i);a===null?o=r:a.next=l,Zr(r,e.memoizedState)||(Fn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,vt.lanes|=i,Xo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function om(t){var e=Cr(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Zr(i,e.memoizedState)||(Fn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function iS(){}function oS(t,e){var n=vt,r=Cr(),s=e(),i=!Zr(r.memoizedState,s);if(i&&(r.memoizedState=s,Fn=!0),r=r.queue,nv(cS.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ht!==null&&Ht.memoizedState.tag&1){if(n.flags|=2048,yu(9,lS.bind(null,n,r,s,e),void 0,null),Wt===null)throw Error(X(349));Jo&30||aS(n,e,s)}return s}function aS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function lS(t,e,n,r){e.value=n,e.getSnapshot=r,uS(e)&&dS(t)}function cS(t,e,n){return n(function(){uS(e)&&dS(t)})}function uS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Zr(t,n)}catch{return!0}}function dS(t){var e=ni(t,1);e!==null&&Xr(e,t,1,-1)}function $w(t){var e=ps();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vu,lastRenderedState:t},e.queue=t,t=t.dispatch=$P.bind(null,vt,t),[e.memoizedState,t]}function yu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function hS(){return Cr().memoizedState}function ph(t,e,n,r){var s=ps();vt.flags|=t,s.memoizedState=yu(1|e,n,void 0,r===void 0?null:r)}function Nf(t,e,n,r){var s=Cr();r=r===void 0?null:r;var i=void 0;if(Vt!==null){var o=Vt.memoizedState;if(i=o.destroy,r!==null&&Z_(r,o.deps)){s.memoizedState=yu(e,n,i,r);return}}vt.flags|=t,s.memoizedState=yu(1|e,n,i,r)}function Uw(t,e){return ph(8390656,8,t,e)}function nv(t,e){return Nf(2048,8,t,e)}function fS(t,e){return Nf(4,2,t,e)}function pS(t,e){return Nf(4,4,t,e)}function mS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function gS(t,e,n){return n=n!=null?n.concat([t]):null,Nf(4,4,mS.bind(null,e,t),n)}function rv(){}function _S(t,e){var n=Cr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Z_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function vS(t,e){var n=Cr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Z_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function yS(t,e,n){return Jo&21?(Zr(n,e)||(n=ST(),vt.lanes|=n,Xo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Fn=!0),t.memoizedState=n)}function VP(t,e){var n=Qe;Qe=n!==0&&4>n?n:4,t(!0);var r=sm.transition;sm.transition={};try{t(!1),e()}finally{Qe=n,sm.transition=r}}function wS(){return Cr().memoizedState}function FP(t,e,n){var r=Xi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bS(t))ES(e,n);else if(n=nS(t,e,n,r),n!==null){var s=In();Xr(n,t,r,s),TS(n,e,r)}}function $P(t,e,n){var r=Xi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bS(t))ES(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Zr(l,o)){var a=e.interleaved;a===null?(s.next=s,K_(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}n=nS(t,e,s,r),n!==null&&(s=In(),Xr(n,t,r,s),TS(n,e,r))}}function bS(t){var e=t.alternate;return t===vt||e!==null&&e===vt}function ES(t,e){Bc=Kh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function TS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,N_(t,n)}}var Qh={readContext:kr,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},UP={readContext:kr,useCallback:function(t,e){return ps().memoizedState=[t,e===void 0?null:e],t},useContext:kr,useEffect:Uw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ph(4194308,4,mS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ph(4194308,4,t,e)},useInsertionEffect:function(t,e){return ph(4,2,t,e)},useMemo:function(t,e){var n=ps();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ps();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=FP.bind(null,vt,t),[r.memoizedState,t]},useRef:function(t){var e=ps();return t={current:t},e.memoizedState=t},useState:$w,useDebugValue:rv,useDeferredValue:function(t){return ps().memoizedState=t},useTransition:function(){var t=$w(!1),e=t[0];return t=VP.bind(null,t[1]),ps().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=vt,s=ps();if(pt){if(n===void 0)throw Error(X(407));n=n()}else{if(n=e(),Wt===null)throw Error(X(349));Jo&30||aS(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Uw(cS.bind(null,r,i,t),[t]),r.flags|=2048,yu(9,lS.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ps(),e=Wt.identifierPrefix;if(pt){var n=Hs,r=qs;n=(r&~(1<<32-Jr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=_u++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=MP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},BP={readContext:kr,useCallback:_S,useContext:kr,useEffect:nv,useImperativeHandle:gS,useInsertionEffect:fS,useLayoutEffect:pS,useMemo:vS,useReducer:im,useRef:hS,useState:function(){return im(vu)},useDebugValue:rv,useDeferredValue:function(t){var e=Cr();return yS(e,Vt.memoizedState,t)},useTransition:function(){var t=im(vu)[0],e=Cr().memoizedState;return[t,e]},useMutableSource:iS,useSyncExternalStore:oS,useId:wS,unstable_isNewReconciler:!1},zP={readContext:kr,useCallback:_S,useContext:kr,useEffect:nv,useImperativeHandle:gS,useInsertionEffect:fS,useLayoutEffect:pS,useMemo:vS,useReducer:om,useRef:hS,useState:function(){return om(vu)},useDebugValue:rv,useDeferredValue:function(t){var e=Cr();return Vt===null?e.memoizedState=t:yS(e,Vt.memoizedState,t)},useTransition:function(){var t=om(vu)[0],e=Cr().memoizedState;return[t,e]},useMutableSource:iS,useSyncExternalStore:oS,useId:wS,unstable_isNewReconciler:!1};function Hr(t,e){if(t&&t.defaultProps){e=yt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function yg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:yt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Df={isMounted:function(t){return(t=t._reactInternals)?fa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=In(),s=Xi(t),i=Js(r,s);i.payload=e,n!=null&&(i.callback=n),e=Yi(t,i,s),e!==null&&(Xr(e,t,s,r),hh(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=In(),s=Xi(t),i=Js(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Yi(t,i,s),e!==null&&(Xr(e,t,s,r),hh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=In(),r=Xi(t),s=Js(n,r);s.tag=2,e!=null&&(s.callback=e),e=Yi(t,s,r),e!==null&&(Xr(e,t,r,n),hh(e,t,r))}};function Bw(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!du(n,r)||!du(s,i):!0}function SS(t,e,n){var r=!1,s=so,i=e.contextType;return typeof i=="object"&&i!==null?i=kr(i):(s=Un(e)?Qo:fn.current,r=e.contextTypes,i=(r=r!=null)?pl(t,s):so),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Df,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function zw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Df.enqueueReplaceState(e,e.state,null)}function wg(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Q_(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=kr(i):(i=Un(e)?Qo:fn.current,s.context=pl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(yg(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Df.enqueueReplaceState(s,s.state,null),Wh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function vl(t,e){try{var n="",r=e;do n+=_C(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function am(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function bg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var qP=typeof WeakMap=="function"?WeakMap:Map;function IS(t,e,n){n=Js(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Jh||(Jh=!0,Rg=r),bg(t,e)},n}function xS(t,e,n){n=Js(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){bg(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){bg(t,e),typeof r!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function qw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new qP;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=sR.bind(null,t,e,n),e.then(t,t))}function Hw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ww(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Js(-1,1),e.tag=2,Yi(n,e,1))),n.lanes|=1),t)}var HP=hi.ReactCurrentOwner,Fn=!1;function Sn(t,e,n,r){e.child=t===null?tS(e,null,n,r):gl(e,t.child,n,r)}function Gw(t,e,n,r,s){n=n.render;var i=e.ref;return il(e,s),r=ev(t,e,n,r,i,s),n=tv(),t!==null&&!Fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ri(t,e,s)):(pt&&n&&B_(e),e.flags|=1,Sn(t,e,r,s),e.child)}function Kw(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!dv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,AS(t,e,i,r,s)):(t=vh(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:du,n(o,r)&&t.ref===e.ref)return ri(t,e,s)}return e.flags|=1,t=Zi(i,r),t.ref=e.ref,t.return=e,e.child=t}function AS(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(du(i,r)&&t.ref===e.ref)if(Fn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Fn=!0);else return e.lanes=t.lanes,ri(t,e,s)}return Eg(t,e,n,r,s)}function kS(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(Xa,Jn),Jn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ot(Xa,Jn),Jn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ot(Xa,Jn),Jn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ot(Xa,Jn),Jn|=r;return Sn(t,e,s,n),e.child}function CS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Eg(t,e,n,r,s){var i=Un(n)?Qo:fn.current;return i=pl(e,i),il(e,s),n=ev(t,e,n,r,i,s),r=tv(),t!==null&&!Fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ri(t,e,s)):(pt&&r&&B_(e),e.flags|=1,Sn(t,e,n,s),e.child)}function Qw(t,e,n,r,s){if(Un(n)){var i=!0;Uh(e)}else i=!1;if(il(e,s),e.stateNode===null)mh(t,e),SS(e,n,r),wg(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=kr(c):(c=Un(n)?Qo:fn.current,c=pl(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==c)&&zw(e,o,r,c),ji=!1;var g=e.memoizedState;o.state=g,Wh(e,r,o,s),a=e.memoizedState,l!==r||g!==a||$n.current||ji?(typeof d=="function"&&(yg(e,n,d,r),a=e.memoizedState),(l=ji||Bw(e,n,l,r,g,a,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,rS(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:Hr(e.type,l),o.props=c,h=e.pendingProps,g=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=kr(a):(a=Un(n)?Qo:fn.current,a=pl(e,a));var _=n.getDerivedStateFromProps;(d=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||g!==a)&&zw(e,o,r,a),ji=!1,g=e.memoizedState,o.state=g,Wh(e,r,o,s);var E=e.memoizedState;l!==h||g!==E||$n.current||ji?(typeof _=="function"&&(yg(e,n,_,r),E=e.memoizedState),(c=ji||Bw(e,n,c,r,g,E,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=a,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Tg(t,e,n,r,i,s)}function Tg(t,e,n,r,s,i){CS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Nw(e,n,!1),ri(t,e,i);r=e.stateNode,HP.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=gl(e,t.child,null,i),e.child=gl(e,null,l,i)):Sn(t,e,l,i),e.memoizedState=r.state,s&&Nw(e,n,!0),e.child}function PS(t){var e=t.stateNode;e.pendingContext?Ow(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ow(t,e.context,!1),Y_(t,e.containerInfo)}function Yw(t,e,n,r,s){return ml(),q_(s),e.flags|=256,Sn(t,e,n,r),e.child}var Sg={dehydrated:null,treeContext:null,retryLane:0};function Ig(t){return{baseLanes:t,cachePool:null,transitions:null}}function RS(t,e,n){var r=e.pendingProps,s=_t.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ot(_t,s&1),t===null)return _g(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Vf(o,r,0,null),t=Wo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ig(n),e.memoizedState=Sg,t):sv(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return WP(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Zi(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Zi(l,i):(i=Wo(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Ig(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Sg,r}return i=t.child,t=i.sibling,r=Zi(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function sv(t,e){return e=Vf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function qd(t,e,n,r){return r!==null&&q_(r),gl(e,t.child,null,n),t=sv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function WP(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=am(Error(X(422))),qd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Vf({mode:"visible",children:r.children},s,0,null),i=Wo(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&gl(e,t.child,null,o),e.child.memoizedState=Ig(o),e.memoizedState=Sg,i);if(!(e.mode&1))return qd(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(X(419)),r=am(i,r,void 0),qd(t,e,o,r)}if(l=(o&t.childLanes)!==0,Fn||l){if(r=Wt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ni(t,s),Xr(r,t,s,-1))}return uv(),r=am(Error(X(421))),qd(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=iR.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,tr=Qi(s.nextSibling),nr=e,pt=!0,Qr=null,t!==null&&(br[Er++]=qs,br[Er++]=Hs,br[Er++]=Yo,qs=t.id,Hs=t.overflow,Yo=e),e=sv(e,r.children),e.flags|=4096,e)}function Jw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),vg(t.return,e,n)}function lm(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function jS(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Sn(t,e,r.children,n),r=_t.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jw(t,n,e);else if(t.tag===19)Jw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ot(_t,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Gh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),lm(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Gh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}lm(e,!0,n,null,i);break;case"together":lm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function mh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ri(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Xo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,n=Zi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Zi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function GP(t,e,n){switch(e.tag){case 3:PS(e),ml();break;case 5:sS(e);break;case 1:Un(e.type)&&Uh(e);break;case 4:Y_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ot(qh,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ot(_t,_t.current&1),e.flags|=128,null):n&e.child.childLanes?RS(t,e,n):(ot(_t,_t.current&1),t=ri(t,e,n),t!==null?t.sibling:null);ot(_t,_t.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return jS(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ot(_t,_t.current),r)break;return null;case 22:case 23:return e.lanes=0,kS(t,e,n)}return ri(t,e,n)}var OS,xg,NS,DS;OS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xg=function(){};NS=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,$o(vs.current);var i=null;switch(n){case"input":s=Km(t,s),r=Km(t,r),i=[];break;case"select":s=yt({},s,{value:void 0}),r=yt({},r,{value:void 0}),i=[];break;case"textarea":s=Jm(t,s),r=Jm(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Fh)}Zm(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(su.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var a=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(su.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&ut("scroll",t),i||l===a||(i=[])):(i=i||[]).push(c,a))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};DS=function(t,e,n,r){n!==r&&(e.flags|=4)};function _c(t,e){if(!pt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function an(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function KP(t,e,n){var r=e.pendingProps;switch(z_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(e),null;case 1:return Un(e.type)&&$h(),an(e),null;case 3:return r=e.stateNode,_l(),dt($n),dt(fn),X_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Bd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qr!==null&&(Ng(Qr),Qr=null))),xg(t,e),an(e),null;case 5:J_(e);var s=$o(gu.current);if(n=e.type,t!==null&&e.stateNode!=null)NS(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(X(166));return an(e),null}if(t=$o(vs.current),Bd(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ms]=e,r[pu]=i,t=(e.mode&1)!==0,n){case"dialog":ut("cancel",r),ut("close",r);break;case"iframe":case"object":case"embed":ut("load",r);break;case"video":case"audio":for(s=0;s<kc.length;s++)ut(kc[s],r);break;case"source":ut("error",r);break;case"img":case"image":case"link":ut("error",r),ut("load",r);break;case"details":ut("toggle",r);break;case"input":ow(r,i),ut("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ut("invalid",r);break;case"textarea":lw(r,i),ut("invalid",r)}Zm(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ud(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ud(r.textContent,l,t),s=["children",""+l]):su.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ut("scroll",r)}switch(n){case"input":Od(r),aw(r,i,!0);break;case"textarea":Od(r),cw(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Fh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=cT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ms]=e,t[pu]=r,OS(t,e,!1,!1),e.stateNode=t;e:{switch(o=eg(n,r),n){case"dialog":ut("cancel",t),ut("close",t),s=r;break;case"iframe":case"object":case"embed":ut("load",t),s=r;break;case"video":case"audio":for(s=0;s<kc.length;s++)ut(kc[s],t);s=r;break;case"source":ut("error",t),s=r;break;case"img":case"image":case"link":ut("error",t),ut("load",t),s=r;break;case"details":ut("toggle",t),s=r;break;case"input":ow(t,r),s=Km(t,r),ut("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=yt({},r,{value:void 0}),ut("invalid",t);break;case"textarea":lw(t,r),s=Jm(t,r),ut("invalid",t);break;default:s=r}Zm(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?hT(t,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&uT(t,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&iu(t,a):typeof a=="number"&&iu(t,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(su.hasOwnProperty(i)?a!=null&&i==="onScroll"&&ut("scroll",t):a!=null&&k_(t,i,a,o))}switch(n){case"input":Od(t),aw(t,r,!1);break;case"textarea":Od(t),cw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ro(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?tl(t,!!r.multiple,i,!1):r.defaultValue!=null&&tl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Fh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return an(e),null;case 6:if(t&&e.stateNode!=null)DS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(X(166));if(n=$o(gu.current),$o(vs.current),Bd(e)){if(r=e.stateNode,n=e.memoizedProps,r[ms]=e,(i=r.nodeValue!==n)&&(t=nr,t!==null))switch(t.tag){case 3:Ud(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ud(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ms]=e,e.stateNode=r}return an(e),null;case 13:if(dt(_t),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pt&&tr!==null&&e.mode&1&&!(e.flags&128))ZT(),ml(),e.flags|=98560,i=!1;else if(i=Bd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(X(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(X(317));i[ms]=e}else ml(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;an(e),i=!1}else Qr!==null&&(Ng(Qr),Qr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||_t.current&1?Ft===0&&(Ft=3):uv())),e.updateQueue!==null&&(e.flags|=4),an(e),null);case 4:return _l(),xg(t,e),t===null&&hu(e.stateNode.containerInfo),an(e),null;case 10:return G_(e.type._context),an(e),null;case 17:return Un(e.type)&&$h(),an(e),null;case 19:if(dt(_t),i=e.memoizedState,i===null)return an(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)_c(i,!1);else{if(Ft!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Gh(t),o!==null){for(e.flags|=128,_c(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ot(_t,_t.current&1|2),e.child}t=t.sibling}i.tail!==null&&At()>yl&&(e.flags|=128,r=!0,_c(i,!1),e.lanes=4194304)}else{if(!r)if(t=Gh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),_c(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!pt)return an(e),null}else 2*At()-i.renderingStartTime>yl&&n!==1073741824&&(e.flags|=128,r=!0,_c(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=At(),e.sibling=null,n=_t.current,ot(_t,r?n&1|2:n&1),e):(an(e),null);case 22:case 23:return cv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Jn&1073741824&&(an(e),e.subtreeFlags&6&&(e.flags|=8192)):an(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function QP(t,e){switch(z_(e),e.tag){case 1:return Un(e.type)&&$h(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _l(),dt($n),dt(fn),X_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return J_(e),null;case 13:if(dt(_t),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));ml()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return dt(_t),null;case 4:return _l(),null;case 10:return G_(e.type._context),null;case 22:case 23:return cv(),null;case 24:return null;default:return null}}var Hd=!1,dn=!1,YP=typeof WeakSet=="function"?WeakSet:Set,ae=null;function Ja(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Et(t,e,r)}else n.current=null}function Ag(t,e,n){try{n()}catch(r){Et(t,e,r)}}var Xw=!1;function JP(t,e){if(ug=Lh,t=$T(),U_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,c=0,d=0,h=t,g=null;t:for(;;){for(var _;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(a=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(_=h.firstChild)!==null;)g=h,h=_;for(;;){if(h===t)break t;if(g===n&&++c===s&&(l=o),g===i&&++d===r&&(a=o),(_=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=_}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(dg={focusedElem:t,selectionRange:n},Lh=!1,ae=e;ae!==null;)if(e=ae,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ae=t;else for(;ae!==null;){e=ae;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var S=E.memoizedProps,C=E.memoizedState,I=e.stateNode,w=I.getSnapshotBeforeUpdate(e.elementType===e.type?S:Hr(e.type,S),C);I.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(O){Et(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,ae=t;break}ae=e.return}return E=Xw,Xw=!1,E}function zc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ag(e,n,i)}s=s.next}while(s!==r)}}function Lf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function kg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function LS(t){var e=t.alternate;e!==null&&(t.alternate=null,LS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ms],delete e[pu],delete e[pg],delete e[OP],delete e[NP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function MS(t){return t.tag===5||t.tag===3||t.tag===4}function Zw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||MS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Fh));else if(r!==4&&(t=t.child,t!==null))for(Cg(t,e,n),t=t.sibling;t!==null;)Cg(t,e,n),t=t.sibling}function Pg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Pg(t,e,n),t=t.sibling;t!==null;)Pg(t,e,n),t=t.sibling}var Kt=null,Wr=!1;function Ai(t,e,n){for(n=n.child;n!==null;)VS(t,e,n),n=n.sibling}function VS(t,e,n){if(_s&&typeof _s.onCommitFiberUnmount=="function")try{_s.onCommitFiberUnmount(kf,n)}catch{}switch(n.tag){case 5:dn||Ja(n,e);case 6:var r=Kt,s=Wr;Kt=null,Ai(t,e,n),Kt=r,Wr=s,Kt!==null&&(Wr?(t=Kt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Kt.removeChild(n.stateNode));break;case 18:Kt!==null&&(Wr?(t=Kt,n=n.stateNode,t.nodeType===8?tm(t.parentNode,n):t.nodeType===1&&tm(t,n),cu(t)):tm(Kt,n.stateNode));break;case 4:r=Kt,s=Wr,Kt=n.stateNode.containerInfo,Wr=!0,Ai(t,e,n),Kt=r,Wr=s;break;case 0:case 11:case 14:case 15:if(!dn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ag(n,e,o),s=s.next}while(s!==r)}Ai(t,e,n);break;case 1:if(!dn&&(Ja(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Et(n,e,l)}Ai(t,e,n);break;case 21:Ai(t,e,n);break;case 22:n.mode&1?(dn=(r=dn)||n.memoizedState!==null,Ai(t,e,n),dn=r):Ai(t,e,n);break;default:Ai(t,e,n)}}function e0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new YP),e.forEach(function(r){var s=oR.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function zr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Kt=l.stateNode,Wr=!1;break e;case 3:Kt=l.stateNode.containerInfo,Wr=!0;break e;case 4:Kt=l.stateNode.containerInfo,Wr=!0;break e}l=l.return}if(Kt===null)throw Error(X(160));VS(i,o,s),Kt=null,Wr=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(c){Et(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)FS(e,t),e=e.sibling}function FS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(zr(e,t),fs(t),r&4){try{zc(3,t,t.return),Lf(3,t)}catch(S){Et(t,t.return,S)}try{zc(5,t,t.return)}catch(S){Et(t,t.return,S)}}break;case 1:zr(e,t),fs(t),r&512&&n!==null&&Ja(n,n.return);break;case 5:if(zr(e,t),fs(t),r&512&&n!==null&&Ja(n,n.return),t.flags&32){var s=t.stateNode;try{iu(s,"")}catch(S){Et(t,t.return,S)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&aT(s,i),eg(l,o);var c=eg(l,i);for(o=0;o<a.length;o+=2){var d=a[o],h=a[o+1];d==="style"?hT(s,h):d==="dangerouslySetInnerHTML"?uT(s,h):d==="children"?iu(s,h):k_(s,d,h,c)}switch(l){case"input":Qm(s,i);break;case"textarea":lT(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var _=i.value;_!=null?tl(s,!!i.multiple,_,!1):g!==!!i.multiple&&(i.defaultValue!=null?tl(s,!!i.multiple,i.defaultValue,!0):tl(s,!!i.multiple,i.multiple?[]:"",!1))}s[pu]=i}catch(S){Et(t,t.return,S)}}break;case 6:if(zr(e,t),fs(t),r&4){if(t.stateNode===null)throw Error(X(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(S){Et(t,t.return,S)}}break;case 3:if(zr(e,t),fs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{cu(e.containerInfo)}catch(S){Et(t,t.return,S)}break;case 4:zr(e,t),fs(t);break;case 13:zr(e,t),fs(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(av=At())),r&4&&e0(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(dn=(c=dn)||d,zr(e,t),dn=c):zr(e,t),fs(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(ae=t,d=t.child;d!==null;){for(h=ae=d;ae!==null;){switch(g=ae,_=g.child,g.tag){case 0:case 11:case 14:case 15:zc(4,g,g.return);break;case 1:Ja(g,g.return);var E=g.stateNode;if(typeof E.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(S){Et(r,n,S)}}break;case 5:Ja(g,g.return);break;case 22:if(g.memoizedState!==null){n0(h);continue}}_!==null?(_.return=g,ae=_):n0(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=dT("display",o))}catch(S){Et(t,t.return,S)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(S){Et(t,t.return,S)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:zr(e,t),fs(t),r&4&&e0(t);break;case 21:break;default:zr(e,t),fs(t)}}function fs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(MS(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(iu(s,""),r.flags&=-33);var i=Zw(t);Pg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Zw(t);Cg(t,l,o);break;default:throw Error(X(161))}}catch(a){Et(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function XP(t,e,n){ae=t,$S(t)}function $S(t,e,n){for(var r=(t.mode&1)!==0;ae!==null;){var s=ae,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Hd;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||dn;l=Hd;var c=dn;if(Hd=o,(dn=a)&&!c)for(ae=s;ae!==null;)o=ae,a=o.child,o.tag===22&&o.memoizedState!==null?r0(s):a!==null?(a.return=o,ae=a):r0(s);for(;i!==null;)ae=i,$S(i),i=i.sibling;ae=s,Hd=l,dn=c}t0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ae=i):t0(t)}}function t0(t){for(;ae!==null;){var e=ae;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:dn||Lf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!dn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Hr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Fw(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Fw(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&cu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}dn||e.flags&512&&kg(e)}catch(g){Et(e,e.return,g)}}if(e===t){ae=null;break}if(n=e.sibling,n!==null){n.return=e.return,ae=n;break}ae=e.return}}function n0(t){for(;ae!==null;){var e=ae;if(e===t){ae=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ae=n;break}ae=e.return}}function r0(t){for(;ae!==null;){var e=ae;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Lf(4,e)}catch(a){Et(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(a){Et(e,s,a)}}var i=e.return;try{kg(e)}catch(a){Et(e,i,a)}break;case 5:var o=e.return;try{kg(e)}catch(a){Et(e,o,a)}}}catch(a){Et(e,e.return,a)}if(e===t){ae=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ae=l;break}ae=e.return}}var ZP=Math.ceil,Yh=hi.ReactCurrentDispatcher,iv=hi.ReactCurrentOwner,Ir=hi.ReactCurrentBatchConfig,Be=0,Wt=null,Rt=null,Jt=0,Jn=0,Xa=co(0),Ft=0,wu=null,Xo=0,Mf=0,ov=0,qc=null,Mn=null,av=0,yl=1/0,Us=null,Jh=!1,Rg=null,Ji=null,Wd=!1,zi=null,Xh=0,Hc=0,jg=null,gh=-1,_h=0;function In(){return Be&6?At():gh!==-1?gh:gh=At()}function Xi(t){return t.mode&1?Be&2&&Jt!==0?Jt&-Jt:LP.transition!==null?(_h===0&&(_h=ST()),_h):(t=Qe,t!==0||(t=window.event,t=t===void 0?16:RT(t.type)),t):1}function Xr(t,e,n,r){if(50<Hc)throw Hc=0,jg=null,Error(X(185));Vu(t,n,r),(!(Be&2)||t!==Wt)&&(t===Wt&&(!(Be&2)&&(Mf|=n),Ft===4&&Di(t,Jt)),Bn(t,r),n===1&&Be===0&&!(e.mode&1)&&(yl=At()+500,Of&&uo()))}function Bn(t,e){var n=t.callbackNode;LC(t,e);var r=Dh(t,t===Wt?Jt:0);if(r===0)n!==null&&hw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&hw(n),e===1)t.tag===0?DP(s0.bind(null,t)):YT(s0.bind(null,t)),RP(function(){!(Be&6)&&uo()}),n=null;else{switch(IT(r)){case 1:n=O_;break;case 4:n=ET;break;case 16:n=Nh;break;case 536870912:n=TT;break;default:n=Nh}n=KS(n,US.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function US(t,e){if(gh=-1,_h=0,Be&6)throw Error(X(327));var n=t.callbackNode;if(ol()&&t.callbackNode!==n)return null;var r=Dh(t,t===Wt?Jt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Zh(t,r);else{e=r;var s=Be;Be|=2;var i=zS();(Wt!==t||Jt!==e)&&(Us=null,yl=At()+500,Ho(t,e));do try{nR();break}catch(l){BS(t,l)}while(!0);W_(),Yh.current=i,Be=s,Rt!==null?e=0:(Wt=null,Jt=0,e=Ft)}if(e!==0){if(e===2&&(s=ig(t),s!==0&&(r=s,e=Og(t,s))),e===1)throw n=wu,Ho(t,0),Di(t,r),Bn(t,At()),n;if(e===6)Di(t,r);else{if(s=t.current.alternate,!(r&30)&&!eR(s)&&(e=Zh(t,r),e===2&&(i=ig(t),i!==0&&(r=i,e=Og(t,i))),e===1))throw n=wu,Ho(t,0),Di(t,r),Bn(t,At()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(X(345));case 2:Oo(t,Mn,Us);break;case 3:if(Di(t,r),(r&130023424)===r&&(e=av+500-At(),10<e)){if(Dh(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){In(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=fg(Oo.bind(null,t,Mn,Us),e);break}Oo(t,Mn,Us);break;case 4:if(Di(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Jr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=At()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ZP(r/1960))-r,10<r){t.timeoutHandle=fg(Oo.bind(null,t,Mn,Us),r);break}Oo(t,Mn,Us);break;case 5:Oo(t,Mn,Us);break;default:throw Error(X(329))}}}return Bn(t,At()),t.callbackNode===n?US.bind(null,t):null}function Og(t,e){var n=qc;return t.current.memoizedState.isDehydrated&&(Ho(t,e).flags|=256),t=Zh(t,e),t!==2&&(e=Mn,Mn=n,e!==null&&Ng(e)),t}function Ng(t){Mn===null?Mn=t:Mn.push.apply(Mn,t)}function eR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Zr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Di(t,e){for(e&=~ov,e&=~Mf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Jr(e),r=1<<n;t[n]=-1,e&=~r}}function s0(t){if(Be&6)throw Error(X(327));ol();var e=Dh(t,0);if(!(e&1))return Bn(t,At()),null;var n=Zh(t,e);if(t.tag!==0&&n===2){var r=ig(t);r!==0&&(e=r,n=Og(t,r))}if(n===1)throw n=wu,Ho(t,0),Di(t,e),Bn(t,At()),n;if(n===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Oo(t,Mn,Us),Bn(t,At()),null}function lv(t,e){var n=Be;Be|=1;try{return t(e)}finally{Be=n,Be===0&&(yl=At()+500,Of&&uo())}}function Zo(t){zi!==null&&zi.tag===0&&!(Be&6)&&ol();var e=Be;Be|=1;var n=Ir.transition,r=Qe;try{if(Ir.transition=null,Qe=1,t)return t()}finally{Qe=r,Ir.transition=n,Be=e,!(Be&6)&&uo()}}function cv(){Jn=Xa.current,dt(Xa)}function Ho(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,PP(n)),Rt!==null)for(n=Rt.return;n!==null;){var r=n;switch(z_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$h();break;case 3:_l(),dt($n),dt(fn),X_();break;case 5:J_(r);break;case 4:_l();break;case 13:dt(_t);break;case 19:dt(_t);break;case 10:G_(r.type._context);break;case 22:case 23:cv()}n=n.return}if(Wt=t,Rt=t=Zi(t.current,null),Jt=Jn=e,Ft=0,wu=null,ov=Mf=Xo=0,Mn=qc=null,Fo!==null){for(e=0;e<Fo.length;e++)if(n=Fo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Fo=null}return t}function BS(t,e){do{var n=Rt;try{if(W_(),fh.current=Qh,Kh){for(var r=vt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Kh=!1}if(Jo=0,Ht=Vt=vt=null,Bc=!1,_u=0,iv.current=null,n===null||n.return===null){Ft=1,wu=e,Rt=null;break}e:{var i=t,o=n.return,l=n,a=e;if(e=Jt,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var _=Hw(o);if(_!==null){_.flags&=-257,Ww(_,o,l,i,e),_.mode&1&&qw(i,c,e),e=_,a=c;var E=e.updateQueue;if(E===null){var S=new Set;S.add(a),e.updateQueue=S}else E.add(a);break e}else{if(!(e&1)){qw(i,c,e),uv();break e}a=Error(X(426))}}else if(pt&&l.mode&1){var C=Hw(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Ww(C,o,l,i,e),q_(vl(a,l));break e}}i=a=vl(a,l),Ft!==4&&(Ft=2),qc===null?qc=[i]:qc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var I=IS(i,a,e);Vw(i,I);break e;case 1:l=a;var w=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Ji===null||!Ji.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var O=xS(i,l,e);Vw(i,O);break e}}i=i.return}while(i!==null)}HS(n)}catch(M){e=M,Rt===n&&n!==null&&(Rt=n=n.return);continue}break}while(!0)}function zS(){var t=Yh.current;return Yh.current=Qh,t===null?Qh:t}function uv(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),Wt===null||!(Xo&268435455)&&!(Mf&268435455)||Di(Wt,Jt)}function Zh(t,e){var n=Be;Be|=2;var r=zS();(Wt!==t||Jt!==e)&&(Us=null,Ho(t,e));do try{tR();break}catch(s){BS(t,s)}while(!0);if(W_(),Be=n,Yh.current=r,Rt!==null)throw Error(X(261));return Wt=null,Jt=0,Ft}function tR(){for(;Rt!==null;)qS(Rt)}function nR(){for(;Rt!==null&&!AC();)qS(Rt)}function qS(t){var e=GS(t.alternate,t,Jn);t.memoizedProps=t.pendingProps,e===null?HS(t):Rt=e,iv.current=null}function HS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=QP(n,e),n!==null){n.flags&=32767,Rt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ft=6,Rt=null;return}}else if(n=KP(n,e,Jn),n!==null){Rt=n;return}if(e=e.sibling,e!==null){Rt=e;return}Rt=e=t}while(e!==null);Ft===0&&(Ft=5)}function Oo(t,e,n){var r=Qe,s=Ir.transition;try{Ir.transition=null,Qe=1,rR(t,e,n,r)}finally{Ir.transition=s,Qe=r}return null}function rR(t,e,n,r){do ol();while(zi!==null);if(Be&6)throw Error(X(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(MC(t,i),t===Wt&&(Rt=Wt=null,Jt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wd||(Wd=!0,KS(Nh,function(){return ol(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ir.transition,Ir.transition=null;var o=Qe;Qe=1;var l=Be;Be|=4,iv.current=null,JP(t,n),FS(n,t),TP(dg),Lh=!!ug,dg=ug=null,t.current=n,XP(n),kC(),Be=l,Qe=o,Ir.transition=i}else t.current=n;if(Wd&&(Wd=!1,zi=t,Xh=s),i=t.pendingLanes,i===0&&(Ji=null),RC(n.stateNode),Bn(t,At()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Jh)throw Jh=!1,t=Rg,Rg=null,t;return Xh&1&&t.tag!==0&&ol(),i=t.pendingLanes,i&1?t===jg?Hc++:(Hc=0,jg=t):Hc=0,uo(),null}function ol(){if(zi!==null){var t=IT(Xh),e=Ir.transition,n=Qe;try{if(Ir.transition=null,Qe=16>t?16:t,zi===null)var r=!1;else{if(t=zi,zi=null,Xh=0,Be&6)throw Error(X(331));var s=Be;for(Be|=4,ae=t.current;ae!==null;){var i=ae,o=i.child;if(ae.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(ae=c;ae!==null;){var d=ae;switch(d.tag){case 0:case 11:case 15:zc(8,d,i)}var h=d.child;if(h!==null)h.return=d,ae=h;else for(;ae!==null;){d=ae;var g=d.sibling,_=d.return;if(LS(d),d===c){ae=null;break}if(g!==null){g.return=_,ae=g;break}ae=_}}}var E=i.alternate;if(E!==null){var S=E.child;if(S!==null){E.child=null;do{var C=S.sibling;S.sibling=null,S=C}while(S!==null)}}ae=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ae=o;else e:for(;ae!==null;){if(i=ae,i.flags&2048)switch(i.tag){case 0:case 11:case 15:zc(9,i,i.return)}var I=i.sibling;if(I!==null){I.return=i.return,ae=I;break e}ae=i.return}}var w=t.current;for(ae=w;ae!==null;){o=ae;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,ae=T;else e:for(o=w;ae!==null;){if(l=ae,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Lf(9,l)}}catch(M){Et(l,l.return,M)}if(l===o){ae=null;break e}var O=l.sibling;if(O!==null){O.return=l.return,ae=O;break e}ae=l.return}}if(Be=s,uo(),_s&&typeof _s.onPostCommitFiberRoot=="function")try{_s.onPostCommitFiberRoot(kf,t)}catch{}r=!0}return r}finally{Qe=n,Ir.transition=e}}return!1}function i0(t,e,n){e=vl(n,e),e=IS(t,e,1),t=Yi(t,e,1),e=In(),t!==null&&(Vu(t,1,e),Bn(t,e))}function Et(t,e,n){if(t.tag===3)i0(t,t,n);else for(;e!==null;){if(e.tag===3){i0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ji===null||!Ji.has(r))){t=vl(n,t),t=xS(e,t,1),e=Yi(e,t,1),t=In(),e!==null&&(Vu(e,1,t),Bn(e,t));break}}e=e.return}}function sR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=In(),t.pingedLanes|=t.suspendedLanes&n,Wt===t&&(Jt&n)===n&&(Ft===4||Ft===3&&(Jt&130023424)===Jt&&500>At()-av?Ho(t,0):ov|=n),Bn(t,e)}function WS(t,e){e===0&&(t.mode&1?(e=Ld,Ld<<=1,!(Ld&130023424)&&(Ld=4194304)):e=1);var n=In();t=ni(t,e),t!==null&&(Vu(t,e,n),Bn(t,n))}function iR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),WS(t,n)}function oR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(e),WS(t,n)}var GS;GS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||$n.current)Fn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Fn=!1,GP(t,e,n);Fn=!!(t.flags&131072)}else Fn=!1,pt&&e.flags&1048576&&JT(e,zh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;mh(t,e),t=e.pendingProps;var s=pl(e,fn.current);il(e,n),s=ev(null,e,r,t,s,n);var i=tv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Un(r)?(i=!0,Uh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Q_(e),s.updater=Df,e.stateNode=s,s._reactInternals=e,wg(e,r,t,n),e=Tg(null,e,r,!0,i,n)):(e.tag=0,pt&&i&&B_(e),Sn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(mh(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=lR(r),t=Hr(r,t),s){case 0:e=Eg(null,e,r,t,n);break e;case 1:e=Qw(null,e,r,t,n);break e;case 11:e=Gw(null,e,r,t,n);break e;case 14:e=Kw(null,e,r,Hr(r.type,t),n);break e}throw Error(X(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Hr(r,s),Eg(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Hr(r,s),Qw(t,e,r,s,n);case 3:e:{if(PS(e),t===null)throw Error(X(387));r=e.pendingProps,i=e.memoizedState,s=i.element,rS(t,e),Wh(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=vl(Error(X(423)),e),e=Yw(t,e,r,n,s);break e}else if(r!==s){s=vl(Error(X(424)),e),e=Yw(t,e,r,n,s);break e}else for(tr=Qi(e.stateNode.containerInfo.firstChild),nr=e,pt=!0,Qr=null,n=tS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ml(),r===s){e=ri(t,e,n);break e}Sn(t,e,r,n)}e=e.child}return e;case 5:return sS(e),t===null&&_g(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,hg(r,s)?o=null:i!==null&&hg(r,i)&&(e.flags|=32),CS(t,e),Sn(t,e,o,n),e.child;case 6:return t===null&&_g(e),null;case 13:return RS(t,e,n);case 4:return Y_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=gl(e,null,r,n):Sn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Hr(r,s),Gw(t,e,r,s,n);case 7:return Sn(t,e,e.pendingProps,n),e.child;case 8:return Sn(t,e,e.pendingProps.children,n),e.child;case 12:return Sn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ot(qh,r._currentValue),r._currentValue=o,i!==null)if(Zr(i.value,o)){if(i.children===s.children&&!$n.current){e=ri(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=Js(-1,n&-n),a.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?a.next=a:(a.next=d.next,d.next=a),c.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),vg(i.return,n,e),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(X(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),vg(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Sn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,il(e,n),s=kr(s),r=r(s),e.flags|=1,Sn(t,e,r,n),e.child;case 14:return r=e.type,s=Hr(r,e.pendingProps),s=Hr(r.type,s),Kw(t,e,r,s,n);case 15:return AS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Hr(r,s),mh(t,e),e.tag=1,Un(r)?(t=!0,Uh(e)):t=!1,il(e,n),SS(e,r,s),wg(e,r,s,n),Tg(null,e,r,!0,t,n);case 19:return jS(t,e,n);case 22:return kS(t,e,n)}throw Error(X(156,e.tag))};function KS(t,e){return bT(t,e)}function aR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sr(t,e,n,r){return new aR(t,e,n,r)}function dv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function lR(t){if(typeof t=="function")return dv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===P_)return 11;if(t===R_)return 14}return 2}function Zi(t,e){var n=t.alternate;return n===null?(n=Sr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function vh(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")dv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ba:return Wo(n.children,s,i,e);case C_:o=8,s|=8;break;case qm:return t=Sr(12,n,e,s|2),t.elementType=qm,t.lanes=i,t;case Hm:return t=Sr(13,n,e,s),t.elementType=Hm,t.lanes=i,t;case Wm:return t=Sr(19,n,e,s),t.elementType=Wm,t.lanes=i,t;case sT:return Vf(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nT:o=10;break e;case rT:o=9;break e;case P_:o=11;break e;case R_:o=14;break e;case Ri:o=16,r=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=Sr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Wo(t,e,n,r){return t=Sr(7,t,r,e),t.lanes=n,t}function Vf(t,e,n,r){return t=Sr(22,t,r,e),t.elementType=sT,t.lanes=n,t.stateNode={isHidden:!1},t}function cm(t,e,n){return t=Sr(6,t,null,e),t.lanes=n,t}function um(t,e,n){return e=Sr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function cR(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qp(0),this.expirationTimes=qp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function hv(t,e,n,r,s,i,o,l,a){return t=new cR(t,e,n,l,a),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Sr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Q_(i),t}function uR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ua,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function QS(t){if(!t)return so;t=t._reactInternals;e:{if(fa(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Un(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var n=t.type;if(Un(n))return QT(t,n,e)}return e}function YS(t,e,n,r,s,i,o,l,a){return t=hv(n,r,!0,t,s,i,o,l,a),t.context=QS(null),n=t.current,r=In(),s=Xi(n),i=Js(r,s),i.callback=e??null,Yi(n,i,s),t.current.lanes=s,Vu(t,s,r),Bn(t,r),t}function Ff(t,e,n,r){var s=e.current,i=In(),o=Xi(s);return n=QS(n),e.context===null?e.context=n:e.pendingContext=n,e=Js(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Yi(s,e,o),t!==null&&(Xr(t,s,o,i),hh(t,s,o)),o}function ef(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function o0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function fv(t,e){o0(t,e),(t=t.alternate)&&o0(t,e)}function dR(){return null}var JS=typeof reportError=="function"?reportError:function(t){console.error(t)};function pv(t){this._internalRoot=t}$f.prototype.render=pv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));Ff(t,e,null,null)};$f.prototype.unmount=pv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zo(function(){Ff(null,t,null,null)}),e[ti]=null}};function $f(t){this._internalRoot=t}$f.prototype.unstable_scheduleHydration=function(t){if(t){var e=kT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ni.length&&e!==0&&e<Ni[n].priority;n++);Ni.splice(n,0,t),n===0&&PT(t)}};function mv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Uf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function a0(){}function hR(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=ef(o);i.call(c)}}var o=YS(e,r,t,0,null,!1,!1,"",a0);return t._reactRootContainer=o,t[ti]=o.current,hu(t.nodeType===8?t.parentNode:t),Zo(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=ef(a);l.call(c)}}var a=hv(t,0,!1,null,null,!1,!1,"",a0);return t._reactRootContainer=a,t[ti]=a.current,hu(t.nodeType===8?t.parentNode:t),Zo(function(){Ff(e,a,n,r)}),a}function Bf(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=ef(o);l.call(a)}}Ff(e,o,t,s)}else o=hR(n,e,t,s,r);return ef(o)}xT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ac(e.pendingLanes);n!==0&&(N_(e,n|1),Bn(e,At()),!(Be&6)&&(yl=At()+500,uo()))}break;case 13:Zo(function(){var r=ni(t,1);if(r!==null){var s=In();Xr(r,t,1,s)}}),fv(t,1)}};D_=function(t){if(t.tag===13){var e=ni(t,134217728);if(e!==null){var n=In();Xr(e,t,134217728,n)}fv(t,134217728)}};AT=function(t){if(t.tag===13){var e=Xi(t),n=ni(t,e);if(n!==null){var r=In();Xr(n,t,e,r)}fv(t,e)}};kT=function(){return Qe};CT=function(t,e){var n=Qe;try{return Qe=t,e()}finally{Qe=n}};ng=function(t,e,n){switch(e){case"input":if(Qm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=jf(r);if(!s)throw Error(X(90));oT(r),Qm(r,s)}}}break;case"textarea":lT(t,n);break;case"select":e=n.value,e!=null&&tl(t,!!n.multiple,e,!1)}};mT=lv;gT=Zo;var fR={usingClientEntryPoint:!1,Events:[$u,Wa,jf,fT,pT,lv]},vc={findFiberByHostInstance:Vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pR={bundleType:vc.bundleType,version:vc.version,rendererPackageName:vc.rendererPackageName,rendererConfig:vc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yT(t),t===null?null:t.stateNode},findFiberByHostInstance:vc.findFiberByHostInstance||dR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gd.isDisabled&&Gd.supportsFiber)try{kf=Gd.inject(pR),_s=Gd}catch{}}cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fR;cr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mv(e))throw Error(X(200));return uR(t,e,null,n)};cr.createRoot=function(t,e){if(!mv(t))throw Error(X(299));var n=!1,r="",s=JS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=hv(t,1,!1,null,null,n,!1,r,s),t[ti]=e.current,hu(t.nodeType===8?t.parentNode:t),new pv(e)};cr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=yT(e),t=t===null?null:t.stateNode,t};cr.flushSync=function(t){return Zo(t)};cr.hydrate=function(t,e,n){if(!Uf(e))throw Error(X(200));return Bf(null,t,e,!0,n)};cr.hydrateRoot=function(t,e,n){if(!mv(t))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=JS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=YS(e,null,t,1,n??null,s,!1,i,o),t[ti]=e.current,hu(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new $f(e)};cr.render=function(t,e,n){if(!Uf(e))throw Error(X(200));return Bf(null,t,e,!1,n)};cr.unmountComponentAtNode=function(t){if(!Uf(t))throw Error(X(40));return t._reactRootContainer?(Zo(function(){Bf(null,null,t,!1,function(){t._reactRootContainer=null,t[ti]=null})}),!0):!1};cr.unstable_batchedUpdates=lv;cr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Uf(n))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return Bf(t,e,n,!1,r)};cr.version="18.3.1-next-f1338f8080-20240426";function XS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(XS)}catch(t){console.error(t)}}XS(),XE.exports=cr;var gv=XE.exports;const mR=FE(gv),gR=VE({__proto__:null,default:mR},[gv]);var l0=gv;Bm.createRoot=l0.createRoot,Bm.hydrateRoot=l0.hydrateRoot;var c0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},_R=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],a=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},eI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,a=s+2<t.length,c=a?t[s+2]:0,d=i>>2,h=(i&3)<<4|l>>4;let g=(l&15)<<2|c>>6,_=c&63;a||(_=64,o||(g=64)),r.push(n[d],n[h],n[g],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ZS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_R(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||c==null||h==null)throw new vR;const g=i<<2|l>>4;if(r.push(g),c!==64){const _=l<<4&240|c>>2;if(r.push(_),h!==64){const E=c<<6&192|h;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class vR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yR=function(t){const e=ZS(t);return eI.encodeByteArray(e,!0)},tf=function(t){return yR(t).replace(/\./g,"")},tI=function(t){try{return eI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=()=>wR().__FIREBASE_DEFAULTS__,ER=()=>{if(typeof process>"u"||typeof c0>"u")return;const t=c0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},TR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&tI(t[1]);return e&&JSON.parse(e)},zf=()=>{try{return bR()||ER()||TR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},nI=t=>{var e,n;return(n=(e=zf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},SR=t=>{const e=nI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},rI=()=>{var t;return(t=zf())===null||t===void 0?void 0:t.config},sI=t=>{var e;return(e=zf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IR=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[tf(JSON.stringify(n)),tf(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function kR(){var t;const e=(t=zf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function CR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PR(){const t=pn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function RR(){return!kR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oI(){try{return typeof indexedDB=="object"}catch{return!1}}function aI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function jR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR="FirebaseError";class ss extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=OR,Object.setPrototypeOf(this,ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pa.prototype.create)}}class pa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?NR(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new ss(s,l,r)}}function NR(t,e){return t.replace(DR,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const DR=/\{\$([^}]+)}/g;function LR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function bu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(u0(i)&&u0(o)){if(!bu(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function u0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Cc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Pc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function MR(t,e){const n=new VR(t,e);return n.subscribe.bind(n)}class VR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");FR(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=dm),s.error===void 0&&(s.error=dm),s.complete===void 0&&(s.complete=dm);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function dm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=1e3,UR=2,BR=4*60*60*1e3,zR=.5;function d0(t,e=$R,n=UR){const r=e*Math.pow(n,t),s=Math.round(zR*r*(Math.random()-.5)*2);return Math.min(BR,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(t){return t&&t._delegate?t._delegate:t}class es{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new IR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WR(e))try{this.getOrInitializeService({instanceIdentifier:No})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=No){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=No){return this.instances.has(e)}getOptions(e=No){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:HR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=No){return this.component?this.component.multipleInstances?e:No:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HR(t){return t===No?void 0:t}function WR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ve||(Ve={}));const KR={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},QR=Ve.INFO,YR={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},JR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=YR[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qf{constructor(e){this.name=e,this._logLevel=QR,this._logHandler=JR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const XR=(t,e)=>e.some(n=>t instanceof n);let h0,f0;function ZR(){return h0||(h0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ej(){return f0||(f0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lI=new WeakMap,Dg=new WeakMap,cI=new WeakMap,hm=new WeakMap,_v=new WeakMap;function tj(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(eo(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&lI.set(n,t)}).catch(()=>{}),_v.set(e,t),e}function nj(t){if(Dg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Dg.set(t,e)}let Lg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Dg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return eo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rj(t){Lg=t(Lg)}function sj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(fm(this),e,...n);return cI.set(r,e.sort?e.sort():[e]),eo(r)}:ej().includes(t)?function(...e){return t.apply(fm(this),e),eo(lI.get(this))}:function(...e){return eo(t.apply(fm(this),e))}}function ij(t){return typeof t=="function"?sj(t):(t instanceof IDBTransaction&&nj(t),XR(t,ZR())?new Proxy(t,Lg):t)}function eo(t){if(t instanceof IDBRequest)return tj(t);if(hm.has(t))return hm.get(t);const e=ij(t);return e!==t&&(hm.set(t,e),_v.set(e,t)),e}const fm=t=>_v.get(t);function uI(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=eo(o);return r&&o.addEventListener("upgradeneeded",a=>{r(eo(o.result),a.oldVersion,a.newVersion,eo(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{i&&a.addEventListener("close",()=>i()),s&&a.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const oj=["get","getKey","getAll","getAllKeys","count"],aj=["put","add","delete","clear"],pm=new Map;function p0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pm.get(e))return pm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=aj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||oj.includes(n)))return;const i=async function(o,...l){const a=this.transaction(o,s?"readwrite":"readonly");let c=a.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),s&&a.done]))[0]};return pm.set(e,i),i}rj(t=>({...t,get:(e,n,r)=>p0(e,n)||t.get(e,n,r),has:(e,n)=>!!p0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function cj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mg="@firebase/app",m0="0.10.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=new qf("@firebase/app"),uj="@firebase/app-compat",dj="@firebase/analytics-compat",hj="@firebase/analytics",fj="@firebase/app-check-compat",pj="@firebase/app-check",mj="@firebase/auth",gj="@firebase/auth-compat",_j="@firebase/database",vj="@firebase/database-compat",yj="@firebase/functions",wj="@firebase/functions-compat",bj="@firebase/installations",Ej="@firebase/installations-compat",Tj="@firebase/messaging",Sj="@firebase/messaging-compat",Ij="@firebase/performance",xj="@firebase/performance-compat",Aj="@firebase/remote-config",kj="@firebase/remote-config-compat",Cj="@firebase/storage",Pj="@firebase/storage-compat",Rj="@firebase/firestore",jj="@firebase/vertexai-preview",Oj="@firebase/firestore-compat",Nj="firebase",Dj="10.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg="[DEFAULT]",Lj={[Mg]:"fire-core",[uj]:"fire-core-compat",[hj]:"fire-analytics",[dj]:"fire-analytics-compat",[pj]:"fire-app-check",[fj]:"fire-app-check-compat",[mj]:"fire-auth",[gj]:"fire-auth-compat",[_j]:"fire-rtdb",[vj]:"fire-rtdb-compat",[yj]:"fire-fn",[wj]:"fire-fn-compat",[bj]:"fire-iid",[Ej]:"fire-iid-compat",[Tj]:"fire-fcm",[Sj]:"fire-fcm-compat",[Ij]:"fire-perf",[xj]:"fire-perf-compat",[Aj]:"fire-rc",[kj]:"fire-rc-compat",[Cj]:"fire-gcs",[Pj]:"fire-gcs-compat",[Rj]:"fire-fst",[Oj]:"fire-fst-compat",[jj]:"fire-vertex","fire-js":"fire-js",[Nj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf=new Map,Mj=new Map,Fg=new Map;function g0(t,e){try{t.container.addComponent(e)}catch(n){si.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function As(t){const e=t.name;if(Fg.has(e))return si.debug(`There were multiple attempts to register component ${e}.`),!1;Fg.set(e,t);for(const n of nf.values())g0(n,t);for(const n of Mj.values())g0(n,t);return!0}function ma(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function gs(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},to=new pa("app","Firebase",Vj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new es("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw to.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=Dj;function dI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Vg,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw to.create("bad-app-name",{appName:String(s)});if(n||(n=rI()),!n)throw to.create("no-options");const i=nf.get(s);if(i){if(bu(n,i.options)&&bu(r,i.config))return i;throw to.create("duplicate-app",{appName:s})}const o=new GR(s);for(const a of Fg.values())o.addComponent(a);const l=new Fj(n,r,o);return nf.set(s,l),l}function vv(t=Vg){const e=nf.get(t);if(!e&&t===Vg&&rI())return dI();if(!e)throw to.create("no-app",{appName:t});return e}function xr(t,e,n){var r;let s=(r=Lj[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),si.warn(l.join(" "));return}As(new es(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j="firebase-heartbeat-database",Uj=1,Eu="firebase-heartbeat-store";let mm=null;function hI(){return mm||(mm=uI($j,Uj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Eu)}catch(n){console.warn(n)}}}}).catch(t=>{throw to.create("idb-open",{originalErrorMessage:t.message})})),mm}async function Bj(t){try{const n=(await hI()).transaction(Eu),r=await n.objectStore(Eu).get(fI(t));return await n.done,r}catch(e){if(e instanceof ss)si.warn(e.message);else{const n=to.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});si.warn(n.message)}}}async function _0(t,e){try{const r=(await hI()).transaction(Eu,"readwrite");await r.objectStore(Eu).put(e,fI(t)),await r.done}catch(n){if(n instanceof ss)si.warn(n.message);else{const r=to.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});si.warn(r.message)}}}function fI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj=1024,qj=30*24*60*60*1e3;class Hj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Gj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=v0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=qj}),this._storage.overwrite(this._heartbeatsCache))}catch(r){si.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=v0(),{heartbeatsToSend:r,unsentEntries:s}=Wj(this._heartbeatsCache.heartbeats),i=tf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return si.warn(n),""}}}function v0(){return new Date().toISOString().substring(0,10)}function Wj(t,e=zj){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),y0(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),y0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Gj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oI()?aI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Bj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return _0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return _0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function y0(t){return tf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kj(t){As(new es("platform-logger",e=>new lj(e),"PRIVATE")),As(new es("heartbeat",e=>new Hj(e),"PRIVATE")),xr(Mg,m0,t),xr(Mg,m0,"esm2017"),xr("fire-js","")}Kj("");function yv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function pI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Qj=pI,mI=new pa("auth","Firebase",pI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf=new qf("@firebase/auth");function Yj(t,...e){rf.logLevel<=Ve.WARN&&rf.warn(`Auth (${Ml}): ${t}`,...e)}function yh(t,...e){rf.logLevel<=Ve.ERROR&&rf.error(`Auth (${Ml}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(t,...e){throw wv(t,...e)}function ys(t,...e){return wv(t,...e)}function gI(t,e,n){const r=Object.assign(Object.assign({},Qj()),{[e]:n});return new pa("auth","Firebase",r).create(e,{appName:t.name})}function Xs(t){return gI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return mI.create(t,...e)}function ye(t,e,...n){if(!t)throw wv(e,...n)}function Ws(t){const e="INTERNAL ASSERTION FAILED: "+t;throw yh(e),new Error(e)}function ii(t,e){t||Ws(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Jj(){return w0()==="http:"||w0()==="https:"}function w0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Jj()||iI()||"connection"in navigator)?navigator.onLine:!0}function Zj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ii(n>e,"Short delay should be less than long delay!"),this.isMobile=AR()||CR()}get(){return Xj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(t,e){ii(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ws("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ws("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ws("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=new zu(3e4,6e4);function ho(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function fo(t,e,n,r,s={}){return vI(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=Bu(Object.assign({key:t.config.apiKey},o)).slice(1),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/json",t.languageCode&&(a["X-Firebase-Locale"]=t.languageCode),_I.fetch()(yI(t,t.config.apiHost,n,l),Object.assign({method:e,headers:a,referrerPolicy:"no-referrer"},i))})}async function vI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},eO),e);try{const s=new rO(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Kd(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[a,c]=l.split(" : ");if(a==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kd(t,"credential-already-in-use",o);if(a==="EMAIL_EXISTS")throw Kd(t,"email-already-in-use",o);if(a==="USER_DISABLED")throw Kd(t,"user-disabled",o);const d=r[a]||a.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw gI(t,d,c);ts(t,d)}}catch(s){if(s instanceof ss)throw s;ts(t,"network-request-failed",{message:String(s)})}}async function qu(t,e,n,r,s={}){const i=await fo(t,e,n,r,s);return"mfaPendingCredential"in i&&ts(t,"multi-factor-auth-required",{_serverResponse:i}),i}function yI(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?bv(t.config,s):`${t.config.apiScheme}://${s}`}function nO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ys(this.auth,"network-request-failed")),tO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=ys(t,e,r);return s.customData._tokenResponse=n,s}function b0(t){return t!==void 0&&t.enterprise!==void 0}class sO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return nO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function iO(t,e){return fo(t,"GET","/v2/recaptchaConfig",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oO(t,e){return fo(t,"POST","/v1/accounts:delete",e)}async function wI(t,e){return fo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function aO(t,e=!1){const n=en(t),r=await n.getIdToken(e),s=Ev(r);ye(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Wc(gm(s.auth_time)),issuedAtTime:Wc(gm(s.iat)),expirationTime:Wc(gm(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function gm(t){return Number(t)*1e3}function Ev(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return yh("JWT malformed, contained fewer than 3 sections"),null;try{const s=tI(n);return s?JSON.parse(s):(yh("Failed to decode base64 JWT payload"),null)}catch(s){return yh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function E0(t){const e=Ev(t);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ss&&lO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function lO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wc(this.lastLoginAt),this.creationTime=Wc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sf(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Tu(t,wI(n,{idToken:r}));ye(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?bI(i.providerUserInfo):[],l=dO(t.providerData,o),a=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),d=a?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Ug(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function uO(t){const e=en(t);await sf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dO(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function bI(t){return t.map(e=>{var{providerId:n}=e,r=yv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hO(t,e){const n=await vI(t,{},async()=>{const r=Bu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=yI(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",_I.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function fO(t,e){return fo(t,"POST","/v2/accounts:revokeToken",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):E0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const n=E0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await hO(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new al;return r&&(ye(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ye(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ye(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new al,this.toJSON())}_performRefresh(){return Ws("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(t,e){ye(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Gs{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=yv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ug(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Tu(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return aO(this,e)}reload(){return uO(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Gs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await sf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gs(this.auth.app))return Promise.reject(Xs(this.auth));const e=await this.getIdToken();return await Tu(this,oO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,l,a,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(s=n.email)!==null&&s!==void 0?s:void 0,_=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,S=(l=n.tenantId)!==null&&l!==void 0?l:void 0,C=(a=n._redirectEventId)!==null&&a!==void 0?a:void 0,I=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:T,emailVerified:O,isAnonymous:M,providerData:R,stsTokenManager:x}=n;ye(T&&x,e,"internal-error");const y=al.fromJSON(this.name,x);ye(typeof T=="string",e,"internal-error"),ki(h,e.name),ki(g,e.name),ye(typeof O=="boolean",e,"internal-error"),ye(typeof M=="boolean",e,"internal-error"),ki(_,e.name),ki(E,e.name),ki(S,e.name),ki(C,e.name),ki(I,e.name),ki(w,e.name);const k=new Gs({uid:T,auth:e,email:g,emailVerified:O,displayName:h,isAnonymous:M,photoURL:E,phoneNumber:_,tenantId:S,stsTokenManager:y,createdAt:I,lastLoginAt:w});return R&&Array.isArray(R)&&(k.providerData=R.map(A=>Object.assign({},A))),C&&(k._redirectEventId=C),k}static async _fromIdTokenResponse(e,n,r=!1){const s=new al;s.updateFromServerResponse(n);const i=new Gs({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await sf(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ye(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?bI(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new al;l.updateFromIdToken(r);const a=new Gs({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Ug(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(a,c),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0=new Map;function Ks(t){ii(t instanceof Function,"Expected a class definition");let e=T0.get(t);return e?(ii(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,T0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}EI.type="NONE";const S0=EI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(t,e,n){return`firebase:${t}:${e}:${n}`}class ll{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=wh(this.userKey,s.apiKey,i),this.fullPersistenceKey=wh("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Gs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ll(Ks(S0),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Ks(S0);const o=wh(r,e.config.apiKey,e.name);let l=null;for(const c of n)try{const d=await c._get(o);if(d){const h=Gs._fromJSON(e,d);c!==i&&(l=h),i=c;break}}catch{}const a=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!a.length?new ll(i,e,r):(i=a[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new ll(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kI(e))return"Blackberry";if(CI(e))return"Webos";if(SI(e))return"Safari";if((e.includes("chrome/")||II(e))&&!e.includes("edge/"))return"Chrome";if(AI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function TI(t=pn()){return/firefox\//i.test(t)}function SI(t=pn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function II(t=pn()){return/crios\//i.test(t)}function xI(t=pn()){return/iemobile/i.test(t)}function AI(t=pn()){return/android/i.test(t)}function kI(t=pn()){return/blackberry/i.test(t)}function CI(t=pn()){return/webos/i.test(t)}function Tv(t=pn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function pO(t=pn()){var e;return Tv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function mO(){return PR()&&document.documentMode===10}function PI(t=pn()){return Tv(t)||AI(t)||CI(t)||kI(t)||/windows phone/i.test(t)||xI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(t,e=[]){let n;switch(t){case"Browser":n=I0(pn());break;case"Worker":n=`${I0(pn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ml}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const a=e(i);o(a)}catch(a){l(a)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _O(t,e={}){return fo(t,"GET","/v2/passwordPolicy",ho(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=6;class yO{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:vO,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,l;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=(n=a.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),a.isValid&&(a.isValid=(r=a.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),a.isValid&&(a.isValid=(s=a.containsLowercaseLetter)!==null&&s!==void 0?s:!0),a.isValid&&(a.isValid=(i=a.containsUppercaseLetter)!==null&&i!==void 0?i:!0),a.isValid&&(a.isValid=(o=a.containsNumericCharacter)!==null&&o!==void 0?o:!0),a.isValid&&(a.isValid=(l=a.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),a}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new x0(this),this.idTokenSubscription=new x0(this),this.beforeStateQueue=new gO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ks(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await ll.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await wI(this,{idToken:e}),r=await Gs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(gs(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,a=await this.tryRedirectSignIn(e);(!o||o===l)&&(a!=null&&a.user)&&(s=a.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Zj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gs(this.app))return Promise.reject(Xs(this));const n=e?en(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gs(this.app)?Promise.reject(Xs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gs(this.app)?Promise.reject(Xs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ks(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _O(this),n=new yO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await fO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ks(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=await ll.create(this,[Ks(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const a=e.addObserver(n,r,s);return()=>{o=!0,a()}}else{const a=e.addObserver(n);return()=>{o=!0,a()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Yj(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ga(t){return en(t)}class x0{constructor(e){this.auth=e,this.observer=null,this.addObserver=MR(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bO(t){Hf=t}function jI(t){return Hf.loadJS(t)}function EO(){return Hf.recaptchaEnterpriseScript}function TO(){return Hf.gapiScript}function SO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const IO="recaptcha-enterprise",xO="NO_RECAPTCHA";class AO{constructor(e){this.type=IO,this.auth=ga(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,l)=>{iO(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(a=>{if(a.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new sO(a);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(a=>{l(a)})})}function s(i,o,l){const a=window.grecaptcha;b0(a)?a.enterprise.ready(()=>{a.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(xO)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(l=>{if(!n&&b0(window.grecaptcha))s(l,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let a=EO();a.length!==0&&(a+=l),jI(a).then(()=>{s(l,i,o)}).catch(c=>{o(c)})}}).catch(l=>{o(l)})})}}async function A0(t,e,n,r=!1){const s=new AO(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Bg(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await A0(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await A0(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(t,e){const n=ma(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(bu(i,e??{}))return s;ts(s,"already-initialized")}return n.initialize({options:e})}function CO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ks);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function PO(t,e,n){const r=ga(t);ye(r._canInitEmulator,r,"emulator-config-failed"),ye(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=OI(e),{host:o,port:l}=RO(e),a=l===null?"":`:${l}`;r.config.emulator={url:`${i}//${o}${a}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),jO()}function OI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function RO(t){const e=OI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:k0(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:k0(o)}}}function k0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function jO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ws("not implemented")}_getIdTokenResponse(e){return Ws("not implemented")}_linkToIdToken(e,n){return Ws("not implemented")}_getReauthenticationResolver(e){return Ws("not implemented")}}async function OO(t,e){return fo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NO(t,e){return qu(t,"POST","/v1/accounts:signInWithPassword",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DO(t,e){return qu(t,"POST","/v1/accounts:signInWithEmailLink",ho(t,e))}async function LO(t,e){return qu(t,"POST","/v1/accounts:signInWithEmailLink",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su extends Sv{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Su(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Su(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bg(e,n,"signInWithPassword",NO);case"emailLink":return DO(e,{email:this._email,oobCode:this._password});default:ts(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bg(e,r,"signUpPassword",OO);case"emailLink":return LO(e,{idToken:n,email:this._email,oobCode:this._password});default:ts(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(t,e){return qu(t,"POST","/v1/accounts:signInWithIdp",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO="http://localhost";class ea extends Sv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ts("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=yv(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new ea(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return cl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,cl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,cl(e,n)}buildRequest(){const e={requestUri:MO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Bu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function FO(t){const e=Cc(Pc(t)).link,n=e?Cc(Pc(e)).deep_link_id:null,r=Cc(Pc(t)).deep_link_id;return(r?Cc(Pc(r)).link:null)||r||n||e||t}class Iv{constructor(e){var n,r,s,i,o,l;const a=Cc(Pc(e)),c=(n=a.apiKey)!==null&&n!==void 0?n:null,d=(r=a.oobCode)!==null&&r!==void 0?r:null,h=VO((s=a.mode)!==null&&s!==void 0?s:null);ye(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(i=a.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=a.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=a.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=FO(e);try{return new Iv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(){this.providerId=Vl.PROVIDER_ID}static credential(e,n){return Su._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Iv.parseLink(n);return ye(r,"argument-error"),Su._fromEmailAndCode(e,r.code,r.tenantId)}}Vl.PROVIDER_ID="password";Vl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu extends NI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Hu{constructor(){super("facebook.com")}static credential(e){return ea._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Li.credential(e.oauthAccessToken)}catch{return null}}}Li.FACEBOOK_SIGN_IN_METHOD="facebook.com";Li.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends Hu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ea._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Mi.credential(n,r)}catch{return null}}}Mi.GOOGLE_SIGN_IN_METHOD="google.com";Mi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends Hu{constructor(){super("github.com")}static credential(e){return ea._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vi.credential(e.oauthAccessToken)}catch{return null}}}Vi.GITHUB_SIGN_IN_METHOD="github.com";Vi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Hu{constructor(){super("twitter.com")}static credential(e,n){return ea._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Fi.credential(n,r)}catch{return null}}}Fi.TWITTER_SIGN_IN_METHOD="twitter.com";Fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $O(t,e){return qu(t,"POST","/v1/accounts:signUp",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Gs._fromIdTokenResponse(e,r,s),o=C0(r);return new ta({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=C0(r);return new ta({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function C0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of extends ss{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,of.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new of(e,n,r,s)}}function DI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?of._fromErrorAndOperation(t,i,e,r):i})}async function UO(t,e,n=!1){const r=await Tu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ta._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BO(t,e,n=!1){const{auth:r}=t;if(gs(r.app))return Promise.reject(Xs(r));const s="reauthenticate";try{const i=await Tu(t,DI(r,s,e,t),n);ye(i.idToken,r,"internal-error");const o=Ev(i.idToken);ye(o,r,"internal-error");const{sub:l}=o;return ye(t.uid===l,r,"user-mismatch"),ta._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&ts(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LI(t,e,n=!1){if(gs(t.app))return Promise.reject(Xs(t));const r="signIn",s=await DI(t,r,e),i=await ta._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function zO(t,e){return LI(ga(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MI(t){const e=ga(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function qO(t,e,n){if(gs(t.app))return Promise.reject(Xs(t));const r=ga(t),o=await Bg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$O).catch(a=>{throw a.code==="auth/password-does-not-meet-requirements"&&MI(t),a}),l=await ta._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function HO(t,e,n){return gs(t.app)?Promise.reject(Xs(t)):zO(en(t),Vl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&MI(t),r})}function WO(t,e,n,r){return en(t).onIdTokenChanged(e,n,r)}function GO(t,e,n){return en(t).beforeAuthStateChanged(e,n)}function VI(t,e,n,r){return en(t).onAuthStateChanged(e,n,r)}const af="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(af,"1"),this.storage.removeItem(af),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=1e3,QO=10;class $I extends FI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,a)=>{this.notifyListeners(o,a)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);mO()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,QO):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},KO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$I.type="LOCAL";const YO=$I;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI extends FI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}UI.type="SESSION";const BI=UI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Wf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async c=>c(n.origin,i)),a=await JO(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:a})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,a)=>{const c=xv("",20);s.port1.start();const d=setTimeout(()=>{a(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const g=h;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(g.data.response);break;default:clearTimeout(d),clearTimeout(i),a(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(){return window}function ZO(t){ws().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(){return typeof ws().WorkerGlobalScope<"u"&&typeof ws().importScripts=="function"}async function eN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tN(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function nN(){return zI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="firebaseLocalStorageDb",rN=1,lf="firebaseLocalStorage",HI="fbase_key";class Wu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gf(t,e){return t.transaction([lf],e?"readwrite":"readonly").objectStore(lf)}function sN(){const t=indexedDB.deleteDatabase(qI);return new Wu(t).toPromise()}function zg(){const t=indexedDB.open(qI,rN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(lf,{keyPath:HI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(lf)?e(r):(r.close(),await sN(),e(await zg()))})})}async function P0(t,e,n){const r=Gf(t,!0).put({[HI]:e,value:n});return new Wu(r).toPromise()}async function iN(t,e){const n=Gf(t,!1).get(e),r=await new Wu(n).toPromise();return r===void 0?null:r.value}function R0(t,e){const n=Gf(t,!0).delete(e);return new Wu(n).toPromise()}const oN=800,aN=3;class WI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>aN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wf._getInstance(nN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await eN(),!this.activeServiceWorker)return;this.sender=new XO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zg();return await P0(e,af,"1"),await R0(e,af),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>P0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>iN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>R0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Gf(s,!1).getAll();return new Wu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WI.type="LOCAL";const lN=WI;new zu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(t,e){return e?Ks(e):(ye(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av extends Sv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return cl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return cl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function uN(t){return LI(t.auth,new Av(t),t.bypassAuthState)}function dN(t){const{auth:e,user:n}=t;return ye(n,e,"internal-error"),BO(n,new Av(t),t.bypassAuthState)}async function hN(t){const{auth:e,user:n}=t;return ye(n,e,"internal-error"),UO(n,new Av(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const a={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(a))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uN;case"linkViaPopup":case"linkViaRedirect":return hN;case"reauthViaPopup":case"reauthViaRedirect":return dN;default:ts(this.auth,"internal-error")}}resolve(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=new zu(2e3,1e4);class Za extends GI{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Za.currentPopupAction&&Za.currentPopupAction.cancel(),Za.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){ii(this.filter.length===1,"Popup operations only handle one event");const e=xv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ys(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ys(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Za.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ys(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fN.get())};e()}}Za.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN="pendingRedirect",bh=new Map;class mN extends GI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=bh.get(this.auth._key());if(!e){try{const r=await gN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}bh.set(this.auth._key(),e)}return this.bypassAuthState||bh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gN(t,e){const n=yN(e),r=vN(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function _N(t,e){bh.set(t._key(),e)}function vN(t){return Ks(t._redirectPersistence)}function yN(t){return wh(pN,t.config.apiKey,t.name)}async function wN(t,e,n=!1){if(gs(t.app))return Promise.reject(Xs(t));const r=ga(t),s=cN(r,e),o=await new mN(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=10*60*1e3;class EN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!KI(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ys(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bN&&this.cachedEventUids.clear(),this.cachedEventUids.has(j0(e))}saveEventToCache(e){this.cachedEventUids.add(j0(e)),this.lastProcessedEventTime=Date.now()}}function j0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function KI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function TN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SN(t,e={}){return fo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xN=/^https?/;async function AN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await SN(t);for(const n of e)try{if(kN(n))return}catch{}ts(t,"unauthorized-domain")}function kN(t){const e=$g(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!xN.test(n))return!1;if(IN.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=new zu(3e4,6e4);function O0(){const t=ws().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function PN(t){return new Promise((e,n)=>{var r,s,i;function o(){O0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{O0(),n(ys(t,"network-request-failed"))},timeout:CN.get()})}if(!((s=(r=ws().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=ws().gapi)===null||i===void 0)&&i.load)o();else{const l=SO("iframefcb");return ws()[l]=()=>{gapi.load?o():n(ys(t,"network-request-failed"))},jI(`${TO()}?onload=${l}`).catch(a=>n(a))}}).catch(e=>{throw Eh=null,e})}let Eh=null;function RN(t){return Eh=Eh||PN(t),Eh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=new zu(5e3,15e3),ON="__/auth/iframe",NN="emulator/auth/iframe",DN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MN(t){const e=t.config;ye(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?bv(e,NN):`https://${t.config.authDomain}/${ON}`,r={apiKey:e.apiKey,appName:t.name,v:Ml},s=LN.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Bu(r).slice(1)}`}async function VN(t){const e=await RN(t),n=ws().gapi;return ye(n,t,"internal-error"),e.open({where:document.body,url:MN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DN,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=ys(t,"network-request-failed"),l=ws().setTimeout(()=>{i(o)},jN.get());function a(){ws().clearTimeout(l),s(r)}r.ping(a).then(a,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$N=500,UN=600,BN="_blank",zN="http://localhost";class N0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qN(t,e,n,r=$N,s=UN){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const a=Object.assign(Object.assign({},FN),{width:r.toString(),height:s.toString(),top:i,left:o}),c=pn().toLowerCase();n&&(l=II(c)?BN:n),TI(c)&&(e=e||zN,a.scrollbars="yes");const d=Object.entries(a).reduce((g,[_,E])=>`${g}${_}=${E},`,"");if(pO(c)&&l!=="_self")return HN(e||"",l),new N0(null);const h=window.open(e||"",l,d);ye(h,t,"popup-blocked");try{h.focus()}catch{}return new N0(h)}function HN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN="__/auth/handler",GN="emulator/auth/handler",KN=encodeURIComponent("fac");async function D0(t,e,n,r,s,i){ye(t.config.authDomain,t,"auth-domain-config-required"),ye(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ml,eventId:s};if(e instanceof NI){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",LR(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof Hu){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const a=await t._getAppCheckToken(),c=a?`#${KN}=${encodeURIComponent(a)}`:"";return`${QN(t)}?${Bu(l).slice(1)}${c}`}function QN({config:t}){return t.emulator?bv(t,GN):`https://${t.authDomain}/${WN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="webStorageSupport";class YN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BI,this._completeRedirectFn=wN,this._overrideRedirectResult=_N}async _openPopup(e,n,r,s){var i;ii((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await D0(e,n,r,$g(),s);return qN(e,o,xv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await D0(e,n,r,$g(),s);return ZO(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ii(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await VN(e),r=new EN(e);return n.register("authEvent",s=>(ye(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_m,{type:_m},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[_m];o!==void 0&&n(!!o),ts(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=AN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return PI()||SI()||Tv()}}const JN=YN;var L0="@firebase/auth",M0="1.7.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eD(t){As(new es("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;ye(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const a={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RI(t)},c=new wO(r,s,i,a);return CO(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),As(new es("auth-internal",e=>{const n=ga(e.getProvider("auth").getImmediate());return(r=>new XN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xr(L0,M0,ZN(t)),xr(L0,M0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=5*60,nD=sI("authIdTokenMaxAge")||tD;let V0=null;const rD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>nD)return;const s=n==null?void 0:n.token;V0!==s&&(V0=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function sD(t=vv()){const e=ma(t,"auth");if(e.isInitialized())return e.getImmediate();const n=kO(t,{popupRedirectResolver:JN,persistence:[lN,YO,BI]}),r=sI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=rD(i.toString());GO(n,o,()=>o(n.currentUser)),WO(n,l=>o(l))}}const s=nI("auth");return s&&PO(n,`http://${s}`),n}function iD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}bO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=ys("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",iD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eD("Browser");var oD="firebase",aD="10.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xr(oD,aD,"app");var F0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Go,QI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,y){function k(){}k.prototype=y.prototype,x.D=y.prototype,x.prototype=new k,x.prototype.constructor=x,x.C=function(A,j,D){for(var N=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)N[ie-2]=arguments[ie];return y.prototype[j].apply(A,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(x,y,k){k||(k=0);var A=Array(16);if(typeof y=="string")for(var j=0;16>j;++j)A[j]=y.charCodeAt(k++)|y.charCodeAt(k++)<<8|y.charCodeAt(k++)<<16|y.charCodeAt(k++)<<24;else for(j=0;16>j;++j)A[j]=y[k++]|y[k++]<<8|y[k++]<<16|y[k++]<<24;y=x.g[0],k=x.g[1],j=x.g[2];var D=x.g[3],N=y+(D^k&(j^D))+A[0]+3614090360&4294967295;y=k+(N<<7&4294967295|N>>>25),N=D+(j^y&(k^j))+A[1]+3905402710&4294967295,D=y+(N<<12&4294967295|N>>>20),N=j+(k^D&(y^k))+A[2]+606105819&4294967295,j=D+(N<<17&4294967295|N>>>15),N=k+(y^j&(D^y))+A[3]+3250441966&4294967295,k=j+(N<<22&4294967295|N>>>10),N=y+(D^k&(j^D))+A[4]+4118548399&4294967295,y=k+(N<<7&4294967295|N>>>25),N=D+(j^y&(k^j))+A[5]+1200080426&4294967295,D=y+(N<<12&4294967295|N>>>20),N=j+(k^D&(y^k))+A[6]+2821735955&4294967295,j=D+(N<<17&4294967295|N>>>15),N=k+(y^j&(D^y))+A[7]+4249261313&4294967295,k=j+(N<<22&4294967295|N>>>10),N=y+(D^k&(j^D))+A[8]+1770035416&4294967295,y=k+(N<<7&4294967295|N>>>25),N=D+(j^y&(k^j))+A[9]+2336552879&4294967295,D=y+(N<<12&4294967295|N>>>20),N=j+(k^D&(y^k))+A[10]+4294925233&4294967295,j=D+(N<<17&4294967295|N>>>15),N=k+(y^j&(D^y))+A[11]+2304563134&4294967295,k=j+(N<<22&4294967295|N>>>10),N=y+(D^k&(j^D))+A[12]+1804603682&4294967295,y=k+(N<<7&4294967295|N>>>25),N=D+(j^y&(k^j))+A[13]+4254626195&4294967295,D=y+(N<<12&4294967295|N>>>20),N=j+(k^D&(y^k))+A[14]+2792965006&4294967295,j=D+(N<<17&4294967295|N>>>15),N=k+(y^j&(D^y))+A[15]+1236535329&4294967295,k=j+(N<<22&4294967295|N>>>10),N=y+(j^D&(k^j))+A[1]+4129170786&4294967295,y=k+(N<<5&4294967295|N>>>27),N=D+(k^j&(y^k))+A[6]+3225465664&4294967295,D=y+(N<<9&4294967295|N>>>23),N=j+(y^k&(D^y))+A[11]+643717713&4294967295,j=D+(N<<14&4294967295|N>>>18),N=k+(D^y&(j^D))+A[0]+3921069994&4294967295,k=j+(N<<20&4294967295|N>>>12),N=y+(j^D&(k^j))+A[5]+3593408605&4294967295,y=k+(N<<5&4294967295|N>>>27),N=D+(k^j&(y^k))+A[10]+38016083&4294967295,D=y+(N<<9&4294967295|N>>>23),N=j+(y^k&(D^y))+A[15]+3634488961&4294967295,j=D+(N<<14&4294967295|N>>>18),N=k+(D^y&(j^D))+A[4]+3889429448&4294967295,k=j+(N<<20&4294967295|N>>>12),N=y+(j^D&(k^j))+A[9]+568446438&4294967295,y=k+(N<<5&4294967295|N>>>27),N=D+(k^j&(y^k))+A[14]+3275163606&4294967295,D=y+(N<<9&4294967295|N>>>23),N=j+(y^k&(D^y))+A[3]+4107603335&4294967295,j=D+(N<<14&4294967295|N>>>18),N=k+(D^y&(j^D))+A[8]+1163531501&4294967295,k=j+(N<<20&4294967295|N>>>12),N=y+(j^D&(k^j))+A[13]+2850285829&4294967295,y=k+(N<<5&4294967295|N>>>27),N=D+(k^j&(y^k))+A[2]+4243563512&4294967295,D=y+(N<<9&4294967295|N>>>23),N=j+(y^k&(D^y))+A[7]+1735328473&4294967295,j=D+(N<<14&4294967295|N>>>18),N=k+(D^y&(j^D))+A[12]+2368359562&4294967295,k=j+(N<<20&4294967295|N>>>12),N=y+(k^j^D)+A[5]+4294588738&4294967295,y=k+(N<<4&4294967295|N>>>28),N=D+(y^k^j)+A[8]+2272392833&4294967295,D=y+(N<<11&4294967295|N>>>21),N=j+(D^y^k)+A[11]+1839030562&4294967295,j=D+(N<<16&4294967295|N>>>16),N=k+(j^D^y)+A[14]+4259657740&4294967295,k=j+(N<<23&4294967295|N>>>9),N=y+(k^j^D)+A[1]+2763975236&4294967295,y=k+(N<<4&4294967295|N>>>28),N=D+(y^k^j)+A[4]+1272893353&4294967295,D=y+(N<<11&4294967295|N>>>21),N=j+(D^y^k)+A[7]+4139469664&4294967295,j=D+(N<<16&4294967295|N>>>16),N=k+(j^D^y)+A[10]+3200236656&4294967295,k=j+(N<<23&4294967295|N>>>9),N=y+(k^j^D)+A[13]+681279174&4294967295,y=k+(N<<4&4294967295|N>>>28),N=D+(y^k^j)+A[0]+3936430074&4294967295,D=y+(N<<11&4294967295|N>>>21),N=j+(D^y^k)+A[3]+3572445317&4294967295,j=D+(N<<16&4294967295|N>>>16),N=k+(j^D^y)+A[6]+76029189&4294967295,k=j+(N<<23&4294967295|N>>>9),N=y+(k^j^D)+A[9]+3654602809&4294967295,y=k+(N<<4&4294967295|N>>>28),N=D+(y^k^j)+A[12]+3873151461&4294967295,D=y+(N<<11&4294967295|N>>>21),N=j+(D^y^k)+A[15]+530742520&4294967295,j=D+(N<<16&4294967295|N>>>16),N=k+(j^D^y)+A[2]+3299628645&4294967295,k=j+(N<<23&4294967295|N>>>9),N=y+(j^(k|~D))+A[0]+4096336452&4294967295,y=k+(N<<6&4294967295|N>>>26),N=D+(k^(y|~j))+A[7]+1126891415&4294967295,D=y+(N<<10&4294967295|N>>>22),N=j+(y^(D|~k))+A[14]+2878612391&4294967295,j=D+(N<<15&4294967295|N>>>17),N=k+(D^(j|~y))+A[5]+4237533241&4294967295,k=j+(N<<21&4294967295|N>>>11),N=y+(j^(k|~D))+A[12]+1700485571&4294967295,y=k+(N<<6&4294967295|N>>>26),N=D+(k^(y|~j))+A[3]+2399980690&4294967295,D=y+(N<<10&4294967295|N>>>22),N=j+(y^(D|~k))+A[10]+4293915773&4294967295,j=D+(N<<15&4294967295|N>>>17),N=k+(D^(j|~y))+A[1]+2240044497&4294967295,k=j+(N<<21&4294967295|N>>>11),N=y+(j^(k|~D))+A[8]+1873313359&4294967295,y=k+(N<<6&4294967295|N>>>26),N=D+(k^(y|~j))+A[15]+4264355552&4294967295,D=y+(N<<10&4294967295|N>>>22),N=j+(y^(D|~k))+A[6]+2734768916&4294967295,j=D+(N<<15&4294967295|N>>>17),N=k+(D^(j|~y))+A[13]+1309151649&4294967295,k=j+(N<<21&4294967295|N>>>11),N=y+(j^(k|~D))+A[4]+4149444226&4294967295,y=k+(N<<6&4294967295|N>>>26),N=D+(k^(y|~j))+A[11]+3174756917&4294967295,D=y+(N<<10&4294967295|N>>>22),N=j+(y^(D|~k))+A[2]+718787259&4294967295,j=D+(N<<15&4294967295|N>>>17),N=k+(D^(j|~y))+A[9]+3951481745&4294967295,x.g[0]=x.g[0]+y&4294967295,x.g[1]=x.g[1]+(j+(N<<21&4294967295|N>>>11))&4294967295,x.g[2]=x.g[2]+j&4294967295,x.g[3]=x.g[3]+D&4294967295}r.prototype.u=function(x,y){y===void 0&&(y=x.length);for(var k=y-this.blockSize,A=this.B,j=this.h,D=0;D<y;){if(j==0)for(;D<=k;)s(this,x,D),D+=this.blockSize;if(typeof x=="string"){for(;D<y;)if(A[j++]=x.charCodeAt(D++),j==this.blockSize){s(this,A),j=0;break}}else for(;D<y;)if(A[j++]=x[D++],j==this.blockSize){s(this,A),j=0;break}}this.h=j,this.o+=y},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var y=1;y<x.length-8;++y)x[y]=0;var k=8*this.o;for(y=x.length-8;y<x.length;++y)x[y]=k&255,k/=256;for(this.u(x),x=Array(16),y=k=0;4>y;++y)for(var A=0;32>A;A+=8)x[k++]=this.g[y]>>>A&255;return x};function i(x,y){var k=l;return Object.prototype.hasOwnProperty.call(k,x)?k[x]:k[x]=y(x)}function o(x,y){this.h=y;for(var k=[],A=!0,j=x.length-1;0<=j;j--){var D=x[j]|0;A&&D==y||(k[j]=D,A=!1)}this.g=k}var l={};function a(x){return-128<=x&&128>x?i(x,function(y){return new o([y|0],0>y?-1:0)}):new o([x|0],0>x?-1:0)}function c(x){if(isNaN(x)||!isFinite(x))return h;if(0>x)return C(c(-x));for(var y=[],k=1,A=0;x>=k;A++)y[A]=x/k|0,k*=4294967296;return new o(y,0)}function d(x,y){if(x.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(x.charAt(0)=="-")return C(d(x.substring(1),y));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=c(Math.pow(y,8)),A=h,j=0;j<x.length;j+=8){var D=Math.min(8,x.length-j),N=parseInt(x.substring(j,j+D),y);8>D?(D=c(Math.pow(y,D)),A=A.j(D).add(c(N))):(A=A.j(k),A=A.add(c(N)))}return A}var h=a(0),g=a(1),_=a(16777216);t=o.prototype,t.m=function(){if(S(this))return-C(this).m();for(var x=0,y=1,k=0;k<this.g.length;k++){var A=this.i(k);x+=(0<=A?A:4294967296+A)*y,y*=4294967296}return x},t.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(E(this))return"0";if(S(this))return"-"+C(this).toString(x);for(var y=c(Math.pow(x,6)),k=this,A="";;){var j=O(k,y).g;k=I(k,j.j(y));var D=((0<k.g.length?k.g[0]:k.h)>>>0).toString(x);if(k=j,E(k))return D+A;for(;6>D.length;)D="0"+D;A=D+A}},t.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function E(x){if(x.h!=0)return!1;for(var y=0;y<x.g.length;y++)if(x.g[y]!=0)return!1;return!0}function S(x){return x.h==-1}t.l=function(x){return x=I(this,x),S(x)?-1:E(x)?0:1};function C(x){for(var y=x.g.length,k=[],A=0;A<y;A++)k[A]=~x.g[A];return new o(k,~x.h).add(g)}t.abs=function(){return S(this)?C(this):this},t.add=function(x){for(var y=Math.max(this.g.length,x.g.length),k=[],A=0,j=0;j<=y;j++){var D=A+(this.i(j)&65535)+(x.i(j)&65535),N=(D>>>16)+(this.i(j)>>>16)+(x.i(j)>>>16);A=N>>>16,D&=65535,N&=65535,k[j]=N<<16|D}return new o(k,k[k.length-1]&-2147483648?-1:0)};function I(x,y){return x.add(C(y))}t.j=function(x){if(E(this)||E(x))return h;if(S(this))return S(x)?C(this).j(C(x)):C(C(this).j(x));if(S(x))return C(this.j(C(x)));if(0>this.l(_)&&0>x.l(_))return c(this.m()*x.m());for(var y=this.g.length+x.g.length,k=[],A=0;A<2*y;A++)k[A]=0;for(A=0;A<this.g.length;A++)for(var j=0;j<x.g.length;j++){var D=this.i(A)>>>16,N=this.i(A)&65535,ie=x.i(j)>>>16,_e=x.i(j)&65535;k[2*A+2*j]+=N*_e,w(k,2*A+2*j),k[2*A+2*j+1]+=D*_e,w(k,2*A+2*j+1),k[2*A+2*j+1]+=N*ie,w(k,2*A+2*j+1),k[2*A+2*j+2]+=D*ie,w(k,2*A+2*j+2)}for(A=0;A<y;A++)k[A]=k[2*A+1]<<16|k[2*A];for(A=y;A<2*y;A++)k[A]=0;return new o(k,0)};function w(x,y){for(;(x[y]&65535)!=x[y];)x[y+1]+=x[y]>>>16,x[y]&=65535,y++}function T(x,y){this.g=x,this.h=y}function O(x,y){if(E(y))throw Error("division by zero");if(E(x))return new T(h,h);if(S(x))return y=O(C(x),y),new T(C(y.g),C(y.h));if(S(y))return y=O(x,C(y)),new T(C(y.g),y.h);if(30<x.g.length){if(S(x)||S(y))throw Error("slowDivide_ only works with positive integers.");for(var k=g,A=y;0>=A.l(x);)k=M(k),A=M(A);var j=R(k,1),D=R(A,1);for(A=R(A,2),k=R(k,2);!E(A);){var N=D.add(A);0>=N.l(x)&&(j=j.add(k),D=N),A=R(A,1),k=R(k,1)}return y=I(x,j.j(y)),new T(j,y)}for(j=h;0<=x.l(y);){for(k=Math.max(1,Math.floor(x.m()/y.m())),A=Math.ceil(Math.log(k)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),D=c(k),N=D.j(y);S(N)||0<N.l(x);)k-=A,D=c(k),N=D.j(y);E(D)&&(D=g),j=j.add(D),x=I(x,N)}return new T(j,x)}t.A=function(x){return O(this,x).h},t.and=function(x){for(var y=Math.max(this.g.length,x.g.length),k=[],A=0;A<y;A++)k[A]=this.i(A)&x.i(A);return new o(k,this.h&x.h)},t.or=function(x){for(var y=Math.max(this.g.length,x.g.length),k=[],A=0;A<y;A++)k[A]=this.i(A)|x.i(A);return new o(k,this.h|x.h)},t.xor=function(x){for(var y=Math.max(this.g.length,x.g.length),k=[],A=0;A<y;A++)k[A]=this.i(A)^x.i(A);return new o(k,this.h^x.h)};function M(x){for(var y=x.g.length+1,k=[],A=0;A<y;A++)k[A]=x.i(A)<<1|x.i(A-1)>>>31;return new o(k,x.h)}function R(x,y){var k=y>>5;y%=32;for(var A=x.g.length-k,j=[],D=0;D<A;D++)j[D]=0<y?x.i(D+k)>>>y|x.i(D+k+1)<<32-y:x.i(D+k);return new o(j,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,QI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Go=o}).apply(typeof F0<"u"?F0:typeof self<"u"?self:typeof window<"u"?window:{});var Qd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YI,JI,Rc,XI,Th,qg,ZI,ex,tx;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qd=="object"&&Qd];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function s(u,m){if(m)e:{var v=r;u=u.split(".");for(var P=0;P<u.length-1;P++){var B=u[P];if(!(B in v))break e;v=v[B]}u=u[u.length-1],P=v[u],m=m(P),m!=P&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function i(u,m){u instanceof String&&(u+="");var v=0,P=!1,B={next:function(){if(!P&&v<u.length){var H=v++;return{value:m(H,u[H]),done:!1}}return P=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}s("Array.prototype.values",function(u){return u||function(){return i(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function a(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function c(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function d(u,m,v){return u.call.apply(u.bind,arguments)}function h(u,m,v){if(!u)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,P),u.apply(m,B)}}return function(){return u.apply(m,arguments)}}function g(u,m,v){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,g.apply(null,arguments)}function _(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var P=v.slice();return P.push.apply(P,arguments),u.apply(this,P)}}function E(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(P,B,H){for(var te=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)te[Fe-2]=arguments[Fe];return m.prototype[B].apply(P,te)}}function S(u){const m=u.length;if(0<m){const v=Array(m);for(let P=0;P<m;P++)v[P]=u[P];return v}return[]}function C(u,m){for(let v=1;v<arguments.length;v++){const P=arguments[v];if(a(P)){const B=u.length||0,H=P.length||0;u.length=B+H;for(let te=0;te<H;te++)u[B+te]=P[te]}else u.push(P)}}class I{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function w(u){return/^[\s\xa0]*$/.test(u)}function T(){var u=l.navigator;return u&&(u=u.userAgent)?u:""}function O(u){return O[" "](u),u}O[" "]=function(){};var M=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function R(u,m,v){for(const P in u)m.call(v,u[P],P,u)}function x(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function y(u){const m={};for(const v in u)m[v]=u[v];return m}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(u,m){let v,P;for(let B=1;B<arguments.length;B++){P=arguments[B];for(v in P)u[v]=P[v];for(let H=0;H<k.length;H++)v=k[H],Object.prototype.hasOwnProperty.call(P,v)&&(u[v]=P[v])}}function j(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function D(u){l.setTimeout(()=>{throw u},0)}function N(){var u=Y;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ie{constructor(){this.h=this.g=null}add(m,v){const P=_e.get();P.set(m,v),this.h?this.h.next=P:this.g=P,this.h=P}}var _e=new I(()=>new ke,u=>u.reset());class ke{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,z=!1,Y=new ie,se=()=>{const u=l.Promise.resolve(void 0);ee=()=>{u.then(ve)}};var ve=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(v){D(v)}var m=_e;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}z=!1};function Te(){this.s=this.s,this.C=this.C}Te.prototype.s=!1,Te.prototype.ma=function(){this.s||(this.s=!0,this.N())},Te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var He=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};l.addEventListener("test",v,m),l.removeEventListener("test",v,m)}catch{}return u}();function Ke(u,m){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,P=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(M){e:{try{O(m.nodeName);var B=!0;break e}catch{}B=!1}B||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ze[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ke.aa.h.call(this)}}E(Ke,W);var Ze={2:"touch",3:"pen",4:"mouse"};Ke.prototype.h=function(){Ke.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var nt="closure_listenable_"+(1e6*Math.random()|0),Nt=0;function Dt(u,m,v,P,B){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!P,this.ha=B,this.key=++Nt,this.da=this.fa=!1}function hr(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function le(u){this.src=u,this.g={},this.h=0}le.prototype.add=function(u,m,v,P,B){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var te=rn(u,m,P,B);return-1<te?(m=u[te],v||(m.fa=!1)):(m=new Dt(m,this.src,H,!!P,B),m.fa=v,u.push(m)),m};function rt(u,m){var v=m.type;if(v in u.g){var P=u.g[v],B=Array.prototype.indexOf.call(P,m,void 0),H;(H=0<=B)&&Array.prototype.splice.call(P,B,1),H&&(hr(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function rn(u,m,v,P){for(var B=0;B<u.length;++B){var H=u[B];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==P)return B}return-1}var is="closure_lm_"+(1e6*Math.random()|0),Rs={};function Lt(u,m,v,P,B){if(Array.isArray(m)){for(var H=0;H<m.length;H++)Lt(u,m[H],v,P,B);return null}return v=Hn(v),u&&u[nt]?u.K(m,v,c(P)?!!P.capture:!!P,B):js(u,m,v,!1,P,B)}function js(u,m,v,P,B,H){if(!m)throw Error("Invalid event type");var te=c(B)?!!B.capture:!!B,Fe=os(u);if(Fe||(u[is]=Fe=new le(u)),v=Fe.add(m,v,P,te,H),v.proxy)return v;if(P=Pr(),v.proxy=P,P.src=u,P.listener=v,u.addEventListener)He||(B=te),B===void 0&&(B=!1),u.addEventListener(m.toString(),P,B);else if(u.attachEvent)u.attachEvent(Rr(m.toString()),P);else if(u.addListener&&u.removeListener)u.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Pr(){function u(v){return m.call(u.src,u.listener,v)}const m=mi;return u}function jn(u,m,v,P,B){if(Array.isArray(m))for(var H=0;H<m.length;H++)jn(u,m[H],v,P,B);else P=c(P)?!!P.capture:!!P,v=Hn(v),u&&u[nt]?(u=u.i,m=String(m).toString(),m in u.g&&(H=u.g[m],v=rn(H,v,P,B),-1<v&&(hr(H[v]),Array.prototype.splice.call(H,v,1),H.length==0&&(delete u.g[m],u.h--)))):u&&(u=os(u))&&(m=u.g[m.toString()],u=-1,m&&(u=rn(m,v,P,B)),(v=-1<u?m[u]:null)&&gn(v))}function gn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[nt])rt(m.i,u);else{var v=u.type,P=u.proxy;m.removeEventListener?m.removeEventListener(v,P,u.capture):m.detachEvent?m.detachEvent(Rr(v),P):m.addListener&&m.removeListener&&m.removeListener(P),(v=os(m))?(rt(v,u),v.h==0&&(v.src=null,m[is]=null)):hr(u)}}}function Rr(u){return u in Rs?Rs[u]:Rs[u]="on"+u}function mi(u,m){if(u.da)u=!0;else{m=new Ke(m,this);var v=u.listener,P=u.ha||u.src;u.fa&&gn(u),u=v.call(P,m)}return u}function os(u){return u=u[is],u instanceof le?u:null}var _n="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hn(u){return typeof u=="function"?u:(u[_n]||(u[_n]=function(m){return u.handleEvent(m)}),u[_n])}function ht(){Te.call(this),this.i=new le(this),this.M=this,this.F=null}E(ht,Te),ht.prototype[nt]=!0,ht.prototype.removeEventListener=function(u,m,v,P){jn(this,u,m,v,P)};function et(u,m){var v,P=u.F;if(P)for(v=[];P;P=P.F)v.push(P);if(u=u.M,P=m.type||m,typeof m=="string")m=new W(m,u);else if(m instanceof W)m.target=m.target||u;else{var B=m;m=new W(P,u),A(m,B)}if(B=!0,v)for(var H=v.length-1;0<=H;H--){var te=m.g=v[H];B=at(te,P,!0,m)&&B}if(te=m.g=u,B=at(te,P,!0,m)&&B,B=at(te,P,!1,m)&&B,v)for(H=0;H<v.length;H++)te=m.g=v[H],B=at(te,P,!1,m)&&B}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],P=0;P<v.length;P++)hr(v[P]);delete u.g[m],u.h--}}this.F=null},ht.prototype.K=function(u,m,v,P){return this.i.add(String(u),m,!1,v,P)},ht.prototype.L=function(u,m,v,P){return this.i.add(String(u),m,!0,v,P)};function at(u,m,v,P){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var B=!0,H=0;H<m.length;++H){var te=m[H];if(te&&!te.da&&te.capture==v){var Fe=te.listener,It=te.ha||te.src;te.fa&&rt(u.i,te),B=Fe.call(It,P)!==!1&&B}}return B&&!P.defaultPrevented}function vn(u,m,v){if(typeof u=="function")v&&(u=g(u,v));else if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:l.setTimeout(u,m||0)}function jr(u){u.g=vn(()=>{u.g=null,u.i&&(u.i=!1,jr(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Wn extends Te{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:jr(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function On(u){Te.call(this),this.h=u,this.g={}}E(On,Te);var sn=[];function _o(u){R(u.g,function(m,v){this.g.hasOwnProperty(v)&&gn(m)},u),u.g={}}On.prototype.N=function(){On.aa.N.call(this),_o(this)},On.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var as=l.JSON.stringify,Ea=l.JSON.parse,Yl=class{stringify(u){return l.JSON.stringify(u,void 0)}parse(u){return l.JSON.parse(u,void 0)}};function gi(){}gi.prototype.h=null;function Os(u){return u.h||(u.h=u.i())}function vo(){}var Or={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nr(){W.call(this,"d")}E(Nr,W);function fr(){W.call(this,"c")}E(fr,W);var pr={},_i=null;function vi(){return _i=_i||new ht}pr.La="serverreachability";function yo(u){W.call(this,pr.La,u)}E(yo,W);function mr(u){const m=vi();et(m,new yo(m))}pr.STAT_EVENT="statevent";function Ns(u,m){W.call(this,pr.STAT_EVENT,u),this.stat=m}E(Ns,W);function ft(u){const m=vi();et(m,new Ns(m,u))}pr.Ma="timingevent";function ls(u,m){W.call(this,pr.Ma,u),this.size=m}E(ls,W);function F(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){u()},m)}function U(){this.g=!0}U.prototype.xa=function(){this.g=!1};function q(u,m,v,P,B,H){u.info(function(){if(u.g)if(H)for(var te="",Fe=H.split("&"),It=0;It<Fe.length;It++){var De=Fe[It].split("=");if(1<De.length){var Ut=De[0];De=De[1];var Bt=Ut.split("_");te=2<=Bt.length&&Bt[1]=="type"?te+(Ut+"="+De+"&"):te+(Ut+"=redacted&")}}else te=null;else te=H;return"XMLHTTP REQ ("+P+") [attempt "+B+"]: "+m+`
`+v+`
`+te})}function G(u,m,v,P,B,H,te){u.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+B+"]: "+m+`
`+v+`
`+H+" "+te})}function re(u,m,v,P){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+pe(u,v)+(P?" "+P:"")})}function ce(u,m){u.info(function(){return"TIMEOUT: "+m})}U.prototype.info=function(){};function pe(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var P=v[u];if(!(2>P.length)){var B=P[1];if(Array.isArray(B)&&!(1>B.length)){var H=B[0];if(H!="noop"&&H!="stop"&&H!="close")for(var te=1;te<B.length;te++)B[te]=""}}}}return as(v)}catch{return m}}var Z={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},we={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},he;function fe(){}E(fe,gi),fe.prototype.g=function(){return new XMLHttpRequest},fe.prototype.i=function(){return{}},he=new fe;function Ce(u,m,v,P){this.j=u,this.i=m,this.l=v,this.R=P||1,this.U=new On(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pe}function Pe(){this.i=null,this.g="",this.h=!1}var Ue={},Ie={};function lt(u,m,v){u.L=1,u.v=Ds(vr(m)),u.m=v,u.P=!0,ct(u,null)}function ct(u,m){u.F=Date.now(),Gn(u),u.A=vr(u.v);var v=u.A,P=u.R;Array.isArray(P)||(P=[String(P)]),fd(v.i,"t",P),u.C=0,v=u.j.J,u.h=new Pe,u.g=ac(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Wn(g(u.Y,u,u.g),u.O)),m=u.U,v=u.g,P=u.ca;var B="readystatechange";Array.isArray(B)||(B&&(sn[0]=B.toString()),B=sn);for(var H=0;H<B.length;H++){var te=Lt(v,B[H],P||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.H?y(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),mr(),q(u.i,u.u,u.A,u.l,u.R,u.m)}Ce.prototype.ca=function(u){u=u.target;const m=this.M;m&&Fr(u)==3?m.j():this.Y(u)},Ce.prototype.Y=function(u){try{if(u==this.g)e:{const Bt=Fr(this.g);var m=this.g.Ba();const Ii=this.g.Z();if(!(3>Bt)&&(Bt!=3||this.g&&(this.h.h||this.g.oa()||yd(this.g)))){this.J||Bt!=4||m==7||(m==8||0>=Ii?mr(3):mr(2)),_r(this);var v=this.g.Z();this.X=v;t:if(Dr(this)){var P=yd(this.g);u="";var B=P.length,H=Fr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yn(this),Mt(this);var te="";break t}this.h.i=new l.TextDecoder}for(m=0;m<B;m++)this.h.h=!0,u+=this.h.i.decode(P[m],{stream:!(H&&m==B-1)});P.length=0,this.h.g+=u,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=v==200,G(this.i,this.u,this.A,this.l,this.R,Bt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,It=this.g;if((Fe=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Fe)){var De=Fe;break t}}De=null}if(v=De)re(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cs(this,v);else{this.o=!1,this.s=3,ft(12),yn(this),Mt(this);break e}}if(this.P){v=!0;let Gt;for(;!this.J&&this.C<te.length;)if(Gt=gr(this,te),Gt==Ie){Bt==4&&(this.s=4,ft(14),v=!1),re(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==Ue){this.s=4,ft(15),re(this.i,this.l,te,"[Invalid Chunk]"),v=!1;break}else re(this.i,this.l,Gt,null),cs(this,Gt);if(Dr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||te.length!=0||this.h.h||(this.s=1,ft(16),v=!1),this.o=this.o&&v,!v)re(this.i,this.l,te,"[Invalid Chunked Response]"),yn(this),Mt(this);else if(0<te.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),ic(Ut),Ut.M=!0,ft(11))}}else re(this.i,this.l,te,null),cs(this,te);Bt==4&&yn(this),this.o&&!this.J&&(Bt==4?Sd(this.j,this):(this.o=!1,Gn(this)))}else Op(this.g),v==400&&0<te.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),yn(this),Mt(this)}}}catch{}finally{}};function Dr(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function gr(u,m){var v=u.C,P=m.indexOf(`
`,v);return P==-1?Ie:(v=Number(m.substring(v,P)),isNaN(v)?Ue:(P+=1,P+v>m.length?Ie:(m=m.slice(P,P+v),u.C=P+v,m)))}Ce.prototype.cancel=function(){this.J=!0,yn(this)};function Gn(u){u.S=Date.now()+u.I,Lr(u,u.I)}function Lr(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=F(g(u.ba,u),m)}function _r(u){u.B&&(l.clearTimeout(u.B),u.B=null)}Ce.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ce(this.i,this.A),this.L!=2&&(mr(),ft(17)),yn(this),this.s=2,Mt(this)):Lr(this,this.S-u)};function Mt(u){u.j.G==0||u.J||Sd(u.j,u)}function yn(u){_r(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,_o(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function cs(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||We(v.h,u))){if(!u.K&&We(v.h,u)&&v.G==3){try{var P=v.Da.g.parse(m)}catch{P=null}if(Array.isArray(P)&&P.length==3){var B=P;if(B[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Ca(v),Aa(v);else break e;sc(v),ft(18)}}else v.za=B[1],0<v.za-v.T&&37500>B[2]&&v.F&&v.v==0&&!v.C&&(v.C=F(g(v.Za,v),6e3));if(1>=St(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else $r(v,11)}else if((u.K||v.g==u)&&Ca(v),!w(m))for(B=v.Da.g.parse(m),m=0;m<B.length;m++){let De=B[m];if(v.T=De[0],De=De[1],v.G==2)if(De[0]=="c"){v.K=De[1],v.ia=De[2];const Ut=De[3];Ut!=null&&(v.la=Ut,v.j.info("VER="+v.la));const Bt=De[4];Bt!=null&&(v.Aa=Bt,v.j.info("SVER="+v.Aa));const Ii=De[5];Ii!=null&&typeof Ii=="number"&&0<Ii&&(P=1.5*Ii,v.L=P,v.j.info("backChannelRequestTimeoutMs_="+P)),P=v;const Gt=u.g;if(Gt){const wr=Gt.g?Gt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wr){var H=P.h;H.g||wr.indexOf("spdy")==-1&&wr.indexOf("quic")==-1&&wr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(wn(H,H.h),H.h=null))}if(P.D){const lc=Gt.g?Gt.g.getResponseHeader("X-HTTP-Session-Id"):null;lc&&(P.ya=lc,Ye(P.I,P.D,lc))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),P=v;var te=u;if(P.qa=oc(P,P.J?P.ia:null,P.W),te.K){wo(P.h,te);var Fe=te,It=P.L;It&&(Fe.I=It),Fe.B&&(_r(Fe),Gn(Fe)),P.g=te}else Ed(P);0<v.i.length&&ka(v)}else De[0]!="stop"&&De[0]!="close"||$r(v,7);else v.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?$r(v,7):rc(v):De[0]!="noop"&&v.l&&v.l.ta(De),v.v=0)}}mr(4)}catch{}}var Kn=class{constructor(u,m){this.g=u,this.map=m}};function ge(u){this.l=u||10,l.PerformanceNavigationTiming?(u=l.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function tt(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function St(u){return u.h?1:u.g?u.g.size:0}function We(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function wn(u,m){u.g?u.g.add(m):u.h=m}function wo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ge.prototype.cancel=function(){if(this.i=Ta(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ta(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return S(u.i)}function Ap(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(a(u)){for(var m=[],v=u.length,P=0;P<v;P++)m.push(u[P]);return m}m=[],v=0;for(P in u)m[v++]=u[P];return m}function kp(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(a(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const P in u)m[v++]=P;return m}}}function id(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(a(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=kp(u),P=Ap(u),B=P.length,H=0;H<B;H++)m.call(void 0,P[H],v&&v[H],u)}var od=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qn(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var P=u[v].indexOf("="),B=null;if(0<=P){var H=u[v].substring(0,P);B=u[v].substring(P+1)}else H=u[v];m(H,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function us(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof us){this.h=u.h,bo(this,u.j),this.o=u.o,this.g=u.g,Sa(this,u.s),this.l=u.l;var m=u.i,v=new ds;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),ad(this,v),this.m=u.m}else u&&(m=String(u).match(od))?(this.h=!1,bo(this,m[1]||"",!0),this.o=Eo(m[2]||""),this.g=Eo(m[3]||"",!0),Sa(this,m[4]),this.l=Eo(m[5]||"",!0),ad(this,m[6]||"",!0),this.m=Eo(m[7]||"")):(this.h=!1,this.i=new ds(null,this.h))}us.prototype.toString=function(){var u=[],m=this.j;m&&u.push(To(m,cd,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(To(m,cd,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(To(v,v.charAt(0)=="/"?ud:Cp,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",To(v,hd)),u.join("")};function vr(u){return new us(u)}function bo(u,m,v){u.j=v?Eo(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Sa(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function ad(u,m,v){m instanceof ds?(u.i=m,pd(u.i,u.h)):(v||(m=To(m,dd)),u.i=new ds(m,u.h))}function Ye(u,m,v){u.i.set(m,v)}function Ds(u){return Ye(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Eo(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function To(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,ld),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ld(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var cd=/[#\/\?@]/g,Cp=/[#\?:]/g,ud=/[#\?]/g,dd=/[#\?@]/g,hd=/#/g;function ds(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Mr(u){u.g||(u.g=new Map,u.h=0,u.i&&Qn(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}t=ds.prototype,t.add=function(u,m){Mr(this),this.i=null,u=yi(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Ia(u,m){Mr(u),m=yi(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function bn(u,m){return Mr(u),m=yi(u,m),u.g.has(m)}t.forEach=function(u,m){Mr(this),this.g.forEach(function(v,P){v.forEach(function(B){u.call(m,B,P,this)},this)},this)},t.na=function(){Mr(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let P=0;P<m.length;P++){const B=u[P];for(let H=0;H<B.length;H++)v.push(m[P])}return v},t.V=function(u){Mr(this);let m=[];if(typeof u=="string")bn(this,u)&&(m=m.concat(this.g.get(yi(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},t.set=function(u,m){return Mr(this),this.i=null,u=yi(this,u),bn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function fd(u,m,v){Ia(u,m),0<v.length&&(u.i=null,u.g.set(yi(u,m),S(v)),u.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var P=m[v];const H=encodeURIComponent(String(P)),te=this.V(P);for(P=0;P<te.length;P++){var B=H;te[P]!==""&&(B+="="+encodeURIComponent(String(te[P]))),u.push(B)}}return this.i=u.join("&")};function yi(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function pd(u,m){m&&!u.j&&(Mr(u),u.i=null,u.g.forEach(function(v,P){var B=P.toLowerCase();P!=B&&(Ia(this,P),fd(this,B,v))},u)),u.j=m}function md(u,m){const v=new U;if(l.Image){const P=new Image;P.onload=_(hs,v,"TestLoadImage: loaded",!0,m,P),P.onerror=_(hs,v,"TestLoadImage: error",!1,m,P),P.onabort=_(hs,v,"TestLoadImage: abort",!1,m,P),P.ontimeout=_(hs,v,"TestLoadImage: timeout",!1,m,P),l.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=u}else m(!1)}function Pp(u,m){const v=new U,P=new AbortController,B=setTimeout(()=>{P.abort(),hs(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:P.signal}).then(H=>{clearTimeout(B),H.ok?hs(v,"TestPingServer: ok",!0,m):hs(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(B),hs(v,"TestPingServer: error",!1,m)})}function hs(u,m,v,P,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),P(v)}catch{}}function Rp(){this.g=new Yl}function jp(u,m,v){const P=v||"";try{id(u,function(B,H){let te=B;c(B)&&(te=as(B)),m.push(P+H+"="+encodeURIComponent(te))})}catch(B){throw m.push(P+"type="+encodeURIComponent("_badmap")),B}}function So(u){this.l=u.Ub||null,this.j=u.eb||!1}E(So,gi),So.prototype.g=function(){return new xa(this.l,this.j)},So.prototype.i=function(u){return function(){return u}}({});function xa(u,m){ht.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(xa,ht),t=xa.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Ls(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||l).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wi(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ls(this)),this.g&&(this.readyState=3,Ls(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Jl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?wi(this):Ls(this),this.readyState==3&&Jl(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,wi(this))},t.Qa=function(u){this.g&&(this.response=u,wi(this))},t.ga=function(){this.g&&wi(this)};function wi(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ls(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Ls(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(xa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function gd(u){let m="";return R(u,function(v,P){m+=P,m+=":",m+=v,m+=`\r
`}),m}function Xl(u,m,v){e:{for(P in v){var P=!1;break e}P=!0}P||(v=gd(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Ye(u,m,v))}function Ge(u){ht.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Ge,ht);var Vr=/^https?$/i,_d=["POST","PUT"];t=Ge.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,v,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():he.g(),this.v=this.o?Os(this.o):Os(he),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){vd(this,H);return}if(u=v||"",v=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var B in P)v.set(B,P[B]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const H of P.keys())v.set(H,P.get(H));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),B=l.FormData&&u instanceof l.FormData,!(0<=Array.prototype.indexOf.call(_d,m,void 0))||P||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,te]of v)this.g.setRequestHeader(H,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tc(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){vd(this,H)}};function vd(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Zl(u),Io(u)}function Zl(u){u.A||(u.A=!0,et(u,"complete"),et(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,et(this,"complete"),et(this,"abort"),Io(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Io(this,!0)),Ge.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ec(this):this.bb())},t.bb=function(){ec(this)};function ec(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Fr(u)!=4||u.Z()!=2)){if(u.u&&Fr(u)==4)vn(u.Ea,0,u);else if(et(u,"readystatechange"),Fr(u)==4){u.h=!1;try{const te=u.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var P;if(P=te===0){var B=String(u.D).match(od)[1]||null;!B&&l.self&&l.self.location&&(B=l.self.location.protocol.slice(0,-1)),P=!Vr.test(B?B.toLowerCase():"")}v=P}if(v)et(u,"complete"),et(u,"success");else{u.m=6;try{var H=2<Fr(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",Zl(u)}}finally{Io(u)}}}}function Io(u,m){if(u.g){tc(u);const v=u.g,P=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||et(u,"ready");try{v.onreadystatechange=P}catch{}}}function tc(u){u.I&&(l.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Fr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Fr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ea(m)}};function yd(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Op(u){const m={};u=(u.g&&2<=Fr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<u.length;P++){if(w(u[P]))continue;var v=j(u[P]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[B]||[];m[B]=H,H.push(v)}x(m,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function nc(u){this.Aa=0,this.i=[],this.j=new U,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bi("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bi("baseRetryDelayMs",5e3,u),this.cb=bi("retryDelaySeedMs",1e4,u),this.Wa=bi("forwardChannelMaxRetries",2,u),this.wa=bi("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ge(u&&u.concurrentRequestLimit),this.Da=new Rp,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=nc.prototype,t.la=8,t.G=1,t.connect=function(u,m,v,P){ft(0),this.W=u,this.H=m||{},v&&P!==void 0&&(this.H.OSID=v,this.H.OAID=P),this.F=this.X,this.I=oc(this,null,this.W),ka(this)};function rc(u){if(wd(u),u.G==3){var m=u.U++,v=vr(u.I);if(Ye(v,"SID",u.K),Ye(v,"RID",m),Ye(v,"TYPE","terminate"),Ei(u,v),m=new Ce(u,u.j,m),m.L=2,m.v=Ds(vr(v)),v=!1,l.navigator&&l.navigator.sendBeacon)try{v=l.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&l.Image&&(new Image().src=m.v,v=!0),v||(m.g=ac(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Gn(m)}xo(u)}function Aa(u){u.g&&(ic(u),u.g.cancel(),u.g=null)}function wd(u){Aa(u),u.u&&(l.clearTimeout(u.u),u.u=null),Ca(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&l.clearTimeout(u.s),u.s=null)}function ka(u){if(!tt(u.h)&&!u.s){u.s=!0;var m=u.Ga;ee||se(),z||(ee(),z=!0),Y.add(m,u),u.B=0}}function Np(u,m){return St(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=F(g(u.Ga,u,m),Id(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const B=new Ce(this,this.j,u);let H=this.o;if(this.S&&(H?(H=y(H),A(H,this.S)):H=this.S),this.m!==null||this.O||(B.H=H,H=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var P=this.i[v];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(m+=P,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=bd(this,B,m),v=vr(this.I),Ye(v,"RID",u),Ye(v,"CVER",22),this.D&&Ye(v,"X-HTTP-Session-Id",this.D),Ei(this,v),H&&(this.O?m="headers="+encodeURIComponent(String(gd(H)))+"&"+m:this.m&&Xl(v,this.m,H)),wn(this.h,B),this.Ua&&Ye(v,"TYPE","init"),this.P?(Ye(v,"$req",m),Ye(v,"SID","null"),B.T=!0,lt(B,v,null)):lt(B,v,m),this.G=2}}else this.G==3&&(u?yr(this,u):this.i.length==0||tt(this.h)||yr(this))};function yr(u,m){var v;m?v=m.l:v=u.U++;const P=vr(u.I);Ye(P,"SID",u.K),Ye(P,"RID",v),Ye(P,"AID",u.T),Ei(u,P),u.m&&u.o&&Xl(P,u.m,u.o),v=new Ce(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=bd(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),wn(u.h,v),lt(v,P,m)}function Ei(u,m){u.H&&R(u.H,function(v,P){Ye(m,P,v)}),u.l&&id({},function(v,P){Ye(m,P,v)})}function bd(u,m,v){v=Math.min(u.i.length,v);var P=u.l?g(u.l.Na,u.l,u):null;e:{var B=u.i;let H=-1;for(;;){const te=["count="+v];H==-1?0<v?(H=B[0].g,te.push("ofs="+H)):H=0:te.push("ofs="+H);let Fe=!0;for(let It=0;It<v;It++){let De=B[It].g;const Ut=B[It].map;if(De-=H,0>De)H=Math.max(0,B[It].g-100),Fe=!1;else try{jp(Ut,te,"req"+De+"_")}catch{P&&P(Ut)}}if(Fe){P=te.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,P}function Ed(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;ee||se(),z||(ee(),z=!0),Y.add(m,u),u.v=0}}function sc(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=F(g(u.Fa,u),Id(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Td(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=F(g(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),Aa(this),Td(this))};function ic(u){u.A!=null&&(l.clearTimeout(u.A),u.A=null)}function Td(u){u.g=new Ce(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=vr(u.qa);Ye(m,"RID","rpc"),Ye(m,"SID",u.K),Ye(m,"AID",u.T),Ye(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ye(m,"TO",u.ja),Ye(m,"TYPE","xmlhttp"),Ei(u,m),u.m&&u.o&&Xl(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Ds(vr(m)),v.m=null,v.P=!0,ct(v,u)}t.Za=function(){this.C!=null&&(this.C=null,Aa(this),sc(this),ft(19))};function Ca(u){u.C!=null&&(l.clearTimeout(u.C),u.C=null)}function Sd(u,m){var v=null;if(u.g==m){Ca(u),ic(u),u.g=null;var P=2}else if(We(u.h,m))v=m.D,wo(u.h,m),P=1;else return;if(u.G!=0){if(m.o)if(P==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var B=u.B;P=vi(),et(P,new ls(P,v)),ka(u)}else Ed(u);else if(B=m.s,B==3||B==0&&0<m.X||!(P==1&&Np(u,m)||P==2&&sc(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),B){case 1:$r(u,5);break;case 4:$r(u,10);break;case 3:$r(u,6);break;default:$r(u,2)}}}function Id(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function $r(u,m){if(u.j.info("Error code "+m),m==2){var v=g(u.fb,u),P=u.Xa;const B=!P;P=new us(P||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||bo(P,"https"),Ds(P),B?md(P.toString(),v):Pp(P.toString(),v)}else ft(2);u.G=0,u.l&&u.l.sa(m),xo(u),wd(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function xo(u){if(u.G=0,u.ka=[],u.l){const m=Ta(u.h);(m.length!=0||u.i.length!=0)&&(C(u.ka,m),C(u.ka,u.i),u.h.i.length=0,S(u.i),u.i.length=0),u.l.ra()}}function oc(u,m,v){var P=v instanceof us?vr(v):new us(v);if(P.g!="")m&&(P.g=m+"."+P.g),Sa(P,P.s);else{var B=l.location;P=B.protocol,m=m?m+"."+B.hostname:B.hostname,B=+B.port;var H=new us(null);P&&bo(H,P),m&&(H.g=m),B&&Sa(H,B),v&&(H.l=v),P=H}return v=u.D,m=u.ya,v&&m&&Ye(P,v,m),Ye(P,"VER",u.la),Ei(u,P),P}function ac(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ge(new So({eb:v})):new Ge(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ti(){}t=Ti.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Si(){}Si.prototype.g=function(u,m){return new En(u,m)};function En(u,m){ht.call(this),this.g=new nc(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!w(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Nn(this)}E(En,ht),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){rc(this.g)},En.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=as(u),u=v);m.i.push(new Kn(m.Ya++,u)),m.G==3&&ka(m)},En.prototype.N=function(){this.g.l=null,delete this.j,rc(this.g),delete this.g,En.aa.N.call(this)};function xd(u){Nr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}E(xd,Nr);function Ad(){fr.call(this),this.status=1}E(Ad,fr);function Nn(u){this.g=u}E(Nn,Ti),Nn.prototype.ua=function(){et(this.g,"a")},Nn.prototype.ta=function(u){et(this.g,new xd(u))},Nn.prototype.sa=function(u){et(this.g,new Ad)},Nn.prototype.ra=function(){et(this.g,"b")},Si.prototype.createWebChannel=Si.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,tx=function(){return new Si},ex=function(){return vi()},ZI=pr,qg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Z.NO_ERROR=0,Z.TIMEOUT=8,Z.HTTP_ERROR=6,Th=Z,we.COMPLETE="complete",XI=we,vo.EventType=Or,Or.OPEN="a",Or.CLOSE="b",Or.ERROR="c",Or.MESSAGE="d",ht.prototype.listen=ht.prototype.K,Rc=vo,JI=So,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,YI=Ge}).apply(typeof Qd<"u"?Qd:typeof self<"u"?self:typeof window<"u"?window:{});const $0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fl="10.13.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new qf("@firebase/firestore");function yc(){return na.logLevel}function de(t,...e){if(na.logLevel<=Ve.DEBUG){const n=e.map(kv);na.debug(`Firestore (${Fl}): ${t}`,...n)}}function oi(t,...e){if(na.logLevel<=Ve.ERROR){const n=e.map(kv);na.error(`Firestore (${Fl}): ${t}`,...n)}}function wl(t,...e){if(na.logLevel<=Ve.WARN){const n=e.map(kv);na.warn(`Firestore (${Fl}): ${t}`,...n)}}function kv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(t="Unexpected state"){const e=`FIRESTORE (${Fl}) INTERNAL ASSERTION FAILED: `+t;throw oi(e),new Error(e)}function Xe(t,e){t||be()}function Ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends ss{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(un.UNAUTHENTICATED))}shutdown(){}}class cD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class uD{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=a=>this.i!==r?(r=this.i,n(a)):Promise.resolve();let i=new bs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new bs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const a=i;e.enqueueRetryable(async()=>{await a.promise,await s(this.currentUser)})},l=a=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=a,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(a=>l(a)),setTimeout(()=>{if(!this.auth){const a=this.t.getImmediate({optional:!0});a?l(a):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new bs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string"),new nx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string"),new un(e)}}class dD{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=un.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class hD{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new dD(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,de("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Xe(typeof n.token=="string"),this.R=n.token,new fD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=mD(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function qe(t,e){return t<e?-1:t>e?1:0}function bl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new oe(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $t.fromMillis(Date.now())}static fromDate(e){return $t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new $t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Se(e)}static min(){return new Se(new $t(0,0))}static max(){return new Se(new $t(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n,r){n===void 0?n=0:n>e.length&&be(),r===void 0?r=e.length-n:r>e.length-n&&be(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Iu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Iu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class it extends Iu{construct(e,n,r){return new it(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new it(n)}static emptyPath(){return new it([])}}const gD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Iu{construct(e,n,r){return new Yt(e,n,r)}static isValidIdentifier(e){return gD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Yt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new oe(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new oe(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const a=e[s+1];if(a!=="\\"&&a!=="."&&a!=="`")throw new oe(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=a,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new oe(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(it.fromString(e))}static fromName(e){return new me(it.fromString(e).popFirst(5))}static empty(){return new me(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new it(e.slice()))}}function _D(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Se.fromTimestamp(r===1e9?new $t(n+1,0):new $t(n,r));return new io(s,me.empty(),e)}function vD(t){return new io(t.readTime,t.key,-1)}class io{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new io(Se.min(),me.empty(),-1)}static max(){return new io(Se.max(),me.empty(),-1)}}function yD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(t.documentKey,e.documentKey),n!==0?n:qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gu(t){if(t.code!==K.FAILED_PRECONDITION||t.message!==wD)throw t;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,r)=>{n(e)})}static reject(e){return new J((n,r)=>{r(e)})}static waitFor(e){return new J((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},a=>r(a))}),o=!0,i===s&&n()})}static or(e){let n=J.resolve(!1);for(const r of e)n=n.next(s=>s?J.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new J((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let a=0;a<i;a++){const c=a;n(e[c]).next(d=>{o[c]=d,++l,l===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new J((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function ED(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ku(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Cv.oe=-1;function Kf(t){return t==null}function cf(t){return t===0&&1/t==-1/0}function TD(t){return typeof t=="number"&&Number.isInteger(t)&&!cf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $l(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function SD(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function sx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yd(this.root,e,this.comparator,!0)}}class Yd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Qt.RED,this.left=s??Qt.EMPTY,this.right=i??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Qt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Qt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new B0(this.data.getIterator())}getIteratorFrom(e){return new B0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xt(this.comparator);return n.data=e,n}}class B0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Yr([])}unionWith(e){let n=new Xt(Yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Yr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new ix("Invalid base64 string: "+i):i}}(e);return new tn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const ID=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oo(t){if(Xe(!!t),typeof t=="string"){let e=0;const n=ID.exec(t);if(Xe(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(t.seconds),nanos:xt(t.nanos)}}function xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ra(t){return typeof t=="string"?tn.fromBase64String(t):tn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Pv(t){const e=t.mapValue.fields.__previous_value__;return Qf(e)?Pv(e):e}function xu(t){const e=oo(t.mapValue.fields.__local_write_time__.timestampValue);return new $t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,n,r,s,i,o,l,a,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=a,this.useFetchStreams=c}}class Au{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Au("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Au&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function sa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Qf(t)?4:kD(t)?9007199254740991:AD(t)?10:11:be()}function ks(t,e){if(t===e)return!0;const n=sa(t);if(n!==sa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xu(t).isEqual(xu(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=oo(s.timestampValue),l=oo(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ra(s.bytesValue).isEqual(ra(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return xt(s.geoPointValue.latitude)===xt(i.geoPointValue.latitude)&&xt(s.geoPointValue.longitude)===xt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return xt(s.integerValue)===xt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=xt(s.doubleValue),l=xt(i.doubleValue);return o===l?cf(o)===cf(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return bl(t.arrayValue.values||[],e.arrayValue.values||[],ks);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(U0(o)!==U0(l))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(l[a]===void 0||!ks(o[a],l[a])))return!1;return!0}(t,e);default:return be()}}function ku(t,e){return(t.values||[]).find(n=>ks(n,e))!==void 0}function El(t,e){if(t===e)return 0;const n=sa(t),r=sa(e);if(n!==r)return qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=xt(i.integerValue||i.doubleValue),a=xt(o.integerValue||o.doubleValue);return l<a?-1:l>a?1:l===a?0:isNaN(l)?isNaN(a)?0:-1:1}(t,e);case 3:return z0(t.timestampValue,e.timestampValue);case 4:return z0(xu(t),xu(e));case 5:return qe(t.stringValue,e.stringValue);case 6:return function(i,o){const l=ra(i),a=ra(o);return l.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),a=o.split("/");for(let c=0;c<l.length&&c<a.length;c++){const d=qe(l[c],a[c]);if(d!==0)return d}return qe(l.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=qe(xt(i.latitude),xt(o.latitude));return l!==0?l:qe(xt(i.longitude),xt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return q0(t.arrayValue,e.arrayValue);case 10:return function(i,o){var l,a,c,d;const h=i.fields||{},g=o.fields||{},_=(l=h.value)===null||l===void 0?void 0:l.arrayValue,E=(a=g.value)===null||a===void 0?void 0:a.arrayValue,S=qe(((c=_==null?void 0:_.values)===null||c===void 0?void 0:c.length)||0,((d=E==null?void 0:E.values)===null||d===void 0?void 0:d.length)||0);return S!==0?S:q0(_,E)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Jd.mapValue&&o===Jd.mapValue)return 0;if(i===Jd.mapValue)return 1;if(o===Jd.mapValue)return-1;const l=i.fields||{},a=Object.keys(l),c=o.fields||{},d=Object.keys(c);a.sort(),d.sort();for(let h=0;h<a.length&&h<d.length;++h){const g=qe(a[h],d[h]);if(g!==0)return g;const _=El(l[a[h]],c[d[h]]);if(_!==0)return _}return qe(a.length,d.length)}(t.mapValue,e.mapValue);default:throw be()}}function z0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);const n=oo(t),r=oo(e),s=qe(n.seconds,r.seconds);return s!==0?s:qe(n.nanos,r.nanos)}function q0(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=El(n[s],r[s]);if(i)return i}return qe(n.length,r.length)}function Tl(t){return Hg(t)}function Hg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=oo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ra(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return me.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Hg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Hg(n.fields[o])}`;return s+"}"}(t.mapValue):be()}function uf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Wg(t){return!!t&&"integerValue"in t}function Rv(t){return!!t&&"arrayValue"in t}function H0(t){return!!t&&"nullValue"in t}function W0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sh(t){return!!t&&"mapValue"in t}function AD(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Gc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return $l(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Gc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function kD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.value=e}static empty(){return new Tr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gc(n)}setAll(e){let n=Yt.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const a=this.getFieldsMap(n);this.applyChanges(a,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=Gc(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ks(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Sh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){$l(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Tr(Gc(this.value))}}function ox(t){const e=[];return $l(t.fields,(n,r)=>{const s=new Yt([n]);if(Sh(r)){const i=ox(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Yr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new hn(e,0,Se.min(),Se.min(),Se.min(),Tr.empty(),0)}static newFoundDocument(e,n,r,s){return new hn(e,1,n,Se.min(),r,s,0)}static newNoDocument(e,n){return new hn(e,2,n,Se.min(),Se.min(),Tr.empty(),0)}static newUnknownDocument(e,n){return new hn(e,3,n,Se.min(),Se.min(),Tr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,n){this.position=e,this.inclusive=n}}function G0(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=me.comparator(me.fromName(o.referenceValue),n.key):r=El(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function K0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ks(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n="asc"){this.field=e,this.dir=n}}function CD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{}class jt extends ax{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new RD(e,n,r):n==="array-contains"?new ND(e,r):n==="in"?new DD(e,r):n==="not-in"?new LD(e,r):n==="array-contains-any"?new MD(e,r):new jt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new jD(e,r):new OD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(El(n,this.value)):n!==null&&sa(this.value)===sa(n)&&this.matchesComparison(El(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ns extends ax{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ns(e,n)}matches(e){return lx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function lx(t){return t.op==="and"}function cx(t){return PD(t)&&lx(t)}function PD(t){for(const e of t.filters)if(e instanceof ns)return!1;return!0}function Gg(t){if(t instanceof jt)return t.field.canonicalString()+t.op.toString()+Tl(t.value);if(cx(t))return t.filters.map(e=>Gg(e)).join(",");{const e=t.filters.map(n=>Gg(n)).join(",");return`${t.op}(${e})`}}function ux(t,e){return t instanceof jt?function(r,s){return s instanceof jt&&r.op===s.op&&r.field.isEqual(s.field)&&ks(r.value,s.value)}(t,e):t instanceof ns?function(r,s){return s instanceof ns&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&ux(o,s.filters[l]),!0):!1}(t,e):void be()}function dx(t){return t instanceof jt?function(n){return`${n.field.canonicalString()} ${n.op} ${Tl(n.value)}`}(t):t instanceof ns?function(n){return n.op.toString()+" {"+n.getFilters().map(dx).join(" ,")+"}"}(t):"Filter"}class RD extends jt{constructor(e,n,r){super(e,n,r),this.key=me.fromName(r.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class jD extends jt{constructor(e,n){super(e,"in",n),this.keys=hx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class OD extends jt{constructor(e,n){super(e,"not-in",n),this.keys=hx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function hx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>me.fromName(r.referenceValue))}class ND extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Rv(n)&&ku(n.arrayValue,this.value)}}class DD extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ku(this.value.arrayValue,n)}}class LD extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ku(this.value.arrayValue,n)}}class MD extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Rv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ku(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.ue=null}}function Q0(t,e=null,n=[],r=[],s=null,i=null,o=null){return new VD(t,e,n,r,s,i,o)}function jv(t){const e=Ee(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Gg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Kf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Tl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Tl(r)).join(",")),e.ue=n}return e.ue}function Ov(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!CD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ux(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!K0(t.startAt,e.startAt)&&K0(t.endAt,e.endAt)}function Kg(t){return me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,a=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function FD(t,e,n,r,s,i,o,l){return new _a(t,e,n,r,s,i,o,l)}function Nv(t){return new _a(t)}function Y0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Dv(t){return t.collectionGroup!==null}function ul(t){const e=Ee(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Xt(Yt.comparator);return o.filters.forEach(a=>{a.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Cu(i,r))}),n.has(Yt.keyField().canonicalString())||e.ce.push(new Cu(Yt.keyField(),r))}return e.ce}function Es(t){const e=Ee(t);return e.le||(e.le=fx(e,ul(t))),e.le}function $D(t){const e=Ee(t);return e.he||(e.he=fx(e,t.explicitOrderBy)),e.he}function fx(t,e){if(t.limitType==="F")return Q0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Cu(s.field,i)});const n=t.endAt?new Sl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Sl(t.startAt.position,t.startAt.inclusive):null;return Q0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Qg(t,e){const n=t.filters.concat([e]);return new _a(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function df(t,e,n){return new _a(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Yf(t,e){return Ov(Es(t),Es(e))&&t.limitType===e.limitType}function px(t){return`${jv(Es(t))}|lt:${t.limitType}`}function Ma(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>dx(s)).join(", ")}]`),Kf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Tl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Tl(s)).join(",")),`Target(${r})`}(Es(t))}; limitType=${t.limitType})`}function Jf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):me.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of ul(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,a){const c=G0(o,l,a);return o.inclusive?c<=0:c<0}(r.startAt,ul(r),s)||r.endAt&&!function(o,l,a){const c=G0(o,l,a);return o.inclusive?c>=0:c>0}(r.endAt,ul(r),s))}(t,e)}function UD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function mx(t){return(e,n)=>{let r=!1;for(const s of ul(t)){const i=BD(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function BD(t,e,n){const r=t.field.isKeyField()?me.comparator(e.key,n.key):function(i,o,l){const a=o.data.field(i),c=l.data.field(i);return a!==null&&c!==null?El(a,c):be()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){$l(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return sx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=new wt(me.comparator);function ai(){return zD}const gx=new wt(me.comparator);function jc(...t){let e=gx;for(const n of t)e=e.insert(n.key,n);return e}function _x(t){let e=gx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Uo(){return Kc()}function vx(){return Kc()}function Kc(){return new Ul(t=>t.toString(),(t,e)=>t.isEqual(e))}const qD=new wt(me.comparator),HD=new Xt(me.comparator);function Ne(...t){let e=HD;for(const n of t)e=e.add(n);return e}const WD=new Xt(qe);function GD(){return WD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cf(e)?"-0":e}}function yx(t){return{integerValue:""+t}}function KD(t,e){return TD(e)?yx(e):Lv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(){this._=void 0}}function QD(t,e,n){return t instanceof Pu?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Qf(i)&&(i=Pv(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Ru?bx(t,e):t instanceof ju?Ex(t,e):function(s,i){const o=wx(s,i),l=J0(o)+J0(s.Pe);return Wg(o)&&Wg(s.Pe)?yx(l):Lv(s.serializer,l)}(t,e)}function YD(t,e,n){return t instanceof Ru?bx(t,e):t instanceof ju?Ex(t,e):n}function wx(t,e){return t instanceof hf?function(r){return Wg(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Pu extends Xf{}class Ru extends Xf{constructor(e){super(),this.elements=e}}function bx(t,e){const n=Tx(e);for(const r of t.elements)n.some(s=>ks(s,r))||n.push(r);return{arrayValue:{values:n}}}class ju extends Xf{constructor(e){super(),this.elements=e}}function Ex(t,e){let n=Tx(e);for(const r of t.elements)n=n.filter(s=>!ks(s,r));return{arrayValue:{values:n}}}class hf extends Xf{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function J0(t){return xt(t.integerValue||t.doubleValue)}function Tx(t){return Rv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n){this.field=e,this.transform=n}}function XD(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Ru&&s instanceof Ru||r instanceof ju&&s instanceof ju?bl(r.elements,s.elements,ks):r instanceof hf&&s instanceof hf?ks(r.Pe,s.Pe):r instanceof Pu&&s instanceof Pu}(t.transform,e.transform)}class ZD{constructor(e,n){this.version=e,this.transformResults=n}}class Ts{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ts}static exists(e){return new Ts(void 0,e)}static updateTime(e){return new Ts(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ih(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Zf{}function Sx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new xx(t.key,Ts.none()):new Qu(t.key,t.data,Ts.none());{const n=t.data,r=Tr.empty();let s=new Xt(Yt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new va(t.key,r,new Yr(s.toArray()),Ts.none())}}function eL(t,e,n){t instanceof Qu?function(s,i,o){const l=s.value.clone(),a=Z0(s.fieldTransforms,i,o.transformResults);l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof va?function(s,i,o){if(!Ih(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=Z0(s.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(Ix(s)),a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Qc(t,e,n,r){return t instanceof Qu?function(i,o,l,a){if(!Ih(i.precondition,o))return l;const c=i.value.clone(),d=eb(i.fieldTransforms,a,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof va?function(i,o,l,a){if(!Ih(i.precondition,o))return l;const c=eb(i.fieldTransforms,a,o),d=o.data;return d.setAll(Ix(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,l){return Ih(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function tL(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=wx(r.transform,s||null);i!=null&&(n===null&&(n=Tr.empty()),n.set(r.field,i))}return n||null}function X0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&bl(r,s,(i,o)=>XD(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Qu extends Zf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class va extends Zf{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Ix(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Z0(t,e,n){const r=new Map;Xe(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,YD(o,l,n[s]))}return r}function eb(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,QD(i,o,e))}return r}class xx extends Zf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nL extends Zf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&eL(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Qc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Qc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=vx();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const a=Sx(o,l);a!==null&&r.set(s.key,a),o.isValidDocument()||o.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ne())}isEqual(e){return this.batchId===e.batchId&&bl(this.mutations,e.mutations,(n,r)=>X0(n,r))&&bl(this.baseMutations,e.baseMutations,(n,r)=>X0(n,r))}}class Mv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Xe(e.mutations.length===r.length);let s=function(){return qD}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Mv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,$e;function aL(t){switch(t){default:return be();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0}}function Ax(t){if(t===void 0)return oi("GRPC error has no .code"),K.UNKNOWN;switch(t){case kt.OK:return K.OK;case kt.CANCELLED:return K.CANCELLED;case kt.UNKNOWN:return K.UNKNOWN;case kt.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case kt.INTERNAL:return K.INTERNAL;case kt.UNAVAILABLE:return K.UNAVAILABLE;case kt.UNAUTHENTICATED:return K.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case kt.NOT_FOUND:return K.NOT_FOUND;case kt.ALREADY_EXISTS:return K.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return K.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case kt.ABORTED:return K.ABORTED;case kt.OUT_OF_RANGE:return K.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return K.UNIMPLEMENTED;case kt.DATA_LOSS:return K.DATA_LOSS;default:return be()}}($e=kt||(kt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL=new Go([4294967295,4294967295],0);function tb(t){const e=lL().encode(t),n=new QI;return n.update(e),new Uint8Array(n.digest())}function nb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Go([n,r],0),new Go([s,i],0)]}class Vv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Oc(`Invalid padding: ${n}`);if(r<0)throw new Oc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Oc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Oc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Go.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Go.fromNumber(r)));return s.compare(cL)===1&&(s=new Go([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=tb(e),[r,s]=nb(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Vv(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=tb(e),[r,s]=nb(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Oc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Yu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ep(Se.min(),s,new wt(qe),ai(),Ne())}}class Yu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Yu(r,n,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class kx{constructor(e,n){this.targetId=e,this.me=n}}class Cx{constructor(e,n,r=tn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class rb{constructor(){this.fe=0,this.ge=ib(),this.pe=tn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ne(),n=Ne(),r=Ne();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:be()}}),new Yu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=ib()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Xe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class uL{constructor(e){this.Le=e,this.Be=new Map,this.ke=ai(),this.qe=sb(),this.Qe=new wt(qe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:be()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(Kg(i))if(r===0){const o=new me(i.path);this.Ue(n,o,hn.newNoDocument(o,Se.min()))}else Xe(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),a=l?this.Xe(l,e,o):1;if(a!==0){this.je(n);const c=a===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=ra(r).toUint8Array()}catch(a){if(a instanceof ix)return wl("Decoding the base64 bloom filter in existence filter failed ("+a.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw a}try{l=new Vv(o,s,i)}catch(a){return wl(a instanceof Oc?"BloomFilter error: ":"Applying bloom filter failed: ",a),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const l=this.Je(o);if(l){if(i.current&&Kg(l.target)){const a=new me(l.target.path);this.ke.get(a)!==null||this.it(o,a)||this.Ue(o,a,hn.newNoDocument(a,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=Ne();this.qe.forEach((i,o)=>{let l=!0;o.forEachWhile(a=>{const c=this.Je(a);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new ep(e,n,this.Qe,this.ke,r);return this.ke=ai(),this.qe=sb(),this.Qe=new wt(qe),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new rb,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Xt(qe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new rb),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function sb(){return new wt(me.comparator)}function ib(){return new wt(me.comparator)}const dL={asc:"ASCENDING",desc:"DESCENDING"},hL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fL={and:"AND",or:"OR"};class pL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Yg(t,e){return t.useProto3Json||Kf(e)?e:{value:e}}function ff(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Px(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function mL(t,e){return ff(t,e.toTimestamp())}function Ss(t){return Xe(!!t),Se.fromTimestamp(function(n){const r=oo(n);return new $t(r.seconds,r.nanos)}(t))}function Fv(t,e){return Jg(t,e).canonicalString()}function Jg(t,e){const n=function(s){return new it(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Rx(t){const e=it.fromString(t);return Xe(Mx(e)),e}function Xg(t,e){return Fv(t.databaseId,e.path)}function vm(t,e){const n=Rx(e);if(n.get(1)!==t.databaseId.projectId)throw new oe(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new oe(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new me(Ox(n))}function jx(t,e){return Fv(t.databaseId,e)}function gL(t){const e=Rx(t);return e.length===4?it.emptyPath():Ox(e)}function Zg(t){return new it(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ox(t){return Xe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ob(t,e,n){return{name:Xg(t,e),fields:n.value.mapValue.fields}}function _L(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(Xe(d===void 0||typeof d=="string"),tn.fromBase64String(d||"")):(Xe(d===void 0||d instanceof Buffer||d instanceof Uint8Array),tn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(c){const d=c.code===void 0?K.UNKNOWN:Ax(c.code);return new oe(d,c.message||"")}(o);n=new Cx(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=vm(t,r.document.name),i=Ss(r.document.updateTime),o=r.document.createTime?Ss(r.document.createTime):Se.min(),l=new Tr({mapValue:{fields:r.document.fields}}),a=hn.newFoundDocument(s,i,o,l),c=r.targetIds||[],d=r.removedTargetIds||[];n=new xh(c,d,a.key,a)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=vm(t,r.document),i=r.readTime?Ss(r.readTime):Se.min(),o=hn.newNoDocument(s,i),l=r.removedTargetIds||[];n=new xh([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=vm(t,r.document),i=r.removedTargetIds||[];n=new xh([],i,s,null)}else{if(!("filter"in e))return be();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new oL(s,i),l=r.targetId;n=new kx(l,o)}}return n}function vL(t,e){let n;if(e instanceof Qu)n={update:ob(t,e.key,e.value)};else if(e instanceof xx)n={delete:Xg(t,e.key)};else if(e instanceof va)n={update:ob(t,e.key,e.data),updateMask:AL(e.fieldMask)};else{if(!(e instanceof nL))return be();n={verify:Xg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof Pu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Ru)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ju)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof hf)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw be()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:mL(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:be()}(t,e.precondition)),n}function yL(t,e){return t&&t.length>0?(Xe(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Ss(s.updateTime):Ss(i);return o.isEqual(Se.min())&&(o=Ss(i)),new ZD(o,s.transformResults||[])}(n,e))):[]}function wL(t,e){return{documents:[jx(t,e.path)]}}function Nx(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=jx(t,s);const i=function(c){if(c.length!==0)return Lx(ns.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(g){return{field:$i(g.field),direction:SL(g.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Yg(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:s}}function bL(t,e,n,r){const{_t:s,parent:i}=Nx(t,e),o={},l=[];let a=0;return n.forEach(c=>{const d="aggregate_"+a++;o[d]=c.alias,c.aggregateType==="count"?l.push({alias:d,count:{}}):c.aggregateType==="avg"?l.push({alias:d,avg:{field:$i(c.fieldPath)}}):c.aggregateType==="sum"&&l.push({alias:d,sum:{field:$i(c.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:l,structuredQuery:s.structuredQuery},parent:s.parent},ut:o,parent:i}}function EL(t){let e=gL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Xe(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const g=Dx(h);return g instanceof ns&&cx(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(g=>function(E){return new Cu(Va(E.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(h){let g;return g=typeof h=="object"?h.value:h,Kf(g)?null:g}(n.limit));let a=null;n.startAt&&(a=function(h){const g=!!h.before,_=h.values||[];return new Sl(_,g)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const g=!h.before,_=h.values||[];return new Sl(_,g)}(n.endAt)),FD(e,s,o,i,l,"F",a,c)}function TL(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Dx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Va(n.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Va(n.unaryFilter.field);return jt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Va(n.unaryFilter.field);return jt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Va(n.unaryFilter.field);return jt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(t):t.fieldFilter!==void 0?function(n){return jt.create(Va(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ns.create(n.compositeFilter.filters.map(r=>Dx(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return be()}}(n.compositeFilter.op))}(t):be()}function SL(t){return dL[t]}function IL(t){return hL[t]}function xL(t){return fL[t]}function $i(t){return{fieldPath:t.canonicalString()}}function Va(t){return Yt.fromServerFormat(t.fieldPath)}function Lx(t){return t instanceof jt?function(n){if(n.op==="=="){if(W0(n.value))return{unaryFilter:{field:$i(n.field),op:"IS_NAN"}};if(H0(n.value))return{unaryFilter:{field:$i(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(W0(n.value))return{unaryFilter:{field:$i(n.field),op:"IS_NOT_NAN"}};if(H0(n.value))return{unaryFilter:{field:$i(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$i(n.field),op:IL(n.op),value:n.value}}}(t):t instanceof ns?function(n){const r=n.getFilters().map(s=>Lx(s));return r.length===1?r[0]:{compositeFilter:{op:xL(n.op),filters:r}}}(t):be()}function AL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Mx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n,r,s,i=Se.min(),o=Se.min(),l=tn.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=a}withSequenceNumber(e){return new qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e){this.ct=e}}function CL(t){const e=EL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?df(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(){this.un=new RL}addToCollectionParentIndex(e,n){return this.un.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(io.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(io.min())}updateCollectionGroup(e,n,r){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class RL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Xt(it.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Xt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Il(0)}static kn(){return new Il(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(){this.changes=new Ul(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?J.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Qc(r.mutation,s,Yr.empty(),$t.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ne()){const s=Uo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=jc();return i.forEach((l,a)=>{o=o.insert(l,a.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Uo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ne()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=ai();const o=Kc(),l=function(){return Kc()}();return n.forEach((a,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof va)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Qc(d.mutation,c,d.mutation.getFieldMask(),$t.now())):o.set(c.key,Yr.empty())}),this.recalculateAndSaveOverlays(e,i).next(a=>(a.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var h;return l.set(c,new OL(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Kc();let s=new wt((o,l)=>o-l),i=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(a=>{const c=n.get(a);if(c===null)return;let d=r.get(a)||Yr.empty();d=l.applyToLocalView(c,d),r.set(a,d);const h=(s.get(l.batchId)||Ne()).add(a);s=s.insert(l.batchId,h)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const a=l.getNext(),c=a.key,d=a.value,h=vx();d.forEach(g=>{if(!i.has(g)){const _=Sx(n.get(g),r.get(g));_!==null&&h.set(g,_),i=i.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return J.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return me.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Dv(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):J.resolve(Uo());let l=-1,a=i;return o.next(c=>J.forEach(c,(d,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),i.get(d)?J.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{a=a.insert(d,g)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,a,c,Ne())).next(d=>({batchId:l,changes:_x(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(r=>{let s=jc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=jc();return this.indexManager.getCollectionParents(e,i).next(l=>J.forEach(l,a=>{const c=function(h,g){return new _a(g,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((h,g)=>{o=o.insert(h,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((a,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,hn.newInvalidDocument(d)))});let l=jc();return o.forEach((a,c)=>{const d=i.get(a);d!==void 0&&Qc(d.mutation,c,Yr.empty(),$t.now()),Jf(n,c)&&(l=l.insert(a,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return J.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ss(s.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:CL(s.bundledQuery),readTime:Ss(s.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(){this.overlays=new wt(me.comparator),this.Ir=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Uo();return J.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),J.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),J.resolve()}getOverlaysForCollection(e,n,r){const s=Uo(),i=n.length+1,o=new me(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const a=l.getNext().value,c=a.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&a.largestBatchId>r&&s.set(a.getKey(),a)}return J.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new wt((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=Uo(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const l=Uo(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((c,d)=>l.set(c,d)),!(l.size()>=s)););return J.resolve(l)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new sL(n,r));let i=this.Ir.get(n);i===void 0&&(i=Ne(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(){this.Tr=new Xt(qt.Er),this.dr=new Xt(qt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new qt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new qt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new me(new it([])),r=new qt(n,e),s=new qt(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new me(new it([])),r=new qt(n,e),s=new qt(n,e+1);let i=Ne();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new qt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class qt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return me.comparator(e.key,n.key)||qe(e.wr,n.wr)}static Ar(e,n){return qe(e.wr,n.wr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Xt(qt.Er)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new rL(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.br=this.br.add(new qt(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return J.resolve(o)}lookupMutationBatch(e,n){return J.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return J.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new qt(n,0),s=new qt(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const l=this.Dr(o.wr);i.push(l)}),J.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Xt(qe);return n.forEach(s=>{const i=new qt(s,0),o=new qt(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],l=>{r=r.add(l.wr)})}),J.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;me.isDocumentKey(i)||(i=i.child(""));const o=new qt(new me(i),0);let l=new Xt(qe);return this.br.forEachWhile(a=>{const c=a.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(l=l.add(a.wr)),!0)},o),J.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Xe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return J.forEach(n.mutations,s=>{const i=new qt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new qt(n,0),s=this.br.firstAfterOrEqual(r);return J.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e){this.Mr=e,this.docs=function(){return new wt(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return J.resolve(r?r.document.mutableCopy():hn.newInvalidDocument(n))}getEntries(e,n){let r=ai();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():hn.newInvalidDocument(s))}),J.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ai();const o=n.path,l=new me(o.child("")),a=this.docs.getIteratorFrom(l);for(;a.hasNext();){const{key:c,value:{document:d}}=a.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||yD(vD(d),r)<=0||(s.has(d.key)||Jf(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return J.resolve(i)}getAllFromCollectionGroup(e,n,r,s){be()}Or(e,n){return J.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new $L(this)}getSize(e){return J.resolve(this.size)}}class $L extends jL{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),J.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e){this.persistence=e,this.Nr=new Ul(n=>jv(n),Ov),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.Lr=0,this.Br=new $v,this.targetCount=0,this.kr=Il.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),J.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Il(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Kn(n),J.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),J.waitFor(i).next(()=>s)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return J.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),J.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),J.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return J.resolve(r)}containsKey(e,n){return J.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Cv(0),this.Kr=!1,this.Kr=!0,this.$r=new ML,this.referenceDelegate=e(this),this.Ur=new UL(this),this.indexManager=new PL,this.remoteDocumentCache=function(s){return new FL(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new kL(n),this.Gr=new DL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new LL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new VL(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){de("MemoryPersistence","Starting transaction:",e);const s=new zL(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return J.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class zL extends bD{constructor(e){super(),this.currentSequenceNumber=e}}class Uv{constructor(e){this.persistence=e,this.Jr=new $v,this.Yr=null}static Zr(e){return new Uv(e)}get Xr(){if(this.Yr)return this.Yr;throw be()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),J.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),J.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.Xr,r=>{const s=me.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,Se.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return J.or([()=>J.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Ne(),s=Ne();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Bv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return RR()?8:ED(pn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new qL;return this.Xi(e,n,o).next(l=>{if(i.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(yc()<=Ve.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Ma(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),J.resolve()):(yc()<=Ve.DEBUG&&de("QueryEngine","Query:",Ma(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(yc()<=Ve.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Ma(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Es(n))):J.resolve())}Yi(e,n){if(Y0(n))return J.resolve(null);let r=Es(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=df(n,null,"F"),r=Es(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ne(...i);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(a=>{const c=this.ts(n,l);return this.ns(n,c,o,a.readTime)?this.Yi(e,df(n,null,"F")):this.rs(e,c,n,a)}))})))}Zi(e,n,r,s){return Y0(n)||s.isEqual(Se.min())?J.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?J.resolve(null):(yc()<=Ve.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ma(n)),this.rs(e,o,n,_D(s,-1)).next(l=>l))})}ts(e,n){let r=new Xt(mx(e));return n.forEach((s,i)=>{Jf(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return yc()<=Ve.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Ma(n)),this.Ji.getDocumentsMatchingQuery(e,n,io.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new wt(qe),this._s=new Ul(i=>jv(i),Ov),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NL(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function GL(t,e,n,r){return new WL(t,e,n,r)}async function Vx(t,e){const n=Ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let a=Ne();for(const c of s){o.push(c.batchId);for(const d of c.mutations)a=a.add(d.key)}for(const c of i){l.push(c.batchId);for(const d of c.mutations)a=a.add(d.key)}return n.localDocuments.getDocuments(r,a).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:l}))})})}function KL(t,e){const n=Ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,a,c,d){const h=c.batch,g=h.keys();let _=J.resolve();return g.forEach(E=>{_=_.next(()=>d.getEntry(a,E)).next(S=>{const C=c.docVersions.get(E);Xe(C!==null),S.version.compareTo(C)<0&&(h.applyToRemoteDocument(S,c),S.isValidDocument()&&(S.setReadTime(c.commitVersion),d.addEntry(S)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(a,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let a=Ne();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(a=a.add(l.batch.mutations[c].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function Fx(t){const e=Ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function QL(t,e){const n=Ee(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const l=[];e.targetChanges.forEach((d,h)=>{const g=s.get(h);if(!g)return;l.push(n.Ur.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(i,d.addedDocuments,h)));let _=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?_=_.withResumeToken(tn.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,r)),s=s.insert(h,_),function(S,C,I){return S.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(g,_,d)&&l.push(n.Ur.updateTargetData(i,_))});let a=ai(),c=Ne();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),l.push(YL(i,o,e.documentUpdates).next(d=>{a=d.Ps,c=d.Is})),!r.isEqual(Se.min())){const d=n.Ur.getLastRemoteSnapshotVersion(i).next(h=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(d)}return J.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,a,c)).next(()=>a)}).then(i=>(n.os=s,i))}function YL(t,e,n){let r=Ne(),s=Ne();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ai();return n.forEach((l,a)=>{const c=i.get(l);a.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(l)),a.isNoDocument()&&a.version.isEqual(Se.min())?(e.removeEntry(l,a.readTime),o=o.insert(l,a)):!c.isValidDocument()||a.version.compareTo(c.version)>0||a.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(a),o=o.insert(l,a)):de("LocalStore","Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",a.version)}),{Ps:o,Is:s}})}function JL(t,e){const n=Ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function XL(t,e){const n=Ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,J.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new qi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function e_(t,e,n){const r=Ee(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ku(o))throw o;de("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function ab(t,e,n){const r=Ee(t);let s=Se.min(),i=Ne();return r.persistence.runTransaction("Execute query","readwrite",o=>function(a,c,d){const h=Ee(a),g=h._s.get(d);return g!==void 0?J.resolve(h.os.get(g)):h.Ur.getTargetData(c,d)}(r,o,Es(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,l.targetId).next(a=>{i=a})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:Se.min(),n?i:Ne())).next(l=>(ZL(r,UD(e),l),{documents:l,Ts:i})))}function ZL(t,e,n){let r=t.us.get(e)||Se.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class lb{constructor(){this.activeTargetIds=GD()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class e2{constructor(){this.so=new lb,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new lb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){de("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){de("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xd=null;function ym(){return Xd===null?Xd=function(){return 268435456+Math.round(2147483648*Math.random())}():Xd++,"0x"+Xd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class s2 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const l=ym(),a=this.xo(n,r.toUriEncodedString());de("RestConnection",`Sending RPC '${n}' ${l}:`,a,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,o),this.No(n,a,c,s).then(d=>(de("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw wl("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",a,"request:",s),d})}Lo(n,r,s,i,o,l){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=n2[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=ym();return new Promise((o,l)=>{const a=new YI;a.setWithCredentials(!0),a.listenOnce(XI.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Th.NO_ERROR:const d=a.getResponseJson();de(ln,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case Th.TIMEOUT:de(ln,`RPC '${e}' ${i} timed out`),l(new oe(K.DEADLINE_EXCEEDED,"Request time out"));break;case Th.HTTP_ERROR:const h=a.getStatus();if(de(ln,`RPC '${e}' ${i} failed with status:`,h,"response text:",a.getResponseText()),h>0){let g=a.getResponseJson();Array.isArray(g)&&(g=g[0]);const _=g==null?void 0:g.error;if(_&&_.status&&_.message){const E=function(C){const I=C.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(I)>=0?I:K.UNKNOWN}(_.status);l(new oe(E,_.message))}else l(new oe(K.UNKNOWN,"Server responded with status "+a.getStatus()))}else l(new oe(K.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{de(ln,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);de(ln,`RPC '${e}' ${i} sending request:`,s),a.send(n,"POST",c,r,15)})}Bo(e,n,r){const s=ym(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=tx(),l=ex(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(a.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(a.xmlHttpFactory=new JI({})),this.Oo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const d=i.join("");de(ln,`Creating RPC '${e}' stream ${s}: ${d}`,a);const h=o.createWebChannel(d,a);let g=!1,_=!1;const E=new r2({Io:C=>{_?de(ln,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(g||(de(ln,`Opening RPC '${e}' stream ${s} transport.`),h.open(),g=!0),de(ln,`RPC '${e}' stream ${s} sending:`,C),h.send(C))},To:()=>h.close()}),S=(C,I,w)=>{C.listen(I,T=>{try{w(T)}catch(O){setTimeout(()=>{throw O},0)}})};return S(h,Rc.EventType.OPEN,()=>{_||(de(ln,`RPC '${e}' stream ${s} transport opened.`),E.yo())}),S(h,Rc.EventType.CLOSE,()=>{_||(_=!0,de(ln,`RPC '${e}' stream ${s} transport closed`),E.So())}),S(h,Rc.EventType.ERROR,C=>{_||(_=!0,wl(ln,`RPC '${e}' stream ${s} transport errored:`,C),E.So(new oe(K.UNAVAILABLE,"The operation could not be completed")))}),S(h,Rc.EventType.MESSAGE,C=>{var I;if(!_){const w=C.data[0];Xe(!!w);const T=w,O=T.error||((I=T[0])===null||I===void 0?void 0:I.error);if(O){de(ln,`RPC '${e}' stream ${s} received error:`,O);const M=O.status;let R=function(k){const A=kt[k];if(A!==void 0)return Ax(A)}(M),x=O.message;R===void 0&&(R=K.INTERNAL,x="Unknown error status: "+M+" with message "+O.message),_=!0,E.So(new oe(R,x)),h.close()}else de(ln,`RPC '${e}' stream ${s} received:`,w),E.bo(w)}}),S(l,ZI.STAT_EVENT,C=>{C.stat===qg.PROXY?de(ln,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===qg.NOPROXY&&de(ln,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.wo()},0),E}}function wm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(t){return new pL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&de("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,n,r,s,i,o,l,a){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=a,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new $x(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(oi(n.toString()),oi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new oe(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return de("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(de("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class i2 extends Ux{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=_L(this.serializer,e),r=function(i){if(!("targetChange"in i))return Se.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Se.min():o.readTime?Ss(o.readTime):Se.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Zg(this.serializer),n.addTarget=function(i,o){let l;const a=o.target;if(l=Kg(a)?{documents:wL(i,a)}:{query:Nx(i,a)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=Px(i,o.resumeToken);const c=Yg(i,o.expectedCount);c!==null&&(l.expectedCount=c)}else if(o.snapshotVersion.compareTo(Se.min())>0){l.readTime=ff(i,o.snapshotVersion.toTimestamp());const c=Yg(i,o.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=TL(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Zg(this.serializer),n.removeTarget=e,this.a_(n)}}class o2 extends Ux{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=yL(e.writeResults,e.commitTime),r=Ss(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Zg(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>vL(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2 extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new oe(K.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,Jg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new oe(K.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,Jg(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new oe(K.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class l2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(oi(n),this.D_=!1):de("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{ya(this)&&(de("RemoteStore","Restarting streams for network reachability change."),await async function(a){const c=Ee(a);c.L_.add(4),await Ju(c),c.q_.set("Unknown"),c.L_.delete(4),await np(c)}(this))})}),this.q_=new l2(r,s)}}async function np(t){if(ya(t))for(const e of t.B_)await e(!0)}async function Ju(t){for(const e of t.B_)await e(!1)}function Bx(t,e){const n=Ee(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Wv(n)?Hv(n):Bl(n).r_()&&qv(n,e))}function zv(t,e){const n=Ee(t),r=Bl(n);n.N_.delete(e),r.r_()&&zx(n,e),n.N_.size===0&&(r.r_()?r.o_():ya(n)&&n.q_.set("Unknown"))}function qv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bl(t).A_(e)}function zx(t,e){t.Q_.xe(e),Bl(t).R_(e)}function Hv(t){t.Q_=new uL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Bl(t).start(),t.q_.v_()}function Wv(t){return ya(t)&&!Bl(t).n_()&&t.N_.size>0}function ya(t){return Ee(t).L_.size===0}function qx(t){t.Q_=void 0}async function u2(t){t.q_.set("Online")}async function d2(t){t.N_.forEach((e,n)=>{qv(t,e)})}async function h2(t,e){qx(t),Wv(t)?(t.q_.M_(e),Hv(t)):t.q_.set("Unknown")}async function f2(t,e,n){if(t.q_.set("Online"),e instanceof Cx&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.N_.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.N_.delete(l),s.Q_.removeTarget(l))}(t,e)}catch(r){de("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await pf(t,r)}else if(e instanceof xh?t.Q_.Ke(e):e instanceof kx?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Se.min()))try{const r=await Fx(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.Q_.rt(o);return l.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const d=i.N_.get(c);d&&i.N_.set(c,d.withResumeToken(a.resumeToken,o))}}),l.targetMismatches.forEach((a,c)=>{const d=i.N_.get(a);if(!d)return;i.N_.set(a,d.withResumeToken(tn.EMPTY_BYTE_STRING,d.snapshotVersion)),zx(i,a);const h=new qi(d.target,a,c,d.sequenceNumber);qv(i,h)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){de("RemoteStore","Failed to raise snapshot:",r),await pf(t,r)}}async function pf(t,e,n){if(!Ku(e))throw e;t.L_.add(1),await Ju(t),t.q_.set("Offline"),n||(n=()=>Fx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{de("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await np(t)})}function Hx(t,e){return e().catch(n=>pf(t,n,e))}async function rp(t){const e=Ee(t),n=ao(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;p2(e);)try{const s=await JL(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,m2(e,s)}catch(s){await pf(e,s)}Wx(e)&&Gx(e)}function p2(t){return ya(t)&&t.O_.length<10}function m2(t,e){t.O_.push(e);const n=ao(t);n.r_()&&n.V_&&n.m_(e.mutations)}function Wx(t){return ya(t)&&!ao(t).n_()&&t.O_.length>0}function Gx(t){ao(t).start()}async function g2(t){ao(t).p_()}async function _2(t){const e=ao(t);for(const n of t.O_)e.m_(n.mutations)}async function v2(t,e,n){const r=t.O_.shift(),s=Mv.from(r,e,n);await Hx(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await rp(t)}async function y2(t,e){e&&ao(t).V_&&await async function(r,s){if(function(o){return aL(o)&&o!==K.ABORTED}(s.code)){const i=r.O_.shift();ao(r).s_(),await Hx(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await rp(r)}}(t,e),Wx(t)&&Gx(t)}async function ub(t,e){const n=Ee(t);n.asyncQueue.verifyOperationInProgress(),de("RemoteStore","RemoteStore received new credentials");const r=ya(n);n.L_.add(3),await Ju(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await np(n)}async function w2(t,e){const n=Ee(t);e?(n.L_.delete(2),await np(n)):e||(n.L_.add(2),await Ju(n),n.q_.set("Unknown"))}function Bl(t){return t.K_||(t.K_=function(n,r,s){const i=Ee(n);return i.w_(),new i2(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:u2.bind(null,t),Ro:d2.bind(null,t),mo:h2.bind(null,t),d_:f2.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Wv(t)?Hv(t):t.q_.set("Unknown")):(await t.K_.stop(),qx(t))})),t.K_}function ao(t){return t.U_||(t.U_=function(n,r,s){const i=Ee(n);return i.w_(),new o2(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:g2.bind(null,t),mo:y2.bind(null,t),f_:_2.bind(null,t),g_:v2.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await rp(t)):(await t.U_.stop(),t.O_.length>0&&(de("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new bs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new Gv(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kv(t,e){if(oi("AsyncQueue",`${e}: ${t}`),Ku(t))return new oe(K.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||me.comparator(n.key,r.key):(n,r)=>me.comparator(n.key,r.key),this.keyedMap=jc(),this.sortedSet=new wt(this.comparator)}static emptySet(e){return new dl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof dl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new dl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(){this.W_=new wt(me.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):be():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class xl{constructor(e,n,r,s,i,o,l,a,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=a,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new xl(e,n,dl.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class E2{constructor(){this.queries=hb(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Ee(n),i=s.queries;s.queries=hb(),i.forEach((o,l)=>{for(const a of l.j_)a.onError(r)})})(this,new oe(K.ABORTED,"Firestore shutting down"))}}function hb(){return new Ul(t=>px(t),Yf)}async function Kx(t,e){const n=Ee(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new b2,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=Kv(o,`Initialization of query '${Ma(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&Qv(n)}async function Qx(t,e){const n=Ee(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function T2(t,e){const n=Ee(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.j_)l.X_(s)&&(r=!0);o.z_=s}}r&&Qv(n)}function S2(t,e,n){const r=Ee(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function Qv(t){t.Y_.forEach(e=>{e.next()})}var t_,fb;(fb=t_||(t_={})).ea="default",fb.Cache="cache";class Yx{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new xl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=xl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==t_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e){this.key=e}}class Xx{constructor(e){this.key=e}}class I2{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ne(),this.mutatedKeys=Ne(),this.Aa=mx(e),this.Ra=new dl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new db,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const a=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const g=s.get(d),_=Jf(this.query,h)?h:null,E=!!g&&this.mutatedKeys.has(g.key),S=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let C=!1;g&&_?g.data.isEqual(_.data)?E!==S&&(r.track({type:3,doc:_}),C=!0):this.ga(g,_)||(r.track({type:2,doc:_}),C=!0,(a&&this.Aa(_,a)>0||c&&this.Aa(_,c)<0)&&(l=!0)):!g&&_?(r.track({type:0,doc:_}),C=!0):g&&!_&&(r.track({type:1,doc:g}),C=!0,(a||c)&&(l=!0)),C&&(_?(o=o.add(_),i=S?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:l,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,h)=>function(_,E){const S=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return S(_)-S(E)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),s=s!=null&&s;const l=n&&!s?this.ya():[],a=this.da.size===0&&this.current&&!s?1:0,c=a!==this.Ea;return this.Ea=a,o.length!==0||c?{snapshot:new xl(this.query,e.Ra,i,o,e.mutatedKeys,a===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new db,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ne(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Xx(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Jx(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ne();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return xl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class x2{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class A2{constructor(e){this.key=e,this.va=!1}}class k2{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Ul(l=>px(l),Yf),this.Ma=new Map,this.xa=new Set,this.Oa=new wt(me.comparator),this.Na=new Map,this.La=new $v,this.Ba={},this.ka=new Map,this.qa=Il.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function C2(t,e,n=!0){const r=s1(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await Zx(r,e,n,!0),s}async function P2(t,e){const n=s1(t);await Zx(n,e,!0,!1)}async function Zx(t,e,n,r){const s=await XL(t.localStore,Es(e)),i=s.targetId,o=n?t.sharedClientState.addLocalQueryTarget(i):"not-current";let l;return r&&(l=await R2(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&Bx(t.remoteStore,s),l}async function R2(t,e,n,r,s){t.Ka=(h,g,_)=>async function(S,C,I,w){let T=C.view.ma(I);T.ns&&(T=await ab(S.localStore,C.query,!1).then(({documents:x})=>C.view.ma(x,T)));const O=w&&w.targetChanges.get(C.targetId),M=w&&w.targetMismatches.get(C.targetId)!=null,R=C.view.applyChanges(T,S.isPrimaryClient,O,M);return mb(S,C.targetId,R.wa),R.snapshot}(t,h,g,_);const i=await ab(t.localStore,e,!0),o=new I2(e,i.Ts),l=o.ma(i.documents),a=Yu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(l,t.isPrimaryClient,a);mb(t,n,c.wa);const d=new x2(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function j2(t,e,n){const r=Ee(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!Yf(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await e_(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&zv(r.remoteStore,s.targetId),n_(r,s.targetId)}).catch(Gu)):(n_(r,s.targetId),await e_(r.localStore,s.targetId,!0))}async function O2(t,e){const n=Ee(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),zv(n.remoteStore,r.targetId))}async function N2(t,e,n){const r=U2(t);try{const s=await function(o,l){const a=Ee(o),c=$t.now(),d=l.reduce((_,E)=>_.add(E.key),Ne());let h,g;return a.persistence.runTransaction("Locally write mutations","readwrite",_=>{let E=ai(),S=Ne();return a.cs.getEntries(_,d).next(C=>{E=C,E.forEach((I,w)=>{w.isValidDocument()||(S=S.add(I))})}).next(()=>a.localDocuments.getOverlayedDocuments(_,E)).next(C=>{h=C;const I=[];for(const w of l){const T=tL(w,h.get(w.key).overlayedDocument);T!=null&&I.push(new va(w.key,T,ox(T.value.mapValue),Ts.exists(!0)))}return a.mutationQueue.addMutationBatch(_,c,I,l)}).next(C=>{g=C;const I=C.applyToLocalDocumentSet(h,S);return a.documentOverlayCache.saveOverlays(_,C.batchId,I)})}).then(()=>({batchId:g.batchId,changes:_x(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,a){let c=o.Ba[o.currentUser.toKey()];c||(c=new wt(qe)),c=c.insert(l,a),o.Ba[o.currentUser.toKey()]=c}(r,s.batchId,n),await Xu(r,s.changes),await rp(r.remoteStore)}catch(s){const i=Kv(s,"Failed to persist write");n.reject(i)}}async function e1(t,e){const n=Ee(t);try{const r=await QL(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(Xe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?Xe(o.va):s.removedDocuments.size>0&&(Xe(o.va),o.va=!1))}),await Xu(n,r,e)}catch(r){await Gu(r)}}function pb(t,e,n){const r=Ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const l=o.view.Z_(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const a=Ee(o);a.onlineState=l;let c=!1;a.queries.forEach((d,h)=>{for(const g of h.j_)g.Z_(l)&&(c=!0)}),c&&Qv(a)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function D2(t,e,n){const r=Ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new wt(me.comparator);o=o.insert(i,hn.newNoDocument(i,Se.min()));const l=Ne().add(i),a=new ep(Se.min(),new Map,new wt(qe),o,l);await e1(r,a),r.Oa=r.Oa.remove(i),r.Na.delete(e),Yv(r)}else await e_(r.localStore,e,!1).then(()=>n_(r,e,n)).catch(Gu)}async function L2(t,e){const n=Ee(t),r=e.batch.batchId;try{const s=await KL(n.localStore,e);n1(n,r,null),t1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Xu(n,s)}catch(s){await Gu(s)}}async function M2(t,e,n){const r=Ee(t);try{const s=await function(o,l){const a=Ee(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return a.mutationQueue.lookupMutationBatch(c,l).next(h=>(Xe(h!==null),d=h.keys(),a.mutationQueue.removeMutationBatch(c,h))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,d,l)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>a.localDocuments.getDocuments(c,d))})}(r.localStore,e);n1(r,e,n),t1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Xu(r,s)}catch(s){await Gu(s)}}function t1(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function n1(t,e,n){const r=Ee(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function n_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||r1(t,r)})}function r1(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(zv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Yv(t))}function mb(t,e,n){for(const r of n)r instanceof Jx?(t.La.addReference(r.key,e),V2(t,r)):r instanceof Xx?(de("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||r1(t,r.key)):be()}function V2(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(de("SyncEngine","New document in limbo: "+n),t.xa.add(r),Yv(t))}function Yv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new me(it.fromString(e)),r=t.qa.next();t.Na.set(r,new A2(n)),t.Oa=t.Oa.insert(n,r),Bx(t.remoteStore,new qi(Es(Nv(n.path)),r,"TargetPurposeLimboResolution",Cv.oe))}}async function Xu(t,e,n){const r=Ee(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((l,a)=>{o.push(r.Ka(a,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(a.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(a.targetId,h?"current":"not-current")}if(c){s.push(c);const h=Bv.Wi(a.targetId,c);i.push(h)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(a,c){const d=Ee(a);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>J.forEach(c,g=>J.forEach(g.$i,_=>d.persistence.referenceDelegate.addReference(h,g.targetId,_)).next(()=>J.forEach(g.Ui,_=>d.persistence.referenceDelegate.removeReference(h,g.targetId,_)))))}catch(h){if(!Ku(h))throw h;de("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const g=h.targetId;if(!h.fromCache){const _=d.os.get(g),E=_.snapshotVersion,S=_.withLastLimboFreeSnapshotVersion(E);d.os=d.os.insert(g,S)}}}(r.localStore,i))}async function F2(t,e){const n=Ee(t);if(!n.currentUser.isEqual(e)){de("SyncEngine","User change. New user:",e.toKey());const r=await Vx(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(l=>{l.forEach(a=>{a.reject(new oe(K.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xu(n,r.hs)}}function $2(t,e){const n=Ee(t),r=n.Na.get(e);if(r&&r.va)return Ne().add(r.key);{let s=Ne();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const l=n.Fa.get(o);s=s.unionWith(l.view.Va)}return s}}function s1(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=e1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=D2.bind(null,e),e.Ca.d_=T2.bind(null,e.eventManager),e.Ca.$a=S2.bind(null,e.eventManager),e}function U2(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=L2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=M2.bind(null,e),e}class gb{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=tp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return GL(this.persistence,new HL,e.initialUser,this.serializer)}createPersistence(e){return new BL(Uv.Zr,this.serializer)}createSharedClientState(e){return new e2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class B2{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>pb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=F2.bind(null,this.syncEngine),await w2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new E2}()}createDatastore(e){const n=tp(e.databaseInfo.databaseId),r=function(i){return new s2(i)}(e.databaseInfo);return function(i,o,l,a){return new a2(i,o,l,a)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new c2(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>pb(this.syncEngine,n,0),function(){return cb.D()?new cb:new t2}())}createSyncEngine(e,n){return function(s,i,o,l,a,c,d){const h=new k2(s,i,o,l,a,c);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Ee(s);de("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Ju(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):oi("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=un.UNAUTHENTICATED,this.clientId=rx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{de("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(de("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new oe(K.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Kv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function bm(t,e){t.asyncQueue.verifyOperationInProgress(),de("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Vx(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function _b(t,e){t.asyncQueue.verifyOperationInProgress();const n=await H2(t);de("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ub(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>ub(e.remoteStore,s)),t._onlineComponents=e}function q2(t){return t.name==="FirebaseError"?t.code===K.FAILED_PRECONDITION||t.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function H2(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de("FirestoreClient","Using user provided OfflineComponentProvider");try{await bm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!q2(n))throw n;wl("Error using user provided cache. Falling back to memory cache: "+n),await bm(t,new gb)}}else de("FirestoreClient","Using default OfflineComponentProvider"),await bm(t,new gb);return t._offlineComponents}async function Jv(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de("FirestoreClient","Using user provided OnlineComponentProvider"),await _b(t,t._uninitializedComponentsProvider._online)):(de("FirestoreClient","Using default OnlineComponentProvider"),await _b(t,new B2))),t._onlineComponents}function W2(t){return Jv(t).then(e=>e.syncEngine)}function G2(t){return Jv(t).then(e=>e.datastore)}async function o1(t){const e=await Jv(t),n=e.eventManager;return n.onListen=C2.bind(null,e.syncEngine),n.onUnlisten=j2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=P2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=O2.bind(null,e.syncEngine),n}function K2(t,e,n={}){const r=new bs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,a,c){const d=new i1({next:g=>{o.enqueueAndForget(()=>Qx(i,h));const _=g.docs.has(l);!_&&g.fromCache?c.reject(new oe(K.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&g.fromCache&&a&&a.source==="server"?c.reject(new oe(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),h=new Yx(Nv(l.path),d,{includeMetadataChanges:!0,_a:!0});return Kx(i,h)}(await o1(t),t.asyncQueue,e,n,r)),r.promise}function Q2(t,e,n={}){const r=new bs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,a,c){const d=new i1({next:g=>{o.enqueueAndForget(()=>Qx(i,h)),g.fromCache&&a.source==="server"?c.reject(new oe(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),h=new Yx(l,d,{includeMetadataChanges:!0,_a:!0});return Kx(i,h)}(await o1(t),t.asyncQueue,e,n,r)),r.promise}function Y2(t,e,n){const r=new bs;return t.asyncQueue.enqueueAndForget(async()=>{try{const s=await G2(t);r.resolve(async function(o,l,a){var c;const d=Ee(o),{request:h,ut:g,parent:_}=bL(d.serializer,$D(l),a);d.connection.Fo||delete h.parent;const E=(await d.Lo("RunAggregationQuery",d.serializer.databaseId,_,h,1)).filter(C=>!!C.result);Xe(E.length===1);const S=(c=E[0].result)===null||c===void 0?void 0:c.aggregateFields;return Object.keys(S).reduce((C,I)=>(C[g[I]]=S[I],C),{})}(s,e,n))}catch(s){r.reject(s)}}),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(t,e,n){if(!n)throw new oe(K.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function J2(t,e,n,r){if(e===!0&&r===!0)throw new oe(K.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function yb(t){if(!me.isDocumentKey(t))throw new oe(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function wb(t){if(me.isDocumentKey(t))throw new oe(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function sp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":be()}function li(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new oe(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sp(t);throw new oe(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new oe(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new oe(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}J2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=a1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new oe(K.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new oe(K.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new oe(K.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ip{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bb({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new oe(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new oe(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bb(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new lD;switch(r.type){case"firstParty":return new hD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=vb.get(n);r&&(de("ComponentProvider","Removing Datastore"),vb.delete(n),r.terminate())}(this),Promise.resolve()}}function X2(t,e,n,r={}){var s;const i=(t=li(t,ip))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&wl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let l,a;if(typeof r.mockUserToken=="string")l=r.mockUserToken,a=un.MOCK_USER;else{l=xR(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new oe(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new un(c)}t._authCredentials=new cD(new nx(l,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fi(this.firestore,e,this._query)}}class zn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new no(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zn(this.firestore,e,this._key)}}class no extends fi{constructor(e,n,r){super(e,n,Nv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zn(this.firestore,null,new me(e))}withConverter(e){return new no(this.firestore,e,this._path)}}function Zu(t,e,...n){if(t=en(t),l1("collection","path",e),t instanceof ip){const r=it.fromString(e,...n);return wb(r),new no(t,null,r)}{if(!(t instanceof zn||t instanceof no))throw new oe(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(it.fromString(e,...n));return wb(r),new no(t.firestore,null,r)}}function rs(t,e,...n){if(t=en(t),arguments.length===1&&(e=rx.newId()),l1("doc","path",e),t instanceof ip){const r=it.fromString(e,...n);return yb(r),new zn(t,null,new me(r))}{if(!(t instanceof zn||t instanceof no))throw new oe(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(it.fromString(e,...n));return yb(r),new zn(t.firestore,t instanceof no?t.converter:null,new me(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new $x(this,"async_queue_retry"),this.Eu=()=>{const n=wm();n&&de("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=wm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=wm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new bs;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Ku(e))throw e;de("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const s=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw oi("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const s=Gv.createAndSchedule(this,e,n,r,i=>this.Vu(i));return this.lu.push(s),s}du(){this.hu&&be()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}class zl extends ip{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new Z2}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||c1(this),this._firestoreClient.terminate()}}function eM(t,e){const n=vv(),r="(default)",s=ma(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=SR("firestore");i&&X2(s,...i)}return s}function op(t){return t._firestoreClient||c1(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function c1(t){var e,n,r;const s=t._freezeSettings(),i=function(l,a,c,d){return new xD(l,a,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,a1(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new z2(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class nM{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Al(tn.fromBase64String(e))}catch(n){throw new oe(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Al(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM=/^__.*__$/;class sM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new va(e,this.data,this.fieldMask,n,this.fieldTransforms):new Qu(e,this.data,n,this.fieldTransforms)}}function u1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class ny{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.yu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new ny(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Su({path:r,Du:!1});return s.vu(e),s}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Su({path:r,Du:!1});return s.yu(),s}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return mf(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(u1(this.wu)&&rM.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class iM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||tp(e)}Nu(e,n,r,s=!1){return new ny({wu:e,methodName:n,Ou:r,path:Yt.emptyPath(),Du:!1,xu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ap(t){const e=t._freezeSettings(),n=tp(t._databaseId);return new iM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function d1(t,e,n,r,s,i={}){const o=t.Nu(i.merge||i.mergeFields?2:0,e,n,s);m1("Data must be an object, but it was:",o,r);const l=f1(r,o);let a,c;if(i.merge)a=new Yr(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const g=oM(e,h,n);if(!o.contains(g))throw new oe(K.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);lM(d,g)||d.push(g)}a=new Yr(d),c=o.fieldTransforms.filter(h=>a.covers(h.field))}else a=null,c=o.fieldTransforms;return new sM(new Tr(l),a,c)}class ry extends Zv{_toFieldTransform(e){return new JD(e.path,new Pu)}isEqual(e){return e instanceof ry}}function h1(t,e,n,r=!1){return sy(n,t.Nu(r?4:3,e))}function sy(t,e){if(p1(t=en(t)))return m1("Unsupported field value:",e,t),f1(t,e);if(t instanceof Zv)return function(r,s){if(!u1(s.wu))throw s.Mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Mu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let a=sy(l,s.Fu(o));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=en(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return KD(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=$t.fromDate(r);return{timestampValue:ff(s.serializer,i)}}if(r instanceof $t){const i=new $t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ff(s.serializer,i)}}if(r instanceof ey)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Al)return{bytesValue:Px(s.serializer,r._byteString)};if(r instanceof zn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Fv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof ty)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(a=>{if(typeof a!="number")throw l.Mu("VectorValues must only contain numeric values.");return Lv(l.serializer,a)})}}}}}}(r,s);throw s.Mu(`Unsupported field value: ${sp(r)}`)}(t,e)}function f1(t,e){const n={};return sx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$l(t,(r,s)=>{const i=sy(s,e.bu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function p1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $t||t instanceof ey||t instanceof Al||t instanceof zn||t instanceof Zv||t instanceof ty)}function m1(t,e,n){if(!p1(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=sp(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function oM(t,e,n){if((e=en(e))instanceof Xv)return e._internalPath;if(typeof e=="string")return g1(t,e);throw mf("Field path arguments must be of type string or ",t,!1,void 0,n)}const aM=new RegExp("[~\\*/\\[\\]]");function g1(t,e,n){if(e.search(aM)>=0)throw mf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xv(...e.split("."))._internalPath}catch{throw mf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function mf(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let a="";return(i||o)&&(a+=" (found",i&&(a+=` in field ${r}`),o&&(a+=` in document ${s}`),a+=")"),new oe(K.INVALID_ARGUMENT,l+t+a)}function lM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(oy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cM extends iy{data(){return super.data()}}function oy(t,e){return typeof e=="string"?g1(t,e):e instanceof Xv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new oe(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ay{}class lp extends ay{}function dM(t,e,...n){let r=[];e instanceof ay&&r.push(e),r=r.concat(n),function(i){const o=i.filter(a=>a instanceof cy).length,l=i.filter(a=>a instanceof ly).length;if(o>1||o>0&&l>0)throw new oe(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class ly extends lp{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ly(e,n,r)}_apply(e){const n=this._parse(e);return _1(e._query,n),new fi(e.firestore,e.converter,Qg(e._query,n))}_parse(e){const n=ap(e.firestore);return function(i,o,l,a,c,d,h){let g;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new oe(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Tb(h,d);const _=[];for(const E of h)_.push(Eb(a,i,E));g={arrayValue:{values:_}}}else g=Eb(a,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Tb(h,d),g=h1(l,o,h,d==="in"||d==="not-in");return jt.create(c,d,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class cy extends ay{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new cy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ns.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const a of l)_1(o,a),o=Qg(o,a)}(e._query,n),new fi(e.firestore,e.converter,Qg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class uy extends lp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new uy(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new oe(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new oe(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Cu(i,o)}(e._query,this._field,this._direction);return new fi(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new _a(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function hM(t,e="asc"){const n=e,r=oy("orderBy",t);return uy._create(r,n)}class dy extends lp{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new dy(e,n,r)}_apply(e){return new fi(e.firestore,e.converter,df(e._query,this._limit,this._limitType))}}function fM(t){return dy._create("limit",t,"F")}class hy extends lp{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new hy(e,n,r)}_apply(e){const n=mM(e,this.type,this._docOrFields,this._inclusive);return new fi(e.firestore,e.converter,function(s,i){return new _a(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,i,s.endAt)}(e._query,n))}}function pM(...t){return hy._create("startAfter",t,!1)}function mM(t,e,n,r){if(n[0]=en(n[0]),n[0]instanceof iy)return function(i,o,l,a,c){if(!a)throw new oe(K.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const d=[];for(const h of ul(i))if(h.field.isKeyField())d.push(uf(o,a.key));else{const g=a.data.field(h.field);if(Qf(g))throw new oe(K.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(g===null){const _=h.field.canonicalString();throw new oe(K.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${_}' (used as the orderBy) does not exist.`)}d.push(g)}return new Sl(d,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const s=ap(t.firestore);return function(o,l,a,c,d,h){const g=o.explicitOrderBy;if(d.length>g.length)throw new oe(K.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const _=[];for(let E=0;E<d.length;E++){const S=d[E];if(g[E].field.isKeyField()){if(typeof S!="string")throw new oe(K.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof S}`);if(!Dv(o)&&S.indexOf("/")!==-1)throw new oe(K.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${S}' contains a slash.`);const C=o.path.child(it.fromString(S));if(!me.isDocumentKey(C))throw new oe(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${C}' is not because it contains an odd number of segments.`);const I=new me(C);_.push(uf(l,I))}else{const C=h1(a,c,S);_.push(C)}}return new Sl(_,h)}(t._query,t.firestore._databaseId,s,e,n,r)}}function Eb(t,e,n){if(typeof(n=en(n))=="string"){if(n==="")throw new oe(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Dv(e)&&n.indexOf("/")!==-1)throw new oe(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(it.fromString(n));if(!me.isDocumentKey(r))throw new oe(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return uf(t,new me(r))}if(n instanceof zn)return uf(t,n._key);throw new oe(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sp(n)}.`)}function Tb(t,e){if(!Array.isArray(t)||t.length===0)throw new oe(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _1(t,e){const n=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new oe(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class gM{convertValue(e,n="none"){switch(sa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ra(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return $l(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>xt(o.doubleValue));return new ty(i)}convertGeoPoint(e){return new ey(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Pv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xu(e));default:return null}}convertTimestamp(e){const n=oo(e);return new $t(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=it.fromString(e);Xe(Mx(r));const s=new Au(r.get(1),r.get(3)),i=new me(r.popFirst(5));return s.isEqual(n)||oi(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(t,e,n){let r;return r=t?t.toFirestore(e):e,r}function _M(){return new tM("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class y1 extends iy{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(oy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ah extends y1{data(e={}){return super.data(e)}}class vM{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Nc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ah(this._firestore,this._userDataWriter,r.key,r,new Nc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const a=new Ah(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Nc(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:a,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const a=new Ah(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Nc(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return l.type!==0&&(c=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:yM(l.type),doc:a,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function yM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(t){t=li(t,zn);const e=li(t.firestore,zl);return K2(op(e),t._key).then(n=>bM(e,t,n))}class fy extends gM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Al(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zn(this.firestore,null,n)}}function w1(t){t=li(t,fi);const e=li(t.firestore,zl),n=op(e),r=new fy(e);return uM(t._query),Q2(n,t._query).then(s=>new vM(e,r,t,s))}function wM(t,e,n){t=li(t,zn);const r=li(t.firestore,zl),s=v1(t.converter,e);return b1(r,[d1(ap(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Ts.none())])}function py(t,e){const n=li(t.firestore,zl),r=rs(t),s=v1(t.converter,e);return b1(n,[d1(ap(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Ts.exists(!1))]).then(()=>r)}function b1(t,e){return function(r,s){const i=new bs;return r.asyncQueue.enqueueAndForget(async()=>N2(await W2(r),s,i)),i.promise}(op(t),e)}function bM(t,e,n){const r=n.docs.get(e._key),s=new fy(t);return new y1(t,s,e._key,r,new Nc(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(t){return TM(t,{count:_M()})}function TM(t,e){const n=li(t.firestore,zl),r=op(n),s=SD(e,(i,o)=>new iL(o,i.aggregateType,i._internalFieldPath));return Y2(r,t._query,s).then(i=>function(l,a,c){const d=new fy(l);return new nM(a,d,c)}(n,t,i))}function E1(){return new ry("serverTimestamp")}(function(e,n=!0){(function(s){Fl=s})(Ml),As(new es("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new zl(new uD(r.getProvider("auth-internal")),new pD(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new oe(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Au(c.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),xr($0,"4.7.1",e),xr($0,"4.7.1","esm2017")})();const T1="@firebase/installations",my="0.6.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1=1e4,I1=`w:${my}`,x1="FIS_v2",SM="https://firebaseinstallations.googleapis.com/v1",IM=60*60*1e3,xM="installations",AM="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ia=new pa(xM,AM,kM);function A1(t){return t instanceof ss&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1({projectId:t}){return`${SM}/projects/${t}/installations`}function C1(t){return{token:t.token,requestStatus:2,expiresIn:PM(t.expiresIn),creationTime:Date.now()}}async function P1(t,e){const r=(await e.json()).error;return ia.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function R1({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function CM(t,{refreshToken:e}){const n=R1(t);return n.append("Authorization",RM(e)),n}async function j1(t){const e=await t();return e.status>=500&&e.status<600?t():e}function PM(t){return Number(t.replace("s","000"))}function RM(t){return`${x1} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jM({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=k1(t),s=R1(t),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:x1,appId:t.appId,sdkVersion:I1},l={method:"POST",headers:s,body:JSON.stringify(o)},a=await j1(()=>fetch(r,l));if(a.ok){const c=await a.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:C1(c.authToken)}}else throw await P1("Create Installation",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM=/^[cdef][\w-]{21}$/,r_="";function DM(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=LM(t);return NM.test(n)?n:r_}catch{return r_}}function LM(t){return OM(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=new Map;function D1(t,e){const n=cp(t);L1(n,e),MM(n,e)}function L1(t,e){const n=N1.get(t);if(n)for(const r of n)r(e)}function MM(t,e){const n=VM();n&&n.postMessage({key:t,fid:e}),FM()}let Bo=null;function VM(){return!Bo&&"BroadcastChannel"in self&&(Bo=new BroadcastChannel("[Firebase] FID Change"),Bo.onmessage=t=>{L1(t.data.key,t.data.fid)}),Bo}function FM(){N1.size===0&&Bo&&(Bo.close(),Bo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M="firebase-installations-database",UM=1,oa="firebase-installations-store";let Em=null;function gy(){return Em||(Em=uI($M,UM,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(oa)}}})),Em}async function gf(t,e){const n=cp(t),s=(await gy()).transaction(oa,"readwrite"),i=s.objectStore(oa),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&D1(t,e.fid),e}async function M1(t){const e=cp(t),r=(await gy()).transaction(oa,"readwrite");await r.objectStore(oa).delete(e),await r.done}async function up(t,e){const n=cp(t),s=(await gy()).transaction(oa,"readwrite"),i=s.objectStore(oa),o=await i.get(n),l=e(o);return l===void 0?await i.delete(n):await i.put(l,n),await s.done,l&&(!o||o.fid!==l.fid)&&D1(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _y(t){let e;const n=await up(t.appConfig,r=>{const s=BM(r),i=zM(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===r_?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function BM(t){const e=t||{fid:DM(),registrationStatus:0};return V1(e)}function zM(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(ia.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=qM(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:HM(t)}:{installationEntry:e}}async function qM(t,e){try{const n=await jM(t,e);return gf(t.appConfig,n)}catch(n){throw A1(n)&&n.customData.serverCode===409?await M1(t.appConfig):await gf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function HM(t){let e=await Sb(t.appConfig);for(;e.registrationStatus===1;)await O1(100),e=await Sb(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await _y(t);return r||n}return e}function Sb(t){return up(t,e=>{if(!e)throw ia.create("installation-not-found");return V1(e)})}function V1(t){return WM(t)?{fid:t.fid,registrationStatus:0}:t}function WM(t){return t.registrationStatus===1&&t.registrationTime+S1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GM({appConfig:t,heartbeatServiceProvider:e},n){const r=KM(t,n),s=CM(t,n),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:I1,appId:t.appId}},l={method:"POST",headers:s,body:JSON.stringify(o)},a=await j1(()=>fetch(r,l));if(a.ok){const c=await a.json();return C1(c)}else throw await P1("Generate Auth Token",a)}function KM(t,{fid:e}){return`${k1(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vy(t,e=!1){let n;const r=await up(t.appConfig,i=>{if(!F1(i))throw ia.create("not-registered");const o=i.authToken;if(!e&&JM(o))return i;if(o.requestStatus===1)return n=QM(t,e),i;{if(!navigator.onLine)throw ia.create("app-offline");const l=ZM(i);return n=YM(t,l),l}});return n?await n:r.authToken}async function QM(t,e){let n=await Ib(t.appConfig);for(;n.authToken.requestStatus===1;)await O1(100),n=await Ib(t.appConfig);const r=n.authToken;return r.requestStatus===0?vy(t,e):r}function Ib(t){return up(t,e=>{if(!F1(e))throw ia.create("not-registered");const n=e.authToken;return eV(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function YM(t,e){try{const n=await GM(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await gf(t.appConfig,r),n}catch(n){if(A1(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await M1(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await gf(t.appConfig,r)}throw n}}function F1(t){return t!==void 0&&t.registrationStatus===2}function JM(t){return t.requestStatus===2&&!XM(t)}function XM(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+IM}function ZM(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function eV(t){return t.requestStatus===1&&t.requestTime+S1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tV(t){const e=t,{installationEntry:n,registrationPromise:r}=await _y(e);return r?r.catch(console.error):vy(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nV(t,e=!1){const n=t;return await rV(n),(await vy(n,e)).token}async function rV(t){const{registrationPromise:e}=await _y(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(t){if(!t||!t.options)throw Tm("App Configuration");if(!t.name)throw Tm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Tm(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Tm(t){return ia.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="installations",iV="installations-internal",oV=t=>{const e=t.getProvider("app").getImmediate(),n=sV(e),r=ma(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},aV=t=>{const e=t.getProvider("app").getImmediate(),n=ma(e,$1).getImmediate();return{getId:()=>tV(n),getToken:s=>nV(n,s)}};function lV(){As(new es($1,oV,"PUBLIC")),As(new es(iV,aV,"PRIVATE"))}lV();xr(T1,my);xr(T1,my,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f="analytics",cV="firebase_id",uV="origin",dV=60*1e3,hV="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",yy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn=new qf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},rr=new pa("analytics","Analytics",fV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(t){if(!t.startsWith(yy)){const e=rr.create("invalid-gtag-resource",{gtagURL:t});return qn.warn(e.message),""}return t}function U1(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function mV(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function gV(t,e){const n=mV("firebase-js-sdk-policy",{createScriptURL:pV}),r=document.createElement("script"),s=`${yy}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function _V(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function vV(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const a=(await U1(n)).find(c=>c.measurementId===s);a&&await e[a.appId]}}catch(l){qn.error(l)}t("config",s,i)}async function yV(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const l=await U1(n);for(const a of o){const c=l.find(h=>h.measurementId===a),d=c&&e[c.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){qn.error(i)}}function wV(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[l,a]=o;await yV(t,e,n,l,a)}else if(i==="config"){const[l,a]=o;await vV(t,e,n,r,l,a)}else if(i==="consent"){const[l,a]=o;t("consent",l,a)}else if(i==="get"){const[l,a,c]=o;t("get",l,a,c)}else if(i==="set"){const[l]=o;t("set",l)}else t(i,...o)}catch(l){qn.error(l)}}return s}function bV(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=wV(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function EV(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(yy)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV=30,SV=1e3;class IV{constructor(e={},n=SV){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const B1=new IV;function xV(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function AV(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:xV(r)},i=hV.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let l="";try{const a=await o.json();!((e=a.error)===null||e===void 0)&&e.message&&(l=a.error.message)}catch{}throw rr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function kV(t,e=B1,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw rr.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw rr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new RV;return setTimeout(async()=>{l.abort()},dV),z1({appId:r,apiKey:s,measurementId:i},o,l,e)}async function z1(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=B1){var i;const{appId:o,measurementId:l}=t;try{await CV(r,e)}catch(a){if(l)return qn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${a==null?void 0:a.message}]`),{appId:o,measurementId:l};throw a}try{const a=await AV(t);return s.deleteThrottleMetadata(o),a}catch(a){const c=a;if(!PV(c)){if(s.deleteThrottleMetadata(o),l)return qn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:l};throw a}const d=Number((i=c==null?void 0:c.customData)===null||i===void 0?void 0:i.httpStatus)===503?d0(n,s.intervalMillis,TV):d0(n,s.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return s.setThrottleMetadata(o,h),qn.debug(`Calling attemptFetch again in ${d} millis`),z1(t,h,r,s)}}function CV(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(rr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function PV(t){if(!(t instanceof ss)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class RV{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function jV(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OV(){if(oI())try{await aI()}catch(t){return qn.warn(rr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return qn.warn(rr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function NV(t,e,n,r,s,i,o){var l;const a=kV(t);a.then(_=>{n[_.measurementId]=_.appId,t.options.measurementId&&_.measurementId!==t.options.measurementId&&qn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${_.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_=>qn.error(_)),e.push(a);const c=OV().then(_=>{if(_)return r.getId()}),[d,h]=await Promise.all([a,c]);EV(i)||gV(i,d.measurementId),s("js",new Date);const g=(l=o==null?void 0:o.config)!==null&&l!==void 0?l:{};return g[uV]="firebase",g.update=!0,h!=null&&(g[cV]=h),s("config",d.measurementId,g),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e){this.app=e}_delete(){return delete Yc[this.app.options.appId],Promise.resolve()}}let Yc={},xb=[];const Ab={};let Sm="dataLayer",LV="gtag",kb,q1,Cb=!1;function MV(){const t=[];if(iI()&&t.push("This is a browser extension environment."),jR()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=rr.create("invalid-analytics-context",{errorInfo:e});qn.warn(n.message)}}function VV(t,e,n){MV();const r=t.options.appId;if(!r)throw rr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)qn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw rr.create("no-api-key");if(Yc[r]!=null)throw rr.create("already-exists",{id:r});if(!Cb){_V(Sm);const{wrappedGtag:i,gtagCore:o}=bV(Yc,xb,Ab,Sm,LV);q1=i,kb=o,Cb=!0}return Yc[r]=NV(t,xb,Ab,e,kb,Sm,n),new DV(t)}function FV(t=vv()){t=en(t);const e=ma(t,_f);return e.isInitialized()?e.getImmediate():$V(t)}function $V(t,e={}){const n=ma(t,_f);if(n.isInitialized()){const s=n.getImmediate();if(bu(e,n.getOptions()))return s;throw rr.create("already-initialized")}return n.initialize({options:e})}function UV(t,e,n,r){t=en(t),jV(q1,Yc[t.app.options.appId],e,n,r).catch(s=>qn.error(s))}const Pb="@firebase/analytics",Rb="0.10.7";function BV(){As(new es(_f,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return VV(r,s,n)},"PUBLIC")),As(new es("analytics-internal",t,"PRIVATE")),xr(Pb,Rb),xr(Pb,Rb,"esm2017");function t(e){try{const n=e.getProvider(_f).getImmediate();return{logEvent:(r,s,i)=>UV(n,r,s,i)}}catch(n){throw rr.create("interop-component-reg-failed",{reason:n})}}}BV();const zV={apiKey:"AIzaSyDR27NVCQmVwVNZfNXVGpLKSsJj8f2Filg",authDomain:"darelom-students.firebaseapp.com",projectId:"darelom-students",storageBucket:"darelom-students.firebasestorage.app",messagingSenderId:"993473208393",appId:"1:993473208393:web:294652795108cc161c5f98",measurementId:"G-1K85RQXZQ1"},qV=dI(zV),kn=eM(),dp=sD();FV(qV);/**
 * @remix-run/router v1.19.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gt(){return gt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gt.apply(this,arguments)}var Ct;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ct||(Ct={}));const jb="popstate";function HV(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:l="",hash:a=""}=pi(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Ou("",{pathname:o,search:l,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let a=s.location.href,c=a.indexOf("#");l=c===-1?a:a.slice(0,c)}return l+"#"+(typeof i=="string"?i:la(i))}function r(s,i){aa(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return GV(e,n,r,t)}function Ae(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function aa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WV(){return Math.random().toString(36).substr(2,8)}function Ob(t,e){return{usr:t.state,key:t.key,idx:e}}function Ou(t,e,n,r){return n===void 0&&(n=null),gt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?pi(e):e,{state:n,key:e&&e.key||r||WV()})}function la(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function pi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function GV(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=Ct.Pop,a=null,c=d();c==null&&(c=0,o.replaceState(gt({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Ct.Pop;let C=d(),I=C==null?null:C-c;c=C,a&&a({action:l,location:S.location,delta:I})}function g(C,I){l=Ct.Push;let w=Ou(S.location,C,I);n&&n(w,C),c=d()+1;let T=Ob(w,c),O=S.createHref(w);try{o.pushState(T,"",O)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;s.location.assign(O)}i&&a&&a({action:l,location:S.location,delta:1})}function _(C,I){l=Ct.Replace;let w=Ou(S.location,C,I);n&&n(w,C),c=d();let T=Ob(w,c),O=S.createHref(w);o.replaceState(T,"",O),i&&a&&a({action:l,location:S.location,delta:0})}function E(C){let I=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof C=="string"?C:la(C);return w=w.replace(/ $/,"%20"),Ae(I,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,I)}let S={get action(){return l},get location(){return t(s,o)},listen(C){if(a)throw new Error("A history only accepts one active listener");return s.addEventListener(jb,h),a=C,()=>{s.removeEventListener(jb,h),a=null}},createHref(C){return e(s,C)},createURL:E,encodeLocation(C){let I=E(C);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:g,replace:_,go(C){return o.go(C)}};return S}var Je;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Je||(Je={}));const KV=new Set(["lazy","caseSensitive","path","id","index","children"]);function QV(t){return t.index===!0}function Nu(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((s,i)=>{let o=[...n,String(i)],l=typeof s.id=="string"?s.id:o.join("-");if(Ae(s.index!==!0||!s.children,"Cannot specify children on an index route"),Ae(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),QV(s)){let a=gt({},s,e(s),{id:l});return r[l]=a,a}else{let a=gt({},s,e(s),{id:l,children:void 0});return r[l]=a,s.children&&(a.children=Nu(s.children,e,o,r)),a}})}function Lo(t,e,n){return n===void 0&&(n="/"),kh(t,e,n,!1)}function kh(t,e,n,r){let s=typeof e=="string"?pi(e):e,i=ql(s.pathname||"/",n);if(i==null)return null;let o=H1(t);JV(o);let l=null;for(let a=0;l==null&&a<o.length;++a){let c=lF(i);l=oF(o[a],c,r)}return l}function YV(t,e){let{route:n,pathname:r,params:s}=t;return{id:n.id,pathname:r,params:s,data:e[n.id],handle:n.handle}}function H1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let a={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};a.relativePath.startsWith("/")&&(Ae(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let c=Zs([r,a.relativePath]),d=n.concat(a);i.children&&i.children.length>0&&(Ae(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),H1(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:sF(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let a of W1(i.path))s(i,o,a)}),e}function W1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=W1(r.join("/")),l=[];return l.push(...o.map(a=>a===""?i:[i,a].join("/"))),s&&l.push(...o),l.map(a=>t.startsWith("/")&&a===""?"/":a)}function JV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:iF(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const XV=/^:[\w-]+$/,ZV=3,eF=2,tF=1,nF=10,rF=-2,Nb=t=>t==="*";function sF(t,e){let n=t.split("/"),r=n.length;return n.some(Nb)&&(r+=rF),e&&(r+=eF),n.filter(s=>!Nb(s)).reduce((s,i)=>s+(XV.test(i)?ZV:i===""?tF:nF),r)}function iF(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function oF(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,s={},i="/",o=[];for(let l=0;l<r.length;++l){let a=r[l],c=l===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=Db({path:a.relativePath,caseSensitive:a.caseSensitive,end:c},d),g=a.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=Db({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Zs([i,h.pathname]),pathnameBase:dF(Zs([i,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(i=Zs([i,h.pathnameBase]))}return o}function Db(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=aF(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:g,isOptional:_}=d;if(g==="*"){let S=l[h]||"";o=i.slice(0,i.length-S.length).replace(/(.)\/+$/,"$1")}const E=l[h];return _&&!E?c[g]=void 0:c[g]=(E||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function aF(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),aa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function lF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return aa(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ql(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function cF(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?pi(t):t;return{pathname:n?n.startsWith("/")?n:uF(n,e):e,search:hF(r),hash:fF(s)}}function uF(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Im(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function G1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hp(t,e){let n=G1(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function fp(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=pi(t):(s=gt({},t),Ae(!s.pathname||!s.pathname.includes("?"),Im("?","pathname","search",s)),Ae(!s.pathname||!s.pathname.includes("#"),Im("#","pathname","hash",s)),Ae(!s.search||!s.search.includes("#"),Im("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),h-=1;s.pathname=g.join("/")}l=h>=0?e[h]:"/"}let a=cF(s,l),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(c||d)&&(a.pathname+="/"),a}const Zs=t=>t.join("/").replace(/\/\/+/g,"/"),dF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),hF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,fF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class vf{constructor(e,n,r,s){s===void 0&&(s=!1),this.status=e,this.statusText=n||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function pp(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const K1=["post","put","patch","delete"],pF=new Set(K1),mF=["get",...K1],gF=new Set(mF),_F=new Set([301,302,303,307,308]),vF=new Set([307,308]),xm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},yF={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},wc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},wy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wF=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Q1="remix-router-transitions";function bF(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Ae(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(t.mapRouteProperties)s=t.mapRouteProperties;else if(t.detectErrorBoundary){let F=t.detectErrorBoundary;s=U=>({hasErrorBoundary:F(U)})}else s=wF;let i={},o=Nu(t.routes,s,void 0,i),l,a=t.basename||"/",c=t.unstable_dataStrategy||xF,d=t.unstable_patchRoutesOnMiss,h=gt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),g=null,_=new Set,E=null,S=null,C=null,I=t.hydrationData!=null,w=Lo(o,t.history.location,a),T=null;if(w==null&&!d){let F=Tn(404,{pathname:t.history.location.pathname}),{matches:U,route:q}=Hb(o);w=U,T={[q.id]:F}}w&&!t.hydrationData&&mr(w,o,t.history.location.pathname).active&&(w=null);let O;if(w)if(w.some(F=>F.route.lazy))O=!1;else if(!w.some(F=>F.route.loader))O=!0;else if(h.v7_partialHydration){let F=t.hydrationData?t.hydrationData.loaderData:null,U=t.hydrationData?t.hydrationData.errors:null,q=G=>G.route.loader?typeof G.route.loader=="function"&&G.route.loader.hydrate===!0?!1:F&&F[G.route.id]!==void 0||U&&U[G.route.id]!==void 0:!0;if(U){let G=w.findIndex(re=>U[re.route.id]!==void 0);O=w.slice(0,G+1).every(q)}else O=w.every(q)}else O=t.hydrationData!=null;else if(O=!1,w=[],h.v7_partialHydration){let F=mr(null,o,t.history.location.pathname);F.active&&F.matches&&(w=F.matches)}let M,R={historyAction:t.history.action,location:t.history.location,matches:w,initialized:O,navigation:xm,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||T,fetchers:new Map,blockers:new Map},x=Ct.Pop,y=!1,k,A=!1,j=new Map,D=null,N=!1,ie=!1,_e=[],ke=new Set,ee=new Map,z=0,Y=-1,se=new Map,ve=new Set,Te=new Map,W=new Map,He=new Set,Ke=new Map,Ze=new Map,nt=new Map,Nt=!1;function Dt(){if(g=t.history.listen(F=>{let{action:U,location:q,delta:G}=F;if(Nt){Nt=!1;return}aa(Ze.size===0||G!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let re=vo({currentLocation:R.location,nextLocation:q,historyAction:U});if(re&&G!=null){Nt=!0,t.history.go(G*-1),Os(re,{state:"blocked",location:q,proceed(){Os(re,{state:"proceeding",proceed:void 0,reset:void 0,location:q}),t.history.go(G)},reset(){let ce=new Map(R.blockers);ce.set(re,wc),rt({blockers:ce})}});return}return Lt(U,q)}),n){FF(e,j);let F=()=>$F(e,j);e.addEventListener("pagehide",F),D=()=>e.removeEventListener("pagehide",F)}return R.initialized||Lt(Ct.Pop,R.location,{initialHydration:!0}),M}function hr(){g&&g(),D&&D(),_.clear(),k&&k.abort(),R.fetchers.forEach((F,U)=>Wn(U)),R.blockers.forEach((F,U)=>gi(U))}function le(F){return _.add(F),()=>_.delete(F)}function rt(F,U){U===void 0&&(U={}),R=gt({},R,F);let q=[],G=[];h.v7_fetcherPersist&&R.fetchers.forEach((re,ce)=>{re.state==="idle"&&(He.has(ce)?G.push(ce):q.push(ce))}),[..._].forEach(re=>re(R,{deletedFetchers:G,unstable_viewTransitionOpts:U.viewTransitionOpts,unstable_flushSync:U.flushSync===!0})),h.v7_fetcherPersist&&(q.forEach(re=>R.fetchers.delete(re)),G.forEach(re=>Wn(re)))}function rn(F,U,q){var G,re;let{flushSync:ce}=q===void 0?{}:q,pe=R.actionData!=null&&R.navigation.formMethod!=null&&Gr(R.navigation.formMethod)&&R.navigation.state==="loading"&&((G=F.state)==null?void 0:G._isRedirect)!==!0,Z;U.actionData?Object.keys(U.actionData).length>0?Z=U.actionData:Z=null:pe?Z=R.actionData:Z=null;let we=U.loaderData?zb(R.loaderData,U.loaderData,U.matches||[],U.errors):R.loaderData,he=R.blockers;he.size>0&&(he=new Map(he),he.forEach((Pe,Ue)=>he.set(Ue,wc)));let fe=y===!0||R.navigation.formMethod!=null&&Gr(R.navigation.formMethod)&&((re=F.state)==null?void 0:re._isRedirect)!==!0;l&&(o=l,l=void 0),N||x===Ct.Pop||(x===Ct.Push?t.history.push(F,F.state):x===Ct.Replace&&t.history.replace(F,F.state));let Ce;if(x===Ct.Pop){let Pe=j.get(R.location.pathname);Pe&&Pe.has(F.pathname)?Ce={currentLocation:R.location,nextLocation:F}:j.has(F.pathname)&&(Ce={currentLocation:F,nextLocation:R.location})}else if(A){let Pe=j.get(R.location.pathname);Pe?Pe.add(F.pathname):(Pe=new Set([F.pathname]),j.set(R.location.pathname,Pe)),Ce={currentLocation:R.location,nextLocation:F}}rt(gt({},U,{actionData:Z,loaderData:we,historyAction:x,location:F,initialized:!0,navigation:xm,revalidation:"idle",restoreScrollPosition:yo(F,U.matches||R.matches),preventScrollReset:fe,blockers:he}),{viewTransitionOpts:Ce,flushSync:ce===!0}),x=Ct.Pop,y=!1,A=!1,N=!1,ie=!1,_e=[]}async function is(F,U){if(typeof F=="number"){t.history.go(F);return}let q=s_(R.location,R.matches,a,h.v7_prependBasename,F,h.v7_relativeSplatPath,U==null?void 0:U.fromRouteId,U==null?void 0:U.relative),{path:G,submission:re,error:ce}=Lb(h.v7_normalizeFormMethod,!1,q,U),pe=R.location,Z=Ou(R.location,G,U&&U.state);Z=gt({},Z,t.history.encodeLocation(Z));let we=U&&U.replace!=null?U.replace:void 0,he=Ct.Push;we===!0?he=Ct.Replace:we===!1||re!=null&&Gr(re.formMethod)&&re.formAction===R.location.pathname+R.location.search&&(he=Ct.Replace);let fe=U&&"preventScrollReset"in U?U.preventScrollReset===!0:void 0,Ce=(U&&U.unstable_flushSync)===!0,Pe=vo({currentLocation:pe,nextLocation:Z,historyAction:he});if(Pe){Os(Pe,{state:"blocked",location:Z,proceed(){Os(Pe,{state:"proceeding",proceed:void 0,reset:void 0,location:Z}),is(F,U)},reset(){let Ue=new Map(R.blockers);Ue.set(Pe,wc),rt({blockers:Ue})}});return}return await Lt(he,Z,{submission:re,pendingError:ce,preventScrollReset:fe,replace:U&&U.replace,enableViewTransition:U&&U.unstable_viewTransition,flushSync:Ce})}function Rs(){if(et(),rt({revalidation:"loading"}),R.navigation.state!=="submitting"){if(R.navigation.state==="idle"){Lt(R.historyAction,R.location,{startUninterruptedRevalidation:!0});return}Lt(x||R.historyAction,R.navigation.location,{overrideNavigation:R.navigation})}}async function Lt(F,U,q){k&&k.abort(),k=null,x=F,N=(q&&q.startUninterruptedRevalidation)===!0,vi(R.location,R.matches),y=(q&&q.preventScrollReset)===!0,A=(q&&q.enableViewTransition)===!0;let G=l||o,re=q&&q.overrideNavigation,ce=Lo(G,U,a),pe=(q&&q.flushSync)===!0,Z=mr(ce,G,U.pathname);if(Z.active&&Z.matches&&(ce=Z.matches),!ce){let{error:Ie,notFoundMatches:lt,route:ct}=Or(U.pathname);rn(U,{matches:lt,loaderData:{},errors:{[ct.id]:Ie}},{flushSync:pe});return}if(R.initialized&&!ie&&jF(R.location,U)&&!(q&&q.submission&&Gr(q.submission.formMethod))){rn(U,{matches:ce},{flushSync:pe});return}k=new AbortController;let we=Ra(t.history,U,k.signal,q&&q.submission),he;if(q&&q.pendingError)he=[el(ce).route.id,{type:Je.error,error:q.pendingError}];else if(q&&q.submission&&Gr(q.submission.formMethod)){let Ie=await js(we,U,q.submission,ce,Z.active,{replace:q.replace,flushSync:pe});if(Ie.shortCircuited)return;if(Ie.pendingActionResult){let[lt,ct]=Ie.pendingActionResult;if(Xn(ct)&&pp(ct.error)&&ct.error.status===404){k=null,rn(U,{matches:Ie.matches,loaderData:{},errors:{[lt]:ct.error}});return}}ce=Ie.matches||ce,he=Ie.pendingActionResult,re=Am(U,q.submission),pe=!1,Z.active=!1,we=Ra(t.history,we.url,we.signal)}let{shortCircuited:fe,matches:Ce,loaderData:Pe,errors:Ue}=await Pr(we,U,ce,Z.active,re,q&&q.submission,q&&q.fetcherSubmission,q&&q.replace,q&&q.initialHydration===!0,pe,he);fe||(k=null,rn(U,gt({matches:Ce||ce},qb(he),{loaderData:Pe,errors:Ue})))}async function js(F,U,q,G,re,ce){ce===void 0&&(ce={}),et();let pe=MF(U,q);if(rt({navigation:pe},{flushSync:ce.flushSync===!0}),re){let he=await Ns(G,U.pathname,F.signal);if(he.type==="aborted")return{shortCircuited:!0};if(he.type==="error"){let{boundaryId:fe,error:Ce}=Nr(U.pathname,he);return{matches:he.partialMatches,pendingActionResult:[fe,{type:Je.error,error:Ce}]}}else if(he.matches)G=he.matches;else{let{notFoundMatches:fe,error:Ce,route:Pe}=Or(U.pathname);return{matches:fe,pendingActionResult:[Pe.id,{type:Je.error,error:Ce}]}}}let Z,we=Dc(G,U);if(!we.route.action&&!we.route.lazy)Z={type:Je.error,error:Tn(405,{method:F.method,pathname:U.pathname,routeId:we.route.id})};else if(Z=(await Hn("action",F,[we],G))[0],F.signal.aborted)return{shortCircuited:!0};if(qo(Z)){let he;return ce&&ce.replace!=null?he=ce.replace:he=$b(Z.response.headers.get("Location"),new URL(F.url),a)===R.location.pathname+R.location.search,await _n(F,Z,{submission:q,replace:he}),{shortCircuited:!0}}if(zo(Z))throw Tn(400,{type:"defer-action"});if(Xn(Z)){let he=el(G,we.route.id);return(ce&&ce.replace)!==!0&&(x=Ct.Push),{matches:G,pendingActionResult:[he.route.id,Z]}}return{matches:G,pendingActionResult:[we.route.id,Z]}}async function Pr(F,U,q,G,re,ce,pe,Z,we,he,fe){let Ce=re||Am(U,ce),Pe=ce||pe||Qb(Ce),Ue=!N&&(!h.v7_partialHydration||!we);if(G){if(Ue){let tt=jn(fe);rt(gt({navigation:Ce},tt!==void 0?{actionData:tt}:{}),{flushSync:he})}let ge=await Ns(q,U.pathname,F.signal);if(ge.type==="aborted")return{shortCircuited:!0};if(ge.type==="error"){let{boundaryId:tt,error:St}=Nr(U.pathname,ge);return{matches:ge.partialMatches,loaderData:{},errors:{[tt]:St}}}else if(ge.matches)q=ge.matches;else{let{error:tt,notFoundMatches:St,route:We}=Or(U.pathname);return{matches:St,loaderData:{},errors:{[We.id]:tt}}}}let Ie=l||o,[lt,ct]=Mb(t.history,R,q,Pe,U,h.v7_partialHydration&&we===!0,h.v7_skipActionErrorRevalidation,ie,_e,ke,He,Te,ve,Ie,a,fe);if(fr(ge=>!(q&&q.some(tt=>tt.route.id===ge))||lt&&lt.some(tt=>tt.route.id===ge)),Y=++z,lt.length===0&&ct.length===0){let ge=as();return rn(U,gt({matches:q,loaderData:{},errors:fe&&Xn(fe[1])?{[fe[0]]:fe[1].error}:null},qb(fe),ge?{fetchers:new Map(R.fetchers)}:{}),{flushSync:he}),{shortCircuited:!0}}if(Ue){let ge={};if(!G){ge.navigation=Ce;let tt=jn(fe);tt!==void 0&&(ge.actionData=tt)}ct.length>0&&(ge.fetchers=gn(ct)),rt(ge,{flushSync:he})}ct.forEach(ge=>{ee.has(ge.key)&&sn(ge.key),ge.controller&&ee.set(ge.key,ge.controller)});let Dr=()=>ct.forEach(ge=>sn(ge.key));k&&k.signal.addEventListener("abort",Dr);let{loaderResults:gr,fetcherResults:Gn}=await ht(R.matches,q,lt,ct,F);if(F.signal.aborted)return{shortCircuited:!0};k&&k.signal.removeEventListener("abort",Dr),ct.forEach(ge=>ee.delete(ge.key));let Lr=Wb([...gr,...Gn]);if(Lr){if(Lr.idx>=lt.length){let ge=ct[Lr.idx-lt.length].key;ve.add(ge)}return await _n(F,Lr.result,{replace:Z}),{shortCircuited:!0}}let{loaderData:_r,errors:Mt}=Bb(R,q,lt,gr,fe,ct,Gn,Ke);Ke.forEach((ge,tt)=>{ge.subscribe(St=>{(St||ge.done)&&Ke.delete(tt)})}),h.v7_partialHydration&&we&&R.errors&&Object.entries(R.errors).filter(ge=>{let[tt]=ge;return!lt.some(St=>St.route.id===tt)}).forEach(ge=>{let[tt,St]=ge;Mt=Object.assign(Mt||{},{[tt]:St})});let yn=as(),cs=Ea(Y),Kn=yn||cs||ct.length>0;return gt({matches:q,loaderData:_r,errors:Mt},Kn?{fetchers:new Map(R.fetchers)}:{})}function jn(F){if(F&&!Xn(F[1]))return{[F[0]]:F[1].data};if(R.actionData)return Object.keys(R.actionData).length===0?null:R.actionData}function gn(F){return F.forEach(U=>{let q=R.fetchers.get(U.key),G=bc(void 0,q?q.data:void 0);R.fetchers.set(U.key,G)}),new Map(R.fetchers)}function Rr(F,U,q,G){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ee.has(F)&&sn(F);let re=(G&&G.unstable_flushSync)===!0,ce=l||o,pe=s_(R.location,R.matches,a,h.v7_prependBasename,q,h.v7_relativeSplatPath,U,G==null?void 0:G.relative),Z=Lo(ce,pe,a),we=mr(Z,ce,pe);if(we.active&&we.matches&&(Z=we.matches),!Z){vn(F,U,Tn(404,{pathname:pe}),{flushSync:re});return}let{path:he,submission:fe,error:Ce}=Lb(h.v7_normalizeFormMethod,!0,pe,G);if(Ce){vn(F,U,Ce,{flushSync:re});return}let Pe=Dc(Z,he);if(y=(G&&G.preventScrollReset)===!0,fe&&Gr(fe.formMethod)){mi(F,U,he,Pe,Z,we.active,re,fe);return}Te.set(F,{routeId:U,path:he}),os(F,U,he,Pe,Z,we.active,re,fe)}async function mi(F,U,q,G,re,ce,pe,Z){et(),Te.delete(F);function we(We){if(!We.route.action&&!We.route.lazy){let wn=Tn(405,{method:Z.formMethod,pathname:q,routeId:U});return vn(F,U,wn,{flushSync:pe}),!0}return!1}if(!ce&&we(G))return;let he=R.fetchers.get(F);at(F,VF(Z,he),{flushSync:pe});let fe=new AbortController,Ce=Ra(t.history,q,fe.signal,Z);if(ce){let We=await Ns(re,q,Ce.signal);if(We.type==="aborted")return;if(We.type==="error"){let{error:wn}=Nr(q,We);vn(F,U,wn,{flushSync:pe});return}else if(We.matches){if(re=We.matches,G=Dc(re,q),we(G))return}else{vn(F,U,Tn(404,{pathname:q}),{flushSync:pe});return}}ee.set(F,fe);let Pe=z,Ie=(await Hn("action",Ce,[G],re))[0];if(Ce.signal.aborted){ee.get(F)===fe&&ee.delete(F);return}if(h.v7_fetcherPersist&&He.has(F)){if(qo(Ie)||Xn(Ie)){at(F,Ci(void 0));return}}else{if(qo(Ie))if(ee.delete(F),Y>Pe){at(F,Ci(void 0));return}else return ve.add(F),at(F,bc(Z)),_n(Ce,Ie,{fetcherSubmission:Z});if(Xn(Ie)){vn(F,U,Ie.error);return}}if(zo(Ie))throw Tn(400,{type:"defer-action"});let lt=R.navigation.location||R.location,ct=Ra(t.history,lt,fe.signal),Dr=l||o,gr=R.navigation.state!=="idle"?Lo(Dr,R.navigation.location,a):R.matches;Ae(gr,"Didn't find any matches after fetcher action");let Gn=++z;se.set(F,Gn);let Lr=bc(Z,Ie.data);R.fetchers.set(F,Lr);let[_r,Mt]=Mb(t.history,R,gr,Z,lt,!1,h.v7_skipActionErrorRevalidation,ie,_e,ke,He,Te,ve,Dr,a,[G.route.id,Ie]);Mt.filter(We=>We.key!==F).forEach(We=>{let wn=We.key,wo=R.fetchers.get(wn),Ta=bc(void 0,wo?wo.data:void 0);R.fetchers.set(wn,Ta),ee.has(wn)&&sn(wn),We.controller&&ee.set(wn,We.controller)}),rt({fetchers:new Map(R.fetchers)});let yn=()=>Mt.forEach(We=>sn(We.key));fe.signal.addEventListener("abort",yn);let{loaderResults:cs,fetcherResults:Kn}=await ht(R.matches,gr,_r,Mt,ct);if(fe.signal.aborted)return;fe.signal.removeEventListener("abort",yn),se.delete(F),ee.delete(F),Mt.forEach(We=>ee.delete(We.key));let ge=Wb([...cs,...Kn]);if(ge){if(ge.idx>=_r.length){let We=Mt[ge.idx-_r.length].key;ve.add(We)}return _n(ct,ge.result)}let{loaderData:tt,errors:St}=Bb(R,R.matches,_r,cs,void 0,Mt,Kn,Ke);if(R.fetchers.has(F)){let We=Ci(Ie.data);R.fetchers.set(F,We)}Ea(Gn),R.navigation.state==="loading"&&Gn>Y?(Ae(x,"Expected pending action"),k&&k.abort(),rn(R.navigation.location,{matches:gr,loaderData:tt,errors:St,fetchers:new Map(R.fetchers)})):(rt({errors:St,loaderData:zb(R.loaderData,tt,gr,St),fetchers:new Map(R.fetchers)}),ie=!1)}async function os(F,U,q,G,re,ce,pe,Z){let we=R.fetchers.get(F);at(F,bc(Z,we?we.data:void 0),{flushSync:pe});let he=new AbortController,fe=Ra(t.history,q,he.signal);if(ce){let Ie=await Ns(re,q,fe.signal);if(Ie.type==="aborted")return;if(Ie.type==="error"){let{error:lt}=Nr(q,Ie);vn(F,U,lt,{flushSync:pe});return}else if(Ie.matches)re=Ie.matches,G=Dc(re,q);else{vn(F,U,Tn(404,{pathname:q}),{flushSync:pe});return}}ee.set(F,he);let Ce=z,Ue=(await Hn("loader",fe,[G],re))[0];if(zo(Ue)&&(Ue=await eA(Ue,fe.signal,!0)||Ue),ee.get(F)===he&&ee.delete(F),!fe.signal.aborted){if(He.has(F)){at(F,Ci(void 0));return}if(qo(Ue))if(Y>Ce){at(F,Ci(void 0));return}else{ve.add(F),await _n(fe,Ue);return}if(Xn(Ue)){vn(F,U,Ue.error);return}Ae(!zo(Ue),"Unhandled fetcher deferred data"),at(F,Ci(Ue.data))}}async function _n(F,U,q){let{submission:G,fetcherSubmission:re,replace:ce}=q===void 0?{}:q;U.response.headers.has("X-Remix-Revalidate")&&(ie=!0);let pe=U.response.headers.get("Location");Ae(pe,"Expected a Location header on the redirect Response"),pe=$b(pe,new URL(F.url),a);let Z=Ou(R.location,pe,{_isRedirect:!0});if(n){let Ue=!1;if(U.response.headers.has("X-Remix-Reload-Document"))Ue=!0;else if(wy.test(pe)){const Ie=t.history.createURL(pe);Ue=Ie.origin!==e.location.origin||ql(Ie.pathname,a)==null}if(Ue){ce?e.location.replace(pe):e.location.assign(pe);return}}k=null;let we=ce===!0||U.response.headers.has("X-Remix-Replace")?Ct.Replace:Ct.Push,{formMethod:he,formAction:fe,formEncType:Ce}=R.navigation;!G&&!re&&he&&fe&&Ce&&(G=Qb(R.navigation));let Pe=G||re;if(vF.has(U.response.status)&&Pe&&Gr(Pe.formMethod))await Lt(we,Z,{submission:gt({},Pe,{formAction:pe}),preventScrollReset:y});else{let Ue=Am(Z,G);await Lt(we,Z,{overrideNavigation:Ue,fetcherSubmission:re,preventScrollReset:y})}}async function Hn(F,U,q,G){try{let re=await AF(c,F,U,q,G,i,s);return await Promise.all(re.map((ce,pe)=>{if(NF(ce)){let Z=ce.result;return{type:Je.redirect,response:PF(Z,U,q[pe].route.id,G,a,h.v7_relativeSplatPath)}}return CF(ce)}))}catch(re){return q.map(()=>({type:Je.error,error:re}))}}async function ht(F,U,q,G,re){let[ce,...pe]=await Promise.all([q.length?Hn("loader",re,q,U):[],...G.map(Z=>{if(Z.matches&&Z.match&&Z.controller){let we=Ra(t.history,Z.path,Z.controller.signal);return Hn("loader",we,[Z.match],Z.matches).then(he=>he[0])}else return Promise.resolve({type:Je.error,error:Tn(404,{pathname:Z.path})})})]);return await Promise.all([Kb(F,q,ce,ce.map(()=>re.signal),!1,R.loaderData),Kb(F,G.map(Z=>Z.match),pe,G.map(Z=>Z.controller?Z.controller.signal:null),!0)]),{loaderResults:ce,fetcherResults:pe}}function et(){ie=!0,_e.push(...fr()),Te.forEach((F,U)=>{ee.has(U)&&(ke.add(U),sn(U))})}function at(F,U,q){q===void 0&&(q={}),R.fetchers.set(F,U),rt({fetchers:new Map(R.fetchers)},{flushSync:(q&&q.flushSync)===!0})}function vn(F,U,q,G){G===void 0&&(G={});let re=el(R.matches,U);Wn(F),rt({errors:{[re.route.id]:q},fetchers:new Map(R.fetchers)},{flushSync:(G&&G.flushSync)===!0})}function jr(F){return h.v7_fetcherPersist&&(W.set(F,(W.get(F)||0)+1),He.has(F)&&He.delete(F)),R.fetchers.get(F)||yF}function Wn(F){let U=R.fetchers.get(F);ee.has(F)&&!(U&&U.state==="loading"&&se.has(F))&&sn(F),Te.delete(F),se.delete(F),ve.delete(F),He.delete(F),ke.delete(F),R.fetchers.delete(F)}function On(F){if(h.v7_fetcherPersist){let U=(W.get(F)||0)-1;U<=0?(W.delete(F),He.add(F)):W.set(F,U)}else Wn(F);rt({fetchers:new Map(R.fetchers)})}function sn(F){let U=ee.get(F);Ae(U,"Expected fetch controller: "+F),U.abort(),ee.delete(F)}function _o(F){for(let U of F){let q=jr(U),G=Ci(q.data);R.fetchers.set(U,G)}}function as(){let F=[],U=!1;for(let q of ve){let G=R.fetchers.get(q);Ae(G,"Expected fetcher: "+q),G.state==="loading"&&(ve.delete(q),F.push(q),U=!0)}return _o(F),U}function Ea(F){let U=[];for(let[q,G]of se)if(G<F){let re=R.fetchers.get(q);Ae(re,"Expected fetcher: "+q),re.state==="loading"&&(sn(q),se.delete(q),U.push(q))}return _o(U),U.length>0}function Yl(F,U){let q=R.blockers.get(F)||wc;return Ze.get(F)!==U&&Ze.set(F,U),q}function gi(F){R.blockers.delete(F),Ze.delete(F)}function Os(F,U){let q=R.blockers.get(F)||wc;Ae(q.state==="unblocked"&&U.state==="blocked"||q.state==="blocked"&&U.state==="blocked"||q.state==="blocked"&&U.state==="proceeding"||q.state==="blocked"&&U.state==="unblocked"||q.state==="proceeding"&&U.state==="unblocked","Invalid blocker state transition: "+q.state+" -> "+U.state);let G=new Map(R.blockers);G.set(F,U),rt({blockers:G})}function vo(F){let{currentLocation:U,nextLocation:q,historyAction:G}=F;if(Ze.size===0)return;Ze.size>1&&aa(!1,"A router only supports one blocker at a time");let re=Array.from(Ze.entries()),[ce,pe]=re[re.length-1],Z=R.blockers.get(ce);if(!(Z&&Z.state==="proceeding")&&pe({currentLocation:U,nextLocation:q,historyAction:G}))return ce}function Or(F){let U=Tn(404,{pathname:F}),q=l||o,{matches:G,route:re}=Hb(q);return fr(),{notFoundMatches:G,route:re,error:U}}function Nr(F,U){return{boundaryId:el(U.partialMatches).route.id,error:Tn(400,{type:"route-discovery",pathname:F,message:U.error!=null&&"message"in U.error?U.error:String(U.error)})}}function fr(F){let U=[];return Ke.forEach((q,G)=>{(!F||F(G))&&(q.cancel(),U.push(G),Ke.delete(G))}),U}function pr(F,U,q){if(E=F,C=U,S=q||null,!I&&R.navigation===xm){I=!0;let G=yo(R.location,R.matches);G!=null&&rt({restoreScrollPosition:G})}return()=>{E=null,C=null,S=null}}function _i(F,U){return S&&S(F,U.map(G=>YV(G,R.loaderData)))||F.key}function vi(F,U){if(E&&C){let q=_i(F,U);E[q]=C()}}function yo(F,U){if(E){let q=_i(F,U),G=E[q];if(typeof G=="number")return G}return null}function mr(F,U,q){if(d)if(F){let G=F[F.length-1].route;if(G.path&&(G.path==="*"||G.path.endsWith("/*")))return{active:!0,matches:kh(U,q,a,!0)}}else return{active:!0,matches:kh(U,q,a,!0)||[]};return{active:!1,matches:null}}async function Ns(F,U,q){let G=F,re=G.length>0?G[G.length-1].route:null;for(;;){let ce=l==null,pe=l||o;try{await IF(d,U,G,pe,i,s,nt,q)}catch(fe){return{type:"error",error:fe,partialMatches:G}}finally{ce&&(o=[...o])}if(q.aborted)return{type:"aborted"};let Z=Lo(pe,U,a),we=!1;if(Z){let fe=Z[Z.length-1].route;if(fe.index)return{type:"success",matches:Z};if(fe.path&&fe.path.length>0)if(fe.path==="*")we=!0;else return{type:"success",matches:Z}}let he=kh(pe,U,a,!0);if(!he||G.map(fe=>fe.route.id).join("-")===he.map(fe=>fe.route.id).join("-"))return{type:"success",matches:we?Z:null};if(G=he,re=G[G.length-1].route,re.path==="*")return{type:"success",matches:G}}}function ft(F){i={},l=Nu(F,s,void 0,i)}function ls(F,U){let q=l==null;J1(F,U,l||o,i,s),q&&(o=[...o],rt({}))}return M={get basename(){return a},get future(){return h},get state(){return R},get routes(){return o},get window(){return e},initialize:Dt,subscribe:le,enableScrollRestoration:pr,navigate:is,fetch:Rr,revalidate:Rs,createHref:F=>t.history.createHref(F),encodeLocation:F=>t.history.encodeLocation(F),getFetcher:jr,deleteFetcher:On,dispose:hr,getBlocker:Yl,deleteBlocker:gi,patchRoutes:ls,_internalFetchControllers:ee,_internalActiveDeferreds:Ke,_internalSetRoutes:ft},M}function EF(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function s_(t,e,n,r,s,i,o,l){let a,c;if(o){a=[];for(let h of e)if(a.push(h),h.route.id===o){c=h;break}}else a=e,c=e[e.length-1];let d=fp(s||".",hp(a,i),ql(t.pathname,n)||t.pathname,l==="path");return s==null&&(d.search=t.search,d.hash=t.hash),(s==null||s===""||s===".")&&c&&c.route.index&&!by(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:Zs([n,d.pathname])),la(d)}function Lb(t,e,n,r){if(!r||!EF(r))return{path:n};if(r.formMethod&&!LF(r.formMethod))return{path:n,error:Tn(405,{method:r.formMethod})};let s=()=>({path:n,error:Tn(400,{type:"invalid-body"})}),i=r.formMethod||"get",o=t?i.toUpperCase():i.toLowerCase(),l=X1(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Gr(o))return s();let g=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((_,E)=>{let[S,C]=E;return""+_+S+"="+C+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:g}}}else if(r.formEncType==="application/json"){if(!Gr(o))return s();try{let g=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:g,text:void 0}}}catch{return s()}}}Ae(typeof FormData=="function","FormData is not available in this environment");let a,c;if(r.formData)a=i_(r.formData),c=r.formData;else if(r.body instanceof FormData)a=i_(r.body),c=r.body;else if(r.body instanceof URLSearchParams)a=r.body,c=Ub(a);else if(r.body==null)a=new URLSearchParams,c=new FormData;else try{a=new URLSearchParams(r.body),c=Ub(a)}catch{return s()}let d={formMethod:o,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Gr(d.formMethod))return{path:n,submission:d};let h=pi(n);return e&&h.search&&by(h.search)&&a.append("index",""),h.search="?"+a,{path:la(h),submission:d}}function TF(t,e){let n=t;if(e){let r=t.findIndex(s=>s.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function Mb(t,e,n,r,s,i,o,l,a,c,d,h,g,_,E,S){let C=S?Xn(S[1])?S[1].error:S[1].data:void 0,I=t.createURL(e.location),w=t.createURL(s),T=S&&Xn(S[1])?S[0]:void 0,O=T?TF(n,T):n,M=S?S[1].statusCode:void 0,R=o&&M&&M>=400,x=O.filter((k,A)=>{let{route:j}=k;if(j.lazy)return!0;if(j.loader==null)return!1;if(i)return typeof j.loader!="function"||j.loader.hydrate?!0:e.loaderData[j.id]===void 0&&(!e.errors||e.errors[j.id]===void 0);if(SF(e.loaderData,e.matches[A],k)||a.some(ie=>ie===k.route.id))return!0;let D=e.matches[A],N=k;return Vb(k,gt({currentUrl:I,currentParams:D.params,nextUrl:w,nextParams:N.params},r,{actionResult:C,actionStatus:M,defaultShouldRevalidate:R?!1:l||I.pathname+I.search===w.pathname+w.search||I.search!==w.search||Y1(D,N)}))}),y=[];return h.forEach((k,A)=>{if(i||!n.some(_e=>_e.route.id===k.routeId)||d.has(A))return;let j=Lo(_,k.path,E);if(!j){y.push({key:A,routeId:k.routeId,path:k.path,matches:null,match:null,controller:null});return}let D=e.fetchers.get(A),N=Dc(j,k.path),ie=!1;g.has(A)?ie=!1:c.has(A)?(c.delete(A),ie=!0):D&&D.state!=="idle"&&D.data===void 0?ie=l:ie=Vb(N,gt({currentUrl:I,currentParams:e.matches[e.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},r,{actionResult:C,actionStatus:M,defaultShouldRevalidate:R?!1:l})),ie&&y.push({key:A,routeId:k.routeId,path:k.path,matches:j,match:N,controller:new AbortController})}),[x,y]}function SF(t,e,n){let r=!e||n.route.id!==e.route.id,s=t[n.route.id]===void 0;return r||s}function Y1(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Vb(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function IF(t,e,n,r,s,i,o,l){let a=[e,...n.map(c=>c.route.id)].join("-");try{let c=o.get(a);c||(c=t({path:e,matches:n,patch:(d,h)=>{l.aborted||J1(d,h,r,s,i)}}),o.set(a,c)),c&&OF(c)&&await c}finally{o.delete(a)}}function J1(t,e,n,r,s){if(t){var i;let o=r[t];Ae(o,"No route found to patch children into: routeId = "+t);let l=Nu(e,s,[t,"patch",String(((i=o.children)==null?void 0:i.length)||"0")],r);o.children?o.children.push(...l):o.children=l}else{let o=Nu(e,s,["patch",String(n.length||"0")],r);n.push(...o)}}async function Fb(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let s=n[t.id];Ae(s,"No route found in manifest");let i={};for(let o in r){let a=s[o]!==void 0&&o!=="hasErrorBoundary";aa(!a,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!a&&!KV.has(o)&&(i[o]=r[o])}Object.assign(s,i),Object.assign(s,gt({},e(s),{lazy:void 0}))}function xF(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function AF(t,e,n,r,s,i,o,l){let a=r.reduce((h,g)=>h.add(g.route.id),new Set),c=new Set,d=await t({matches:s.map(h=>{let g=a.has(h.route.id);return gt({},h,{shouldLoad:g,resolve:E=>(c.add(h.route.id),g?kF(e,n,h,i,o,E,l):Promise.resolve({type:Je.data,result:void 0}))})}),request:n,params:s[0].params,context:l});return s.forEach(h=>Ae(c.has(h.route.id),'`match.resolve()` was not called for route id "'+h.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),d.filter((h,g)=>a.has(s[g].route.id))}async function kF(t,e,n,r,s,i,o){let l,a,c=d=>{let h,g=new Promise((S,C)=>h=C);a=()=>h(),e.signal.addEventListener("abort",a);let _=S=>typeof d!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):d({request:e,params:n.params,context:o},...S!==void 0?[S]:[]),E;return i?E=i(S=>_(S)):E=(async()=>{try{return{type:"data",result:await _()}}catch(S){return{type:"error",result:S}}})(),Promise.race([E,g])};try{let d=n.route[t];if(n.route.lazy)if(d){let h,[g]=await Promise.all([c(d).catch(_=>{h=_}),Fb(n.route,s,r)]);if(h!==void 0)throw h;l=g}else if(await Fb(n.route,s,r),d=n.route[t],d)l=await c(d);else if(t==="action"){let h=new URL(e.url),g=h.pathname+h.search;throw Tn(405,{method:e.method,pathname:g,routeId:n.route.id})}else return{type:Je.data,result:void 0};else if(d)l=await c(d);else{let h=new URL(e.url),g=h.pathname+h.search;throw Tn(404,{pathname:g})}Ae(l.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(d){return{type:Je.error,result:d}}finally{a&&e.signal.removeEventListener("abort",a)}return l}async function CF(t){let{result:e,type:n}=t;if(Z1(e)){let c;try{let d=e.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(d){return{type:Je.error,error:d}}return n===Je.error?{type:Je.error,error:new vf(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:Je.data,data:c,statusCode:e.status,headers:e.headers}}if(n===Je.error){if(Gb(e)){var r;if(e.data instanceof Error){var s;return{type:Je.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status}}e=new vf(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:Je.error,error:e,statusCode:pp(e)?e.status:void 0}}if(DF(e)){var i,o;return{type:Je.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(Gb(e)){var l,a;return{type:Je.data,data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}}return{type:Je.data,data:e}}function PF(t,e,n,r,s,i){let o=t.headers.get("Location");if(Ae(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!wy.test(o)){let l=r.slice(0,r.findIndex(a=>a.route.id===n)+1);o=s_(new URL(e.url),l,s,!0,o,i),t.headers.set("Location",o)}return t}function $b(t,e,n){if(wy.test(t)){let r=t,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),i=ql(s.pathname,n)!=null;if(s.origin===e.origin&&i)return s.pathname+s.search+s.hash}return t}function Ra(t,e,n,r){let s=t.createURL(X1(e)).toString(),i={signal:n};if(r&&Gr(r.formMethod)){let{formMethod:o,formEncType:l}=r;i.method=o.toUpperCase(),l==="application/json"?(i.headers=new Headers({"Content-Type":l}),i.body=JSON.stringify(r.json)):l==="text/plain"?i.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?i.body=i_(r.formData):i.body=r.formData}return new Request(s,i)}function i_(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Ub(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function RF(t,e,n,r,s,i){let o={},l=null,a,c=!1,d={},h=r&&Xn(r[1])?r[1].error:void 0;return n.forEach((g,_)=>{let E=e[_].route.id;if(Ae(!qo(g),"Cannot handle redirect results in processLoaderData"),Xn(g)){let S=g.error;h!==void 0&&(S=h,h=void 0),l=l||{};{let C=el(t,E);l[C.route.id]==null&&(l[C.route.id]=S)}o[E]=void 0,c||(c=!0,a=pp(g.error)?g.error.status:500),g.headers&&(d[E]=g.headers)}else zo(g)?(s.set(E,g.deferredData),o[E]=g.deferredData.data,g.statusCode!=null&&g.statusCode!==200&&!c&&(a=g.statusCode),g.headers&&(d[E]=g.headers)):(o[E]=g.data,g.statusCode&&g.statusCode!==200&&!c&&(a=g.statusCode),g.headers&&(d[E]=g.headers))}),h!==void 0&&r&&(l={[r[0]]:h},o[r[0]]=void 0),{loaderData:o,errors:l,statusCode:a||200,loaderHeaders:d}}function Bb(t,e,n,r,s,i,o,l){let{loaderData:a,errors:c}=RF(e,n,r,s,l);for(let d=0;d<i.length;d++){let{key:h,match:g,controller:_}=i[d];Ae(o!==void 0&&o[d]!==void 0,"Did not find corresponding fetcher result");let E=o[d];if(!(_&&_.signal.aborted))if(Xn(E)){let S=el(t.matches,g==null?void 0:g.route.id);c&&c[S.route.id]||(c=gt({},c,{[S.route.id]:E.error})),t.fetchers.delete(h)}else if(qo(E))Ae(!1,"Unhandled fetcher revalidation redirect");else if(zo(E))Ae(!1,"Unhandled fetcher deferred data");else{let S=Ci(E.data);t.fetchers.set(h,S)}}return{loaderData:a,errors:c}}function zb(t,e,n,r){let s=gt({},e);for(let i of n){let o=i.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(s[o]=e[o]):t[o]!==void 0&&i.route.loader&&(s[o]=t[o]),r&&r.hasOwnProperty(o))break}return s}function qb(t){return t?Xn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function el(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Hb(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Tn(t,e){let{pathname:n,routeId:r,method:s,type:i,message:o}=e===void 0?{}:e,l="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(l="Bad Request",i==="route-discovery"?a='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnMiss()` '+(`function threw the following error:
`+o):s&&n&&r?a="You made a "+s+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?a="defer() is not supported in actions":i==="invalid-body"&&(a="Unable to encode submission body")):t===403?(l="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(l="Not Found",a='No route matches URL "'+n+'"'):t===405&&(l="Method Not Allowed",s&&n&&r?a="You made a "+s.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(a='Invalid request method "'+s.toUpperCase()+'"')),new vf(t||500,l,new Error(a),!0)}function Wb(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(qo(n))return{result:n,idx:e}}}function X1(t){let e=typeof t=="string"?pi(t):t;return la(gt({},e,{hash:""}))}function jF(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function OF(t){return typeof t=="object"&&t!=null&&"then"in t}function NF(t){return Z1(t.result)&&_F.has(t.result.status)}function zo(t){return t.type===Je.deferred}function Xn(t){return t.type===Je.error}function qo(t){return(t&&t.type)===Je.redirect}function Gb(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function DF(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Z1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function LF(t){return gF.has(t.toLowerCase())}function Gr(t){return pF.has(t.toLowerCase())}async function Kb(t,e,n,r,s,i){for(let o=0;o<n.length;o++){let l=n[o],a=e[o];if(!a)continue;let c=t.find(h=>h.route.id===a.route.id),d=c!=null&&!Y1(c,a)&&(i&&i[a.route.id])!==void 0;if(zo(l)&&(s||d)){let h=r[o];Ae(h,"Expected an AbortSignal for revalidating fetcher deferred result"),await eA(l,h,s).then(g=>{g&&(n[o]=g||n[o])})}}}async function eA(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Je.data,data:t.deferredData.unwrappedData}}catch(s){return{type:Je.error,error:s}}return{type:Je.data,data:t.deferredData.data}}}function by(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Dc(t,e){let n=typeof e=="string"?pi(e).search:e.search;if(t[t.length-1].route.index&&by(n||""))return t[t.length-1];let r=G1(t);return r[r.length-1]}function Qb(t){let{formMethod:e,formAction:n,formEncType:r,text:s,formData:i,json:o}=t;if(!(!e||!n||!r)){if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Am(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function MF(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function bc(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function VF(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Ci(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function FF(t,e){try{let n=t.sessionStorage.getItem(Q1);if(n){let r=JSON.parse(n);for(let[s,i]of Object.entries(r||{}))i&&Array.isArray(i)&&e.set(s,new Set(i||[]))}}catch{}}function $F(t,e){if(e.size>0){let n={};for(let[r,s]of e)n[r]=[...s];try{t.sessionStorage.setItem(Q1,JSON.stringify(n))}catch(r){aa(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yf(){return yf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yf.apply(this,arguments)}const mp=L.createContext(null),tA=L.createContext(null),po=L.createContext(null),Ey=L.createContext(null),Ps=L.createContext({outlet:null,matches:[],isDataRoute:!1}),nA=L.createContext(null);function UF(t,e){let{relative:n}=e===void 0?{}:e;Hl()||Ae(!1);let{basename:r,navigator:s}=L.useContext(po),{hash:i,pathname:o,search:l}=sA(t,{relative:n}),a=o;return r!=="/"&&(a=o==="/"?r:Zs([r,o])),s.createHref({pathname:a,search:l,hash:i})}function Hl(){return L.useContext(Ey)!=null}function dr(){return Hl()||Ae(!1),L.useContext(Ey).location}function rA(t){L.useContext(po).static||L.useLayoutEffect(t)}function bt(){let{isDataRoute:t}=L.useContext(Ps);return t?t$():BF()}function BF(){Hl()||Ae(!1);let t=L.useContext(mp),{basename:e,future:n,navigator:r}=L.useContext(po),{matches:s}=L.useContext(Ps),{pathname:i}=dr(),o=JSON.stringify(hp(s,n.v7_relativeSplatPath)),l=L.useRef(!1);return rA(()=>{l.current=!0}),L.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let h=fp(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Zs([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}const zF=L.createContext(null);function qF(t){let e=L.useContext(Ps).outlet;return e&&L.createElement(zF.Provider,{value:t},e)}function nn(){let{matches:t}=L.useContext(Ps),e=t[t.length-1];return e?e.params:{}}function sA(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=L.useContext(po),{matches:s}=L.useContext(Ps),{pathname:i}=dr(),o=JSON.stringify(hp(s,r.v7_relativeSplatPath));return L.useMemo(()=>fp(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function HF(t,e,n,r){Hl()||Ae(!1);let{navigator:s}=L.useContext(po),{matches:i}=L.useContext(Ps),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let c=dr(),d;d=c;let h=d.pathname||"/",g=h;if(a!=="/"){let S=a.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(S.length).join("/")}let _=Lo(t,{pathname:g});return YF(_&&_.map(S=>Object.assign({},S,{params:Object.assign({},l,S.params),pathname:Zs([a,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?a:Zs([a,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,n,r)}function WF(){let t=e$(),e=pp(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:s},n):null,null)}const GF=L.createElement(WF,null);class KF extends L.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?L.createElement(Ps.Provider,{value:this.props.routeContext},L.createElement(nA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function QF(t){let{routeContext:e,match:n,children:r}=t,s=L.useContext(mp);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),L.createElement(Ps.Provider,{value:e},r)}function YF(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Ae(!1),o=o.slice(0,Math.min(o.length,d+1))}let a=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:g,errors:_}=n,E=h.route.loader&&g[h.route.id]===void 0&&(!_||_[h.route.id]===void 0);if(h.route.lazy||E){a=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,g)=>{let _,E=!1,S=null,C=null;n&&(_=l&&h.route.id?l[h.route.id]:void 0,S=h.route.errorElement||GF,a&&(c<0&&g===0?(E=!0,C=null):c===g&&(E=!0,C=h.route.hydrateFallbackElement||null)));let I=e.concat(o.slice(0,g+1)),w=()=>{let T;return _?T=S:E?T=C:h.route.Component?T=L.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=d,L.createElement(QF,{match:h,routeContext:{outlet:d,matches:I,isDataRoute:n!=null},children:T})};return n&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?L.createElement(KF,{location:n.location,revalidation:n.revalidation,component:S,error:_,children:w(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):w()},null)}var iA=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(iA||{}),wf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(wf||{});function JF(t){let e=L.useContext(mp);return e||Ae(!1),e}function XF(t){let e=L.useContext(tA);return e||Ae(!1),e}function ZF(t){let e=L.useContext(Ps);return e||Ae(!1),e}function oA(t){let e=ZF(),n=e.matches[e.matches.length-1];return n.route.id||Ae(!1),n.route.id}function e$(){var t;let e=L.useContext(nA),n=XF(wf.UseRouteError),r=oA(wf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function t$(){let{router:t}=JF(iA.UseNavigateStable),e=oA(wf.UseNavigateStable),n=L.useRef(!1);return rA(()=>{n.current=!0}),L.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,yf({fromRouteId:e},i)))},[t,e])}function Yb(t){let{to:e,replace:n,state:r,relative:s}=t;Hl()||Ae(!1);let{future:i,static:o}=L.useContext(po),{matches:l}=L.useContext(Ps),{pathname:a}=dr(),c=bt(),d=fp(e,hp(l,i.v7_relativeSplatPath),a,s==="path"),h=JSON.stringify(d);return L.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:s}),[c,h,s,n,r]),null}function n$(t){return qF(t.context)}function ze(t){Ae(!1)}function r$(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ct.Pop,navigator:i,static:o=!1,future:l}=t;Hl()&&Ae(!1);let a=e.replace(/^\/*/,"/"),c=L.useMemo(()=>({basename:a,navigator:i,static:o,future:yf({v7_relativeSplatPath:!1},l)}),[a,l,i,o]);typeof r=="string"&&(r=pi(r));let{pathname:d="/",search:h="",hash:g="",state:_=null,key:E="default"}=r,S=L.useMemo(()=>{let C=ql(d,a);return C==null?null:{location:{pathname:C,search:h,hash:g,state:_,key:E},navigationType:s}},[a,d,h,g,_,E,s]);return S==null?null:L.createElement(po.Provider,{value:c},L.createElement(Ey.Provider,{children:n,value:S}))}new Promise(()=>{});function o_(t,e){e===void 0&&(e=[]);let n=[];return L.Children.forEach(t,(r,s)=>{if(!L.isValidElement(r))return;let i=[...e,s];if(r.type===L.Fragment){n.push.apply(n,o_(r.props.children,i));return}r.type!==ze&&Ae(!1),!r.props.index||!r.props.children||Ae(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=o_(r.props.children,i)),n.push(o)}),n}function s$(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:L.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:L.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:L.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Du(){return Du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Du.apply(this,arguments)}function i$(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function o$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function a$(t,e){return t.button===0&&(!e||e==="_self")&&!o$(t)}function a_(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function l$(t,e){let n=a_(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const c$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],u$="6";try{window.__reactRouterVersion=u$}catch{}function d$(t,e){return bF({basename:void 0,future:Du({},void 0,{v7_prependBasename:!0}),history:HV({window:void 0}),hydrationData:h$(),routes:t,mapRouteProperties:s$,unstable_dataStrategy:void 0,unstable_patchRoutesOnMiss:void 0,window:void 0}).initialize()}function h$(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Du({},e,{errors:f$(e.errors)})),e}function f$(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")n[r]=new vf(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let o=new i(s.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let i=new Error(s.message);i.stack="",n[r]=i}}else n[r]=s;return n}const p$=L.createContext({isTransitioning:!1}),m$=L.createContext(new Map),g$="startTransition",Jb=sC[g$],_$="flushSync",Xb=gR[_$];function v$(t){Jb?Jb(t):t()}function Ec(t){Xb?Xb(t):t()}let y$=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function w$(t){let{fallbackElement:e,router:n,future:r}=t,[s,i]=L.useState(n.state),[o,l]=L.useState(),[a,c]=L.useState({isTransitioning:!1}),[d,h]=L.useState(),[g,_]=L.useState(),[E,S]=L.useState(),C=L.useRef(new Map),{v7_startTransition:I}=r||{},w=L.useCallback(y=>{I?v$(y):y()},[I]),T=L.useCallback((y,k)=>{let{deletedFetchers:A,unstable_flushSync:j,unstable_viewTransitionOpts:D}=k;A.forEach(ie=>C.current.delete(ie)),y.fetchers.forEach((ie,_e)=>{ie.data!==void 0&&C.current.set(_e,ie.data)});let N=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!D||N){j?Ec(()=>i(y)):w(()=>i(y));return}if(j){Ec(()=>{g&&(d&&d.resolve(),g.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:D.currentLocation,nextLocation:D.nextLocation})});let ie=n.window.document.startViewTransition(()=>{Ec(()=>i(y))});ie.finished.finally(()=>{Ec(()=>{h(void 0),_(void 0),l(void 0),c({isTransitioning:!1})})}),Ec(()=>_(ie));return}g?(d&&d.resolve(),g.skipTransition(),S({state:y,currentLocation:D.currentLocation,nextLocation:D.nextLocation})):(l(y),c({isTransitioning:!0,flushSync:!1,currentLocation:D.currentLocation,nextLocation:D.nextLocation}))},[n.window,g,d,C,w]);L.useLayoutEffect(()=>n.subscribe(T),[n,T]),L.useEffect(()=>{a.isTransitioning&&!a.flushSync&&h(new y$)},[a]),L.useEffect(()=>{if(d&&o&&n.window){let y=o,k=d.promise,A=n.window.document.startViewTransition(async()=>{w(()=>i(y)),await k});A.finished.finally(()=>{h(void 0),_(void 0),l(void 0),c({isTransitioning:!1})}),_(A)}},[w,o,d,n.window]),L.useEffect(()=>{d&&o&&s.location.key===o.location.key&&d.resolve()},[d,g,s.location,o]),L.useEffect(()=>{!a.isTransitioning&&E&&(l(E.state),c({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),S(void 0))},[a.isTransitioning,E]),L.useEffect(()=>{},[]);let O=L.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:y=>n.navigate(y),push:(y,k,A)=>n.navigate(y,{state:k,preventScrollReset:A==null?void 0:A.preventScrollReset}),replace:(y,k,A)=>n.navigate(y,{replace:!0,state:k,preventScrollReset:A==null?void 0:A.preventScrollReset})}),[n]),M=n.basename||"/",R=L.useMemo(()=>({router:n,navigator:O,static:!1,basename:M}),[n,O,M]),x=L.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return L.createElement(L.Fragment,null,L.createElement(mp.Provider,{value:R},L.createElement(tA.Provider,{value:s},L.createElement(m$.Provider,{value:C.current},L.createElement(p$.Provider,{value:a},L.createElement(r$,{basename:M,location:s.location,navigationType:s.historyAction,navigator:O,future:x},s.initialized||n.future.v7_partialHydration?L.createElement(b$,{routes:n.routes,future:n.future,state:s}):e))))),null)}const b$=L.memo(E$);function E$(t){let{routes:e,future:n,state:r}=t;return HF(e,void 0,r,n)}const T$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",S$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Me=L.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:a,to:c,preventScrollReset:d,unstable_viewTransition:h}=e,g=i$(e,c$),{basename:_}=L.useContext(po),E,S=!1;if(typeof c=="string"&&S$.test(c)&&(E=c,T$))try{let T=new URL(window.location.href),O=c.startsWith("//")?new URL(T.protocol+c):new URL(c),M=ql(O.pathname,_);O.origin===T.origin&&M!=null?c=M+O.search+O.hash:S=!0}catch{}let C=UF(c,{relative:s}),I=I$(c,{replace:o,state:l,target:a,preventScrollReset:d,relative:s,unstable_viewTransition:h});function w(T){r&&r(T),T.defaultPrevented||I(T)}return L.createElement("a",Du({},g,{href:E||C,onClick:S||i?r:w,ref:n,target:a}))});var Zb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Zb||(Zb={}));var eE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(eE||(eE={}));function I$(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,a=bt(),c=dr(),d=sA(t,{relative:o});return L.useCallback(h=>{if(a$(h,n)){h.preventDefault();let g=r!==void 0?r:la(c)===la(d);a(t,{replace:g,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:l})}},[c,a,d,r,s,n,t,i,o,l])}function x$(t){let e=L.useRef(a_(t)),n=L.useRef(!1),r=dr(),s=L.useMemo(()=>l$(r.search,n.current?null:e.current),[r.search]),i=bt(),o=L.useCallback((l,a)=>{const c=a_(typeof l=="function"?l(s):l);n.current=!0,i("?"+c,a)},[i,s]);return[s,o]}var A$={exports:{}},xn="top",or="bottom",ar="right",An="left",gp="auto",Wl=[xn,or,ar,An],ca="start",kl="end",aA="clippingParents",Ty="viewport",Fa="popper",lA="reference",l_=Wl.reduce(function(t,e){return t.concat([e+"-"+ca,e+"-"+kl])},[]),Sy=[].concat(Wl,[gp]).reduce(function(t,e){return t.concat([e,e+"-"+ca,e+"-"+kl])},[]),cA="beforeRead",uA="read",dA="afterRead",hA="beforeMain",fA="main",pA="afterMain",mA="beforeWrite",gA="write",_A="afterWrite",vA=[cA,uA,dA,hA,fA,pA,mA,gA,_A];function Cs(t){return t?(t.nodeName||"").toLowerCase():null}function lr(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ua(t){var e=lr(t).Element;return t instanceof e||t instanceof Element}function Ar(t){var e=lr(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Iy(t){if(typeof ShadowRoot>"u")return!1;var e=lr(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function k$(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},s=e.attributes[n]||{},i=e.elements[n];!Ar(i)||!Cs(i)||(Object.assign(i.style,r),Object.keys(s).forEach(function(o){var l=s[o];l===!1?i.removeAttribute(o):i.setAttribute(o,l===!0?"":l)}))})}function C$(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var s=e.elements[r],i=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),l=o.reduce(function(a,c){return a[c]="",a},{});!Ar(s)||!Cs(s)||(Object.assign(s.style,l),Object.keys(i).forEach(function(a){s.removeAttribute(a)}))})}}const xy={name:"applyStyles",enabled:!0,phase:"write",fn:k$,effect:C$,requires:["computeStyles"]};function Is(t){return t.split("-")[0]}var Ko=Math.max,bf=Math.min,Cl=Math.round;function c_(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function yA(){return!/^((?!chrome|android).)*safari/i.test(c_())}function Pl(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),s=1,i=1;e&&Ar(t)&&(s=t.offsetWidth>0&&Cl(r.width)/t.offsetWidth||1,i=t.offsetHeight>0&&Cl(r.height)/t.offsetHeight||1);var o=ua(t)?lr(t):window,l=o.visualViewport,a=!yA()&&n,c=(r.left+(a&&l?l.offsetLeft:0))/s,d=(r.top+(a&&l?l.offsetTop:0))/i,h=r.width/s,g=r.height/i;return{width:h,height:g,top:d,right:c+h,bottom:d+g,left:c,x:c,y:d}}function Ay(t){var e=Pl(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function wA(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Iy(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ui(t){return lr(t).getComputedStyle(t)}function P$(t){return["table","td","th"].indexOf(Cs(t))>=0}function mo(t){return((ua(t)?t.ownerDocument:t.document)||window.document).documentElement}function _p(t){return Cs(t)==="html"?t:t.assignedSlot||t.parentNode||(Iy(t)?t.host:null)||mo(t)}function tE(t){return!Ar(t)||ui(t).position==="fixed"?null:t.offsetParent}function R$(t){var e=/firefox/i.test(c_()),n=/Trident/i.test(c_());if(n&&Ar(t)){var r=ui(t);if(r.position==="fixed")return null}var s=_p(t);for(Iy(s)&&(s=s.host);Ar(s)&&["html","body"].indexOf(Cs(s))<0;){var i=ui(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function ed(t){for(var e=lr(t),n=tE(t);n&&P$(n)&&ui(n).position==="static";)n=tE(n);return n&&(Cs(n)==="html"||Cs(n)==="body"&&ui(n).position==="static")?e:n||R$(t)||e}function ky(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Jc(t,e,n){return Ko(t,bf(e,n))}function j$(t,e,n){var r=Jc(t,e,n);return r>n?n:r}function bA(){return{top:0,right:0,bottom:0,left:0}}function EA(t){return Object.assign({},bA(),t)}function TA(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var O$=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,EA(typeof e!="number"?e:TA(e,Wl))};function N$(t){var e,n=t.state,r=t.name,s=t.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,l=Is(n.placement),a=ky(l),c=[An,ar].indexOf(l)>=0,d=c?"height":"width";if(!(!i||!o)){var h=O$(s.padding,n),g=Ay(i),_=a==="y"?xn:An,E=a==="y"?or:ar,S=n.rects.reference[d]+n.rects.reference[a]-o[a]-n.rects.popper[d],C=o[a]-n.rects.reference[a],I=ed(i),w=I?a==="y"?I.clientHeight||0:I.clientWidth||0:0,T=S/2-C/2,O=h[_],M=w-g[d]-h[E],R=w/2-g[d]/2+T,x=Jc(O,R,M),y=a;n.modifiersData[r]=(e={},e[y]=x,e.centerOffset=x-R,e)}}function D$(t){var e=t.state,n=t.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||wA(e.elements.popper,s)&&(e.elements.arrow=s))}const SA={name:"arrow",enabled:!0,phase:"main",fn:N$,effect:D$,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Rl(t){return t.split("-")[1]}var L$={top:"auto",right:"auto",bottom:"auto",left:"auto"};function M$(t,e){var n=t.x,r=t.y,s=e.devicePixelRatio||1;return{x:Cl(n*s)/s||0,y:Cl(r*s)/s||0}}function nE(t){var e,n=t.popper,r=t.popperRect,s=t.placement,i=t.variation,o=t.offsets,l=t.position,a=t.gpuAcceleration,c=t.adaptive,d=t.roundOffsets,h=t.isFixed,g=o.x,_=g===void 0?0:g,E=o.y,S=E===void 0?0:E,C=typeof d=="function"?d({x:_,y:S}):{x:_,y:S};_=C.x,S=C.y;var I=o.hasOwnProperty("x"),w=o.hasOwnProperty("y"),T=An,O=xn,M=window;if(c){var R=ed(n),x="clientHeight",y="clientWidth";if(R===lr(n)&&(R=mo(n),ui(R).position!=="static"&&l==="absolute"&&(x="scrollHeight",y="scrollWidth")),R=R,s===xn||(s===An||s===ar)&&i===kl){O=or;var k=h&&R===M&&M.visualViewport?M.visualViewport.height:R[x];S-=k-r.height,S*=a?1:-1}if(s===An||(s===xn||s===or)&&i===kl){T=ar;var A=h&&R===M&&M.visualViewport?M.visualViewport.width:R[y];_-=A-r.width,_*=a?1:-1}}var j=Object.assign({position:l},c&&L$),D=d===!0?M$({x:_,y:S},lr(n)):{x:_,y:S};if(_=D.x,S=D.y,a){var N;return Object.assign({},j,(N={},N[O]=w?"0":"",N[T]=I?"0":"",N.transform=(M.devicePixelRatio||1)<=1?"translate("+_+"px, "+S+"px)":"translate3d("+_+"px, "+S+"px, 0)",N))}return Object.assign({},j,(e={},e[O]=w?S+"px":"",e[T]=I?_+"px":"",e.transform="",e))}function V$(t){var e=t.state,n=t.options,r=n.gpuAcceleration,s=r===void 0?!0:r,i=n.adaptive,o=i===void 0?!0:i,l=n.roundOffsets,a=l===void 0?!0:l,c={placement:Is(e.placement),variation:Rl(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,nE(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:a})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,nE(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Cy={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:V$,data:{}};var Zd={passive:!0};function F$(t){var e=t.state,n=t.instance,r=t.options,s=r.scroll,i=s===void 0?!0:s,o=r.resize,l=o===void 0?!0:o,a=lr(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&c.forEach(function(d){d.addEventListener("scroll",n.update,Zd)}),l&&a.addEventListener("resize",n.update,Zd),function(){i&&c.forEach(function(d){d.removeEventListener("scroll",n.update,Zd)}),l&&a.removeEventListener("resize",n.update,Zd)}}const Py={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:F$,data:{}};var $$={left:"right",right:"left",bottom:"top",top:"bottom"};function Ch(t){return t.replace(/left|right|bottom|top/g,function(e){return $$[e]})}var U$={start:"end",end:"start"};function rE(t){return t.replace(/start|end/g,function(e){return U$[e]})}function Ry(t){var e=lr(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function jy(t){return Pl(mo(t)).left+Ry(t).scrollLeft}function B$(t,e){var n=lr(t),r=mo(t),s=n.visualViewport,i=r.clientWidth,o=r.clientHeight,l=0,a=0;if(s){i=s.width,o=s.height;var c=yA();(c||!c&&e==="fixed")&&(l=s.offsetLeft,a=s.offsetTop)}return{width:i,height:o,x:l+jy(t),y:a}}function z$(t){var e,n=mo(t),r=Ry(t),s=(e=t.ownerDocument)==null?void 0:e.body,i=Ko(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=Ko(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),l=-r.scrollLeft+jy(t),a=-r.scrollTop;return ui(s||n).direction==="rtl"&&(l+=Ko(n.clientWidth,s?s.clientWidth:0)-i),{width:i,height:o,x:l,y:a}}function Oy(t){var e=ui(t),n=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function IA(t){return["html","body","#document"].indexOf(Cs(t))>=0?t.ownerDocument.body:Ar(t)&&Oy(t)?t:IA(_p(t))}function Xc(t,e){var n;e===void 0&&(e=[]);var r=IA(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),i=lr(r),o=s?[i].concat(i.visualViewport||[],Oy(r)?r:[]):r,l=e.concat(o);return s?l:l.concat(Xc(_p(o)))}function u_(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function q$(t,e){var n=Pl(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function sE(t,e,n){return e===Ty?u_(B$(t,n)):ua(e)?q$(e,n):u_(z$(mo(t)))}function H$(t){var e=Xc(_p(t)),n=["absolute","fixed"].indexOf(ui(t).position)>=0,r=n&&Ar(t)?ed(t):t;return ua(r)?e.filter(function(s){return ua(s)&&wA(s,r)&&Cs(s)!=="body"}):[]}function W$(t,e,n,r){var s=e==="clippingParents"?H$(t):[].concat(e),i=[].concat(s,[n]),o=i[0],l=i.reduce(function(a,c){var d=sE(t,c,r);return a.top=Ko(d.top,a.top),a.right=bf(d.right,a.right),a.bottom=bf(d.bottom,a.bottom),a.left=Ko(d.left,a.left),a},sE(t,o,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function xA(t){var e=t.reference,n=t.element,r=t.placement,s=r?Is(r):null,i=r?Rl(r):null,o=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,a;switch(s){case xn:a={x:o,y:e.y-n.height};break;case or:a={x:o,y:e.y+e.height};break;case ar:a={x:e.x+e.width,y:l};break;case An:a={x:e.x-n.width,y:l};break;default:a={x:e.x,y:e.y}}var c=s?ky(s):null;if(c!=null){var d=c==="y"?"height":"width";switch(i){case ca:a[c]=a[c]-(e[d]/2-n[d]/2);break;case kl:a[c]=a[c]+(e[d]/2-n[d]/2);break}}return a}function jl(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=r===void 0?t.placement:r,i=n.strategy,o=i===void 0?t.strategy:i,l=n.boundary,a=l===void 0?aA:l,c=n.rootBoundary,d=c===void 0?Ty:c,h=n.elementContext,g=h===void 0?Fa:h,_=n.altBoundary,E=_===void 0?!1:_,S=n.padding,C=S===void 0?0:S,I=EA(typeof C!="number"?C:TA(C,Wl)),w=g===Fa?lA:Fa,T=t.rects.popper,O=t.elements[E?w:g],M=W$(ua(O)?O:O.contextElement||mo(t.elements.popper),a,d,o),R=Pl(t.elements.reference),x=xA({reference:R,element:T,strategy:"absolute",placement:s}),y=u_(Object.assign({},T,x)),k=g===Fa?y:R,A={top:M.top-k.top+I.top,bottom:k.bottom-M.bottom+I.bottom,left:M.left-k.left+I.left,right:k.right-M.right+I.right},j=t.modifiersData.offset;if(g===Fa&&j){var D=j[s];Object.keys(A).forEach(function(N){var ie=[ar,or].indexOf(N)>=0?1:-1,_e=[xn,or].indexOf(N)>=0?"y":"x";A[N]+=D[_e]*ie})}return A}function G$(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=n.boundary,i=n.rootBoundary,o=n.padding,l=n.flipVariations,a=n.allowedAutoPlacements,c=a===void 0?Sy:a,d=Rl(r),h=d?l?l_:l_.filter(function(E){return Rl(E)===d}):Wl,g=h.filter(function(E){return c.indexOf(E)>=0});g.length===0&&(g=h);var _=g.reduce(function(E,S){return E[S]=jl(t,{placement:S,boundary:s,rootBoundary:i,padding:o})[Is(S)],E},{});return Object.keys(_).sort(function(E,S){return _[E]-_[S]})}function K$(t){if(Is(t)===gp)return[];var e=Ch(t);return[rE(t),e,rE(e)]}function Q$(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,l=o===void 0?!0:o,a=n.fallbackPlacements,c=n.padding,d=n.boundary,h=n.rootBoundary,g=n.altBoundary,_=n.flipVariations,E=_===void 0?!0:_,S=n.allowedAutoPlacements,C=e.options.placement,I=Is(C),w=I===C,T=a||(w||!E?[Ch(C)]:K$(C)),O=[C].concat(T).reduce(function(He,Ke){return He.concat(Is(Ke)===gp?G$(e,{placement:Ke,boundary:d,rootBoundary:h,padding:c,flipVariations:E,allowedAutoPlacements:S}):Ke)},[]),M=e.rects.reference,R=e.rects.popper,x=new Map,y=!0,k=O[0],A=0;A<O.length;A++){var j=O[A],D=Is(j),N=Rl(j)===ca,ie=[xn,or].indexOf(D)>=0,_e=ie?"width":"height",ke=jl(e,{placement:j,boundary:d,rootBoundary:h,altBoundary:g,padding:c}),ee=ie?N?ar:An:N?or:xn;M[_e]>R[_e]&&(ee=Ch(ee));var z=Ch(ee),Y=[];if(i&&Y.push(ke[D]<=0),l&&Y.push(ke[ee]<=0,ke[z]<=0),Y.every(function(He){return He})){k=j,y=!1;break}x.set(j,Y)}if(y)for(var se=E?3:1,ve=function(Ke){var Ze=O.find(function(nt){var Nt=x.get(nt);if(Nt)return Nt.slice(0,Ke).every(function(Dt){return Dt})});if(Ze)return k=Ze,"break"},Te=se;Te>0;Te--){var W=ve(Te);if(W==="break")break}e.placement!==k&&(e.modifiersData[r]._skip=!0,e.placement=k,e.reset=!0)}}const AA={name:"flip",enabled:!0,phase:"main",fn:Q$,requiresIfExists:["offset"],data:{_skip:!1}};function iE(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function oE(t){return[xn,ar,or,An].some(function(e){return t[e]>=0})}function Y$(t){var e=t.state,n=t.name,r=e.rects.reference,s=e.rects.popper,i=e.modifiersData.preventOverflow,o=jl(e,{elementContext:"reference"}),l=jl(e,{altBoundary:!0}),a=iE(o,r),c=iE(l,s,i),d=oE(a),h=oE(c);e.modifiersData[n]={referenceClippingOffsets:a,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":h})}const kA={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Y$};function J$(t,e,n){var r=Is(t),s=[An,xn].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=i[0],l=i[1];return o=o||0,l=(l||0)*s,[An,ar].indexOf(r)>=0?{x:l,y:o}:{x:o,y:l}}function X$(t){var e=t.state,n=t.options,r=t.name,s=n.offset,i=s===void 0?[0,0]:s,o=Sy.reduce(function(d,h){return d[h]=J$(h,e.rects,i),d},{}),l=o[e.placement],a=l.x,c=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=a,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}const CA={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:X$};function Z$(t){var e=t.state,n=t.name;e.modifiersData[n]=xA({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Ny={name:"popperOffsets",enabled:!0,phase:"read",fn:Z$,data:{}};function e4(t){return t==="x"?"y":"x"}function t4(t){var e=t.state,n=t.options,r=t.name,s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,l=o===void 0?!1:o,a=n.boundary,c=n.rootBoundary,d=n.altBoundary,h=n.padding,g=n.tether,_=g===void 0?!0:g,E=n.tetherOffset,S=E===void 0?0:E,C=jl(e,{boundary:a,rootBoundary:c,padding:h,altBoundary:d}),I=Is(e.placement),w=Rl(e.placement),T=!w,O=ky(I),M=e4(O),R=e.modifiersData.popperOffsets,x=e.rects.reference,y=e.rects.popper,k=typeof S=="function"?S(Object.assign({},e.rects,{placement:e.placement})):S,A=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),j=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,D={x:0,y:0};if(R){if(i){var N,ie=O==="y"?xn:An,_e=O==="y"?or:ar,ke=O==="y"?"height":"width",ee=R[O],z=ee+C[ie],Y=ee-C[_e],se=_?-y[ke]/2:0,ve=w===ca?x[ke]:y[ke],Te=w===ca?-y[ke]:-x[ke],W=e.elements.arrow,He=_&&W?Ay(W):{width:0,height:0},Ke=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:bA(),Ze=Ke[ie],nt=Ke[_e],Nt=Jc(0,x[ke],He[ke]),Dt=T?x[ke]/2-se-Nt-Ze-A.mainAxis:ve-Nt-Ze-A.mainAxis,hr=T?-x[ke]/2+se+Nt+nt+A.mainAxis:Te+Nt+nt+A.mainAxis,le=e.elements.arrow&&ed(e.elements.arrow),rt=le?O==="y"?le.clientTop||0:le.clientLeft||0:0,rn=(N=j==null?void 0:j[O])!=null?N:0,is=ee+Dt-rn-rt,Rs=ee+hr-rn,Lt=Jc(_?bf(z,is):z,ee,_?Ko(Y,Rs):Y);R[O]=Lt,D[O]=Lt-ee}if(l){var js,Pr=O==="x"?xn:An,jn=O==="x"?or:ar,gn=R[M],Rr=M==="y"?"height":"width",mi=gn+C[Pr],os=gn-C[jn],_n=[xn,An].indexOf(I)!==-1,Hn=(js=j==null?void 0:j[M])!=null?js:0,ht=_n?mi:gn-x[Rr]-y[Rr]-Hn+A.altAxis,et=_n?gn+x[Rr]+y[Rr]-Hn-A.altAxis:os,at=_&&_n?j$(ht,gn,et):Jc(_?ht:mi,gn,_?et:os);R[M]=at,D[M]=at-gn}e.modifiersData[r]=D}}const PA={name:"preventOverflow",enabled:!0,phase:"main",fn:t4,requiresIfExists:["offset"]};function n4(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function r4(t){return t===lr(t)||!Ar(t)?Ry(t):n4(t)}function s4(t){var e=t.getBoundingClientRect(),n=Cl(e.width)/t.offsetWidth||1,r=Cl(e.height)/t.offsetHeight||1;return n!==1||r!==1}function i4(t,e,n){n===void 0&&(n=!1);var r=Ar(e),s=Ar(e)&&s4(e),i=mo(e),o=Pl(t,s,n),l={scrollLeft:0,scrollTop:0},a={x:0,y:0};return(r||!r&&!n)&&((Cs(e)!=="body"||Oy(i))&&(l=r4(e)),Ar(e)?(a=Pl(e,!0),a.x+=e.clientLeft,a.y+=e.clientTop):i&&(a.x=jy(i))),{x:o.left+l.scrollLeft-a.x,y:o.top+l.scrollTop-a.y,width:o.width,height:o.height}}function o4(t){var e=new Map,n=new Set,r=[];t.forEach(function(i){e.set(i.name,i)});function s(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(l){if(!n.has(l)){var a=e.get(l);a&&s(a)}}),r.push(i)}return t.forEach(function(i){n.has(i.name)||s(i)}),r}function a4(t){var e=o4(t);return vA.reduce(function(n,r){return n.concat(e.filter(function(s){return s.phase===r}))},[])}function l4(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function c4(t){var e=t.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var aE={placement:"bottom",modifiers:[],strategy:"absolute"};function lE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function vp(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,s=e.defaultOptions,i=s===void 0?aE:s;return function(l,a,c){c===void 0&&(c=i);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},aE,i),modifiersData:{},elements:{reference:l,popper:a},attributes:{},styles:{}},h=[],g=!1,_={state:d,setOptions:function(I){var w=typeof I=="function"?I(d.options):I;S(),d.options=Object.assign({},i,d.options,w),d.scrollParents={reference:ua(l)?Xc(l):l.contextElement?Xc(l.contextElement):[],popper:Xc(a)};var T=a4(c4([].concat(r,d.options.modifiers)));return d.orderedModifiers=T.filter(function(O){return O.enabled}),E(),_.update()},forceUpdate:function(){if(!g){var I=d.elements,w=I.reference,T=I.popper;if(lE(w,T)){d.rects={reference:i4(w,ed(T),d.options.strategy==="fixed"),popper:Ay(T)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(A){return d.modifiersData[A.name]=Object.assign({},A.data)});for(var O=0;O<d.orderedModifiers.length;O++){if(d.reset===!0){d.reset=!1,O=-1;continue}var M=d.orderedModifiers[O],R=M.fn,x=M.options,y=x===void 0?{}:x,k=M.name;typeof R=="function"&&(d=R({state:d,options:y,name:k,instance:_})||d)}}}},update:l4(function(){return new Promise(function(C){_.forceUpdate(),C(d)})}),destroy:function(){S(),g=!0}};if(!lE(l,a))return _;_.setOptions(c).then(function(C){!g&&c.onFirstUpdate&&c.onFirstUpdate(C)});function E(){d.orderedModifiers.forEach(function(C){var I=C.name,w=C.options,T=w===void 0?{}:w,O=C.effect;if(typeof O=="function"){var M=O({state:d,name:I,instance:_,options:T}),R=function(){};h.push(M||R)}})}function S(){h.forEach(function(C){return C()}),h=[]}return _}}var u4=vp(),d4=[Py,Ny,Cy,xy],h4=vp({defaultModifiers:d4}),f4=[Py,Ny,Cy,xy,CA,AA,PA,SA,kA],p4=vp({defaultModifiers:f4});const m4=Object.freeze(Object.defineProperty({__proto__:null,afterMain:pA,afterRead:dA,afterWrite:_A,applyStyles:xy,arrow:SA,auto:gp,basePlacements:Wl,beforeMain:hA,beforeRead:cA,beforeWrite:mA,bottom:or,clippingParents:aA,computeStyles:Cy,createPopper:p4,createPopperBase:u4,createPopperLite:h4,detectOverflow:jl,end:kl,eventListeners:Py,flip:AA,hide:kA,left:An,main:fA,modifierPhases:vA,offset:CA,placements:Sy,popper:Fa,popperGenerator:vp,popperOffsets:Ny,preventOverflow:PA,read:uA,reference:lA,right:ar,start:ca,top:xn,variationPlacements:l_,viewport:Ty,write:gA},Symbol.toStringTag,{value:"Module"})),g4=$E(m4);/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(t,e){(function(n,r){t.exports=r(g4)})(sr,function(n){function r($){const p=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if($){for(const b in $)if(b!=="default"){const V=Object.getOwnPropertyDescriptor($,b);Object.defineProperty(p,b,V.get?V:{enumerable:!0,get:()=>$[b]})}}return p.default=$,Object.freeze(p)}const s=r(n),i=new Map,o={set($,p,b){i.has($)||i.set($,new Map);const V=i.get($);V.has(p)||V.size===0?V.set(p,b):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(V.keys())[0]}.`)},get:($,p)=>i.has($)&&i.get($).get(p)||null,remove($,p){if(!i.has($))return;const b=i.get($);b.delete(p),b.size===0&&i.delete($)}},l="transitionend",a=$=>($&&window.CSS&&window.CSS.escape&&($=$.replace(/#([^\s"#']+)/g,(p,b)=>`#${CSS.escape(b)}`)),$),c=$=>{$.dispatchEvent(new Event(l))},d=$=>!(!$||typeof $!="object")&&($.jquery!==void 0&&($=$[0]),$.nodeType!==void 0),h=$=>d($)?$.jquery?$[0]:$:typeof $=="string"&&$.length>0?document.querySelector(a($)):null,g=$=>{if(!d($)||$.getClientRects().length===0)return!1;const p=getComputedStyle($).getPropertyValue("visibility")==="visible",b=$.closest("details:not([open])");if(!b)return p;if(b!==$){const V=$.closest("summary");if(V&&V.parentNode!==b||V===null)return!1}return p},_=$=>!$||$.nodeType!==Node.ELEMENT_NODE||!!$.classList.contains("disabled")||($.disabled!==void 0?$.disabled:$.hasAttribute("disabled")&&$.getAttribute("disabled")!=="false"),E=$=>{if(!document.documentElement.attachShadow)return null;if(typeof $.getRootNode=="function"){const p=$.getRootNode();return p instanceof ShadowRoot?p:null}return $ instanceof ShadowRoot?$:$.parentNode?E($.parentNode):null},S=()=>{},C=$=>{$.offsetHeight},I=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,w=[],T=()=>document.documentElement.dir==="rtl",O=$=>{var p;p=()=>{const b=I();if(b){const V=$.NAME,Q=b.fn[V];b.fn[V]=$.jQueryInterface,b.fn[V].Constructor=$,b.fn[V].noConflict=()=>(b.fn[V]=Q,$.jQueryInterface)}},document.readyState==="loading"?(w.length||document.addEventListener("DOMContentLoaded",()=>{for(const b of w)b()}),w.push(p)):p()},M=($,p=[],b=$)=>typeof $=="function"?$(...p):b,R=($,p,b=!0)=>{if(!b)return void M($);const V=(ue=>{if(!ue)return 0;let{transitionDuration:Le,transitionDelay:mt}=window.getComputedStyle(ue);const Dn=Number.parseFloat(Le),Yn=Number.parseFloat(mt);return Dn||Yn?(Le=Le.split(",")[0],mt=mt.split(",")[0],1e3*(Number.parseFloat(Le)+Number.parseFloat(mt))):0})(p)+5;let Q=!1;const ne=({target:ue})=>{ue===p&&(Q=!0,p.removeEventListener(l,ne),M($))};p.addEventListener(l,ne),setTimeout(()=>{Q||c(p)},V)},x=($,p,b,V)=>{const Q=$.length;let ne=$.indexOf(p);return ne===-1?!b&&V?$[Q-1]:$[0]:(ne+=b?1:-1,V&&(ne=(ne+Q)%Q),$[Math.max(0,Math.min(ne,Q-1))])},y=/[^.]*(?=\..*)\.|.*/,k=/\..*/,A=/::\d+$/,j={};let D=1;const N={mouseenter:"mouseover",mouseleave:"mouseout"},ie=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function _e($,p){return p&&`${p}::${D++}`||$.uidEvent||D++}function ke($){const p=_e($);return $.uidEvent=p,j[p]=j[p]||{},j[p]}function ee($,p,b=null){return Object.values($).find(V=>V.callable===p&&V.delegationSelector===b)}function z($,p,b){const V=typeof p=="string",Q=V?b:p||b;let ne=Te($);return ie.has(ne)||(ne=$),[V,Q,ne]}function Y($,p,b,V,Q){if(typeof p!="string"||!$)return;let[ne,ue,Le]=z(p,b,V);p in N&&(ue=(Co=>function(Br){if(!Br.relatedTarget||Br.relatedTarget!==Br.delegateTarget&&!Br.delegateTarget.contains(Br.relatedTarget))return Co.call(this,Br)})(ue));const mt=ke($),Dn=mt[Le]||(mt[Le]={}),Yn=ee(Dn,ue,ne?b:null);if(Yn)return void(Yn.oneOff=Yn.oneOff&&Q);const Ur=_e(ue,p.replace(y,"")),Ms=ne?function(Vs,Co,Br){return function uc(Pd){const Uk=Vs.querySelectorAll(Co);for(let{target:Po}=Pd;Po&&Po!==this;Po=Po.parentNode)for(const Bk of Uk)if(Bk===Po)return He(Pd,{delegateTarget:Po}),uc.oneOff&&W.off(Vs,Pd.type,Co,Br),Br.apply(Po,[Pd])}}($,b,ue):function(Vs,Co){return function Br(uc){return He(uc,{delegateTarget:Vs}),Br.oneOff&&W.off(Vs,uc.type,Co),Co.apply(Vs,[uc])}}($,ue);Ms.delegationSelector=ne?b:null,Ms.callable=ue,Ms.oneOff=Q,Ms.uidEvent=Ur,Dn[Ur]=Ms,$.addEventListener(Le,Ms,ne)}function se($,p,b,V,Q){const ne=ee(p[b],V,Q);ne&&($.removeEventListener(b,ne,!!Q),delete p[b][ne.uidEvent])}function ve($,p,b,V){const Q=p[b]||{};for(const[ne,ue]of Object.entries(Q))ne.includes(V)&&se($,p,b,ue.callable,ue.delegationSelector)}function Te($){return $=$.replace(k,""),N[$]||$}const W={on($,p,b,V){Y($,p,b,V,!1)},one($,p,b,V){Y($,p,b,V,!0)},off($,p,b,V){if(typeof p!="string"||!$)return;const[Q,ne,ue]=z(p,b,V),Le=ue!==p,mt=ke($),Dn=mt[ue]||{},Yn=p.startsWith(".");if(ne===void 0){if(Yn)for(const Ur of Object.keys(mt))ve($,mt,Ur,p.slice(1));for(const[Ur,Ms]of Object.entries(Dn)){const Vs=Ur.replace(A,"");Le&&!p.includes(Vs)||se($,mt,ue,Ms.callable,Ms.delegationSelector)}}else{if(!Object.keys(Dn).length)return;se($,mt,ue,ne,Q?b:null)}},trigger($,p,b){if(typeof p!="string"||!$)return null;const V=I();let Q=null,ne=!0,ue=!0,Le=!1;p!==Te(p)&&V&&(Q=V.Event(p,b),V($).trigger(Q),ne=!Q.isPropagationStopped(),ue=!Q.isImmediatePropagationStopped(),Le=Q.isDefaultPrevented());const mt=He(new Event(p,{bubbles:ne,cancelable:!0}),b);return Le&&mt.preventDefault(),ue&&$.dispatchEvent(mt),mt.defaultPrevented&&Q&&Q.preventDefault(),mt}};function He($,p={}){for(const[b,V]of Object.entries(p))try{$[b]=V}catch{Object.defineProperty($,b,{configurable:!0,get:()=>V})}return $}function Ke($){if($==="true")return!0;if($==="false")return!1;if($===Number($).toString())return Number($);if($===""||$==="null")return null;if(typeof $!="string")return $;try{return JSON.parse(decodeURIComponent($))}catch{return $}}function Ze($){return $.replace(/[A-Z]/g,p=>`-${p.toLowerCase()}`)}const nt={setDataAttribute($,p,b){$.setAttribute(`data-bs-${Ze(p)}`,b)},removeDataAttribute($,p){$.removeAttribute(`data-bs-${Ze(p)}`)},getDataAttributes($){if(!$)return{};const p={},b=Object.keys($.dataset).filter(V=>V.startsWith("bs")&&!V.startsWith("bsConfig"));for(const V of b){let Q=V.replace(/^bs/,"");Q=Q.charAt(0).toLowerCase()+Q.slice(1,Q.length),p[Q]=Ke($.dataset[V])}return p},getDataAttribute:($,p)=>Ke($.getAttribute(`data-bs-${Ze(p)}`))};class Nt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(p){return p=this._mergeConfigObj(p),p=this._configAfterMerge(p),this._typeCheckConfig(p),p}_configAfterMerge(p){return p}_mergeConfigObj(p,b){const V=d(b)?nt.getDataAttribute(b,"config"):{};return{...this.constructor.Default,...typeof V=="object"?V:{},...d(b)?nt.getDataAttributes(b):{},...typeof p=="object"?p:{}}}_typeCheckConfig(p,b=this.constructor.DefaultType){for(const[Q,ne]of Object.entries(b)){const ue=p[Q],Le=d(ue)?"element":(V=ue)==null?`${V}`:Object.prototype.toString.call(V).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(ne).test(Le))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${Q}" provided type "${Le}" but expected type "${ne}".`)}var V}}class Dt extends Nt{constructor(p,b){super(),(p=h(p))&&(this._element=p,this._config=this._getConfig(b),o.set(this._element,this.constructor.DATA_KEY,this))}dispose(){o.remove(this._element,this.constructor.DATA_KEY),W.off(this._element,this.constructor.EVENT_KEY);for(const p of Object.getOwnPropertyNames(this))this[p]=null}_queueCallback(p,b,V=!0){R(p,b,V)}_getConfig(p){return p=this._mergeConfigObj(p,this._element),p=this._configAfterMerge(p),this._typeCheckConfig(p),p}static getInstance(p){return o.get(h(p),this.DATA_KEY)}static getOrCreateInstance(p,b={}){return this.getInstance(p)||new this(p,typeof b=="object"?b:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(p){return`${p}${this.EVENT_KEY}`}}const hr=$=>{let p=$.getAttribute("data-bs-target");if(!p||p==="#"){let b=$.getAttribute("href");if(!b||!b.includes("#")&&!b.startsWith("."))return null;b.includes("#")&&!b.startsWith("#")&&(b=`#${b.split("#")[1]}`),p=b&&b!=="#"?b.trim():null}return p?p.split(",").map(b=>a(b)).join(","):null},le={find:($,p=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(p,$)),findOne:($,p=document.documentElement)=>Element.prototype.querySelector.call(p,$),children:($,p)=>[].concat(...$.children).filter(b=>b.matches(p)),parents($,p){const b=[];let V=$.parentNode.closest(p);for(;V;)b.push(V),V=V.parentNode.closest(p);return b},prev($,p){let b=$.previousElementSibling;for(;b;){if(b.matches(p))return[b];b=b.previousElementSibling}return[]},next($,p){let b=$.nextElementSibling;for(;b;){if(b.matches(p))return[b];b=b.nextElementSibling}return[]},focusableChildren($){const p=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(b=>`${b}:not([tabindex^="-"])`).join(",");return this.find(p,$).filter(b=>!_(b)&&g(b))},getSelectorFromElement($){const p=hr($);return p&&le.findOne(p)?p:null},getElementFromSelector($){const p=hr($);return p?le.findOne(p):null},getMultipleElementsFromSelector($){const p=hr($);return p?le.find(p):[]}},rt=($,p="hide")=>{const b=`click.dismiss${$.EVENT_KEY}`,V=$.NAME;W.on(document,b,`[data-bs-dismiss="${V}"]`,function(Q){if(["A","AREA"].includes(this.tagName)&&Q.preventDefault(),_(this))return;const ne=le.getElementFromSelector(this)||this.closest(`.${V}`);$.getOrCreateInstance(ne)[p]()})},rn=".bs.alert",is=`close${rn}`,Rs=`closed${rn}`;class Lt extends Dt{static get NAME(){return"alert"}close(){if(W.trigger(this._element,is).defaultPrevented)return;this._element.classList.remove("show");const p=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,p)}_destroyElement(){this._element.remove(),W.trigger(this._element,Rs),this.dispose()}static jQueryInterface(p){return this.each(function(){const b=Lt.getOrCreateInstance(this);if(typeof p=="string"){if(b[p]===void 0||p.startsWith("_")||p==="constructor")throw new TypeError(`No method named "${p}"`);b[p](this)}})}}rt(Lt,"close"),O(Lt);const js='[data-bs-toggle="button"]';class Pr extends Dt{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(p){return this.each(function(){const b=Pr.getOrCreateInstance(this);p==="toggle"&&b[p]()})}}W.on(document,"click.bs.button.data-api",js,$=>{$.preventDefault();const p=$.target.closest(js);Pr.getOrCreateInstance(p).toggle()}),O(Pr);const jn=".bs.swipe",gn=`touchstart${jn}`,Rr=`touchmove${jn}`,mi=`touchend${jn}`,os=`pointerdown${jn}`,_n=`pointerup${jn}`,Hn={endCallback:null,leftCallback:null,rightCallback:null},ht={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class et extends Nt{constructor(p,b){super(),this._element=p,p&&et.isSupported()&&(this._config=this._getConfig(b),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Hn}static get DefaultType(){return ht}static get NAME(){return"swipe"}dispose(){W.off(this._element,jn)}_start(p){this._supportPointerEvents?this._eventIsPointerPenTouch(p)&&(this._deltaX=p.clientX):this._deltaX=p.touches[0].clientX}_end(p){this._eventIsPointerPenTouch(p)&&(this._deltaX=p.clientX-this._deltaX),this._handleSwipe(),M(this._config.endCallback)}_move(p){this._deltaX=p.touches&&p.touches.length>1?0:p.touches[0].clientX-this._deltaX}_handleSwipe(){const p=Math.abs(this._deltaX);if(p<=40)return;const b=p/this._deltaX;this._deltaX=0,b&&M(b>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(W.on(this._element,os,p=>this._start(p)),W.on(this._element,_n,p=>this._end(p)),this._element.classList.add("pointer-event")):(W.on(this._element,gn,p=>this._start(p)),W.on(this._element,Rr,p=>this._move(p)),W.on(this._element,mi,p=>this._end(p)))}_eventIsPointerPenTouch(p){return this._supportPointerEvents&&(p.pointerType==="pen"||p.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const at=".bs.carousel",vn=".data-api",jr="next",Wn="prev",On="left",sn="right",_o=`slide${at}`,as=`slid${at}`,Ea=`keydown${at}`,Yl=`mouseenter${at}`,gi=`mouseleave${at}`,Os=`dragstart${at}`,vo=`load${at}${vn}`,Or=`click${at}${vn}`,Nr="carousel",fr="active",pr=".active",_i=".carousel-item",vi=pr+_i,yo={ArrowLeft:sn,ArrowRight:On},mr={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ns={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class ft extends Dt{constructor(p,b){super(p,b),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=le.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Nr&&this.cycle()}static get Default(){return mr}static get DefaultType(){return Ns}static get NAME(){return"carousel"}next(){this._slide(jr)}nextWhenVisible(){!document.hidden&&g(this._element)&&this.next()}prev(){this._slide(Wn)}pause(){this._isSliding&&c(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?W.one(this._element,as,()=>this.cycle()):this.cycle())}to(p){const b=this._getItems();if(p>b.length-1||p<0)return;if(this._isSliding)return void W.one(this._element,as,()=>this.to(p));const V=this._getItemIndex(this._getActive());if(V===p)return;const Q=p>V?jr:Wn;this._slide(Q,b[p])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(p){return p.defaultInterval=p.interval,p}_addEventListeners(){this._config.keyboard&&W.on(this._element,Ea,p=>this._keydown(p)),this._config.pause==="hover"&&(W.on(this._element,Yl,()=>this.pause()),W.on(this._element,gi,()=>this._maybeEnableCycle())),this._config.touch&&et.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const b of le.find(".carousel-item img",this._element))W.on(b,Os,V=>V.preventDefault());const p={leftCallback:()=>this._slide(this._directionToOrder(On)),rightCallback:()=>this._slide(this._directionToOrder(sn)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new et(this._element,p)}_keydown(p){if(/input|textarea/i.test(p.target.tagName))return;const b=yo[p.key];b&&(p.preventDefault(),this._slide(this._directionToOrder(b)))}_getItemIndex(p){return this._getItems().indexOf(p)}_setActiveIndicatorElement(p){if(!this._indicatorsElement)return;const b=le.findOne(pr,this._indicatorsElement);b.classList.remove(fr),b.removeAttribute("aria-current");const V=le.findOne(`[data-bs-slide-to="${p}"]`,this._indicatorsElement);V&&(V.classList.add(fr),V.setAttribute("aria-current","true"))}_updateInterval(){const p=this._activeElement||this._getActive();if(!p)return;const b=Number.parseInt(p.getAttribute("data-bs-interval"),10);this._config.interval=b||this._config.defaultInterval}_slide(p,b=null){if(this._isSliding)return;const V=this._getActive(),Q=p===jr,ne=b||x(this._getItems(),V,Q,this._config.wrap);if(ne===V)return;const ue=this._getItemIndex(ne),Le=Ur=>W.trigger(this._element,Ur,{relatedTarget:ne,direction:this._orderToDirection(p),from:this._getItemIndex(V),to:ue});if(Le(_o).defaultPrevented||!V||!ne)return;const mt=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(ue),this._activeElement=ne;const Dn=Q?"carousel-item-start":"carousel-item-end",Yn=Q?"carousel-item-next":"carousel-item-prev";ne.classList.add(Yn),C(ne),V.classList.add(Dn),ne.classList.add(Dn),this._queueCallback(()=>{ne.classList.remove(Dn,Yn),ne.classList.add(fr),V.classList.remove(fr,Yn,Dn),this._isSliding=!1,Le(as)},V,this._isAnimated()),mt&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return le.findOne(vi,this._element)}_getItems(){return le.find(_i,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(p){return T()?p===On?Wn:jr:p===On?jr:Wn}_orderToDirection(p){return T()?p===Wn?On:sn:p===Wn?sn:On}static jQueryInterface(p){return this.each(function(){const b=ft.getOrCreateInstance(this,p);if(typeof p!="number"){if(typeof p=="string"){if(b[p]===void 0||p.startsWith("_")||p==="constructor")throw new TypeError(`No method named "${p}"`);b[p]()}}else b.to(p)})}}W.on(document,Or,"[data-bs-slide], [data-bs-slide-to]",function($){const p=le.getElementFromSelector(this);if(!p||!p.classList.contains(Nr))return;$.preventDefault();const b=ft.getOrCreateInstance(p),V=this.getAttribute("data-bs-slide-to");return V?(b.to(V),void b._maybeEnableCycle()):nt.getDataAttribute(this,"slide")==="next"?(b.next(),void b._maybeEnableCycle()):(b.prev(),void b._maybeEnableCycle())}),W.on(window,vo,()=>{const $=le.find('[data-bs-ride="carousel"]');for(const p of $)ft.getOrCreateInstance(p)}),O(ft);const ls=".bs.collapse",F=`show${ls}`,U=`shown${ls}`,q=`hide${ls}`,G=`hidden${ls}`,re=`click${ls}.data-api`,ce="show",pe="collapse",Z="collapsing",we=`:scope .${pe} .${pe}`,he='[data-bs-toggle="collapse"]',fe={parent:null,toggle:!0},Ce={parent:"(null|element)",toggle:"boolean"};class Pe extends Dt{constructor(p,b){super(p,b),this._isTransitioning=!1,this._triggerArray=[];const V=le.find(he);for(const Q of V){const ne=le.getSelectorFromElement(Q),ue=le.find(ne).filter(Le=>Le===this._element);ne!==null&&ue.length&&this._triggerArray.push(Q)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return fe}static get DefaultType(){return Ce}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let p=[];if(this._config.parent&&(p=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(Q=>Q!==this._element).map(Q=>Pe.getOrCreateInstance(Q,{toggle:!1}))),p.length&&p[0]._isTransitioning||W.trigger(this._element,F).defaultPrevented)return;for(const Q of p)Q.hide();const b=this._getDimension();this._element.classList.remove(pe),this._element.classList.add(Z),this._element.style[b]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const V=`scroll${b[0].toUpperCase()+b.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Z),this._element.classList.add(pe,ce),this._element.style[b]="",W.trigger(this._element,U)},this._element,!0),this._element.style[b]=`${this._element[V]}px`}hide(){if(this._isTransitioning||!this._isShown()||W.trigger(this._element,q).defaultPrevented)return;const p=this._getDimension();this._element.style[p]=`${this._element.getBoundingClientRect()[p]}px`,C(this._element),this._element.classList.add(Z),this._element.classList.remove(pe,ce);for(const b of this._triggerArray){const V=le.getElementFromSelector(b);V&&!this._isShown(V)&&this._addAriaAndCollapsedClass([b],!1)}this._isTransitioning=!0,this._element.style[p]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Z),this._element.classList.add(pe),W.trigger(this._element,G)},this._element,!0)}_isShown(p=this._element){return p.classList.contains(ce)}_configAfterMerge(p){return p.toggle=!!p.toggle,p.parent=h(p.parent),p}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const p=this._getFirstLevelChildren(he);for(const b of p){const V=le.getElementFromSelector(b);V&&this._addAriaAndCollapsedClass([b],this._isShown(V))}}_getFirstLevelChildren(p){const b=le.find(we,this._config.parent);return le.find(p,this._config.parent).filter(V=>!b.includes(V))}_addAriaAndCollapsedClass(p,b){if(p.length)for(const V of p)V.classList.toggle("collapsed",!b),V.setAttribute("aria-expanded",b)}static jQueryInterface(p){const b={};return typeof p=="string"&&/show|hide/.test(p)&&(b.toggle=!1),this.each(function(){const V=Pe.getOrCreateInstance(this,b);if(typeof p=="string"){if(V[p]===void 0)throw new TypeError(`No method named "${p}"`);V[p]()}})}}W.on(document,re,he,function($){($.target.tagName==="A"||$.delegateTarget&&$.delegateTarget.tagName==="A")&&$.preventDefault();for(const p of le.getMultipleElementsFromSelector(this))Pe.getOrCreateInstance(p,{toggle:!1}).toggle()}),O(Pe);const Ue="dropdown",Ie=".bs.dropdown",lt=".data-api",ct="ArrowUp",Dr="ArrowDown",gr=`hide${Ie}`,Gn=`hidden${Ie}`,Lr=`show${Ie}`,_r=`shown${Ie}`,Mt=`click${Ie}${lt}`,yn=`keydown${Ie}${lt}`,cs=`keyup${Ie}${lt}`,Kn="show",ge='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',tt=`${ge}.${Kn}`,St=".dropdown-menu",We=T()?"top-end":"top-start",wn=T()?"top-start":"top-end",wo=T()?"bottom-end":"bottom-start",Ta=T()?"bottom-start":"bottom-end",Ap=T()?"left-start":"right-start",kp=T()?"right-start":"left-start",id={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},od={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Qn extends Dt{constructor(p,b){super(p,b),this._popper=null,this._parent=this._element.parentNode,this._menu=le.next(this._element,St)[0]||le.prev(this._element,St)[0]||le.findOne(St,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return id}static get DefaultType(){return od}static get NAME(){return Ue}toggle(){return this._isShown()?this.hide():this.show()}show(){if(_(this._element)||this._isShown())return;const p={relatedTarget:this._element};if(!W.trigger(this._element,Lr,p).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const b of[].concat(...document.body.children))W.on(b,"mouseover",S);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Kn),this._element.classList.add(Kn),W.trigger(this._element,_r,p)}}hide(){if(_(this._element)||!this._isShown())return;const p={relatedTarget:this._element};this._completeHide(p)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(p){if(!W.trigger(this._element,gr,p).defaultPrevented){if("ontouchstart"in document.documentElement)for(const b of[].concat(...document.body.children))W.off(b,"mouseover",S);this._popper&&this._popper.destroy(),this._menu.classList.remove(Kn),this._element.classList.remove(Kn),this._element.setAttribute("aria-expanded","false"),nt.removeDataAttribute(this._menu,"popper"),W.trigger(this._element,Gn,p)}}_getConfig(p){if(typeof(p=super._getConfig(p)).reference=="object"&&!d(p.reference)&&typeof p.reference.getBoundingClientRect!="function")throw new TypeError(`${Ue.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return p}_createPopper(){if(s===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let p=this._element;this._config.reference==="parent"?p=this._parent:d(this._config.reference)?p=h(this._config.reference):typeof this._config.reference=="object"&&(p=this._config.reference);const b=this._getPopperConfig();this._popper=s.createPopper(p,this._menu,b)}_isShown(){return this._menu.classList.contains(Kn)}_getPlacement(){const p=this._parent;if(p.classList.contains("dropend"))return Ap;if(p.classList.contains("dropstart"))return kp;if(p.classList.contains("dropup-center"))return"top";if(p.classList.contains("dropdown-center"))return"bottom";const b=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return p.classList.contains("dropup")?b?wn:We:b?Ta:wo}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:p}=this._config;return typeof p=="string"?p.split(",").map(b=>Number.parseInt(b,10)):typeof p=="function"?b=>p(b,this._element):p}_getPopperConfig(){const p={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(nt.setDataAttribute(this._menu,"popper","static"),p.modifiers=[{name:"applyStyles",enabled:!1}]),{...p,...M(this._config.popperConfig,[p])}}_selectMenuItem({key:p,target:b}){const V=le.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(Q=>g(Q));V.length&&x(V,b,p===Dr,!V.includes(b)).focus()}static jQueryInterface(p){return this.each(function(){const b=Qn.getOrCreateInstance(this,p);if(typeof p=="string"){if(b[p]===void 0)throw new TypeError(`No method named "${p}"`);b[p]()}})}static clearMenus(p){if(p.button===2||p.type==="keyup"&&p.key!=="Tab")return;const b=le.find(tt);for(const V of b){const Q=Qn.getInstance(V);if(!Q||Q._config.autoClose===!1)continue;const ne=p.composedPath(),ue=ne.includes(Q._menu);if(ne.includes(Q._element)||Q._config.autoClose==="inside"&&!ue||Q._config.autoClose==="outside"&&ue||Q._menu.contains(p.target)&&(p.type==="keyup"&&p.key==="Tab"||/input|select|option|textarea|form/i.test(p.target.tagName)))continue;const Le={relatedTarget:Q._element};p.type==="click"&&(Le.clickEvent=p),Q._completeHide(Le)}}static dataApiKeydownHandler(p){const b=/input|textarea/i.test(p.target.tagName),V=p.key==="Escape",Q=[ct,Dr].includes(p.key);if(!Q&&!V||b&&!V)return;p.preventDefault();const ne=this.matches(ge)?this:le.prev(this,ge)[0]||le.next(this,ge)[0]||le.findOne(ge,p.delegateTarget.parentNode),ue=Qn.getOrCreateInstance(ne);if(Q)return p.stopPropagation(),ue.show(),void ue._selectMenuItem(p);ue._isShown()&&(p.stopPropagation(),ue.hide(),ne.focus())}}W.on(document,yn,ge,Qn.dataApiKeydownHandler),W.on(document,yn,St,Qn.dataApiKeydownHandler),W.on(document,Mt,Qn.clearMenus),W.on(document,cs,Qn.clearMenus),W.on(document,Mt,ge,function($){$.preventDefault(),Qn.getOrCreateInstance(this).toggle()}),O(Qn);const us="backdrop",vr="show",bo=`mousedown.bs.${us}`,Sa={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},ad={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Ye extends Nt{constructor(p){super(),this._config=this._getConfig(p),this._isAppended=!1,this._element=null}static get Default(){return Sa}static get DefaultType(){return ad}static get NAME(){return us}show(p){if(!this._config.isVisible)return void M(p);this._append();const b=this._getElement();this._config.isAnimated&&C(b),b.classList.add(vr),this._emulateAnimation(()=>{M(p)})}hide(p){this._config.isVisible?(this._getElement().classList.remove(vr),this._emulateAnimation(()=>{this.dispose(),M(p)})):M(p)}dispose(){this._isAppended&&(W.off(this._element,bo),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const p=document.createElement("div");p.className=this._config.className,this._config.isAnimated&&p.classList.add("fade"),this._element=p}return this._element}_configAfterMerge(p){return p.rootElement=h(p.rootElement),p}_append(){if(this._isAppended)return;const p=this._getElement();this._config.rootElement.append(p),W.on(p,bo,()=>{M(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(p){R(p,this._getElement(),this._config.isAnimated)}}const Ds=".bs.focustrap",Eo=`focusin${Ds}`,To=`keydown.tab${Ds}`,ld="backward",cd={autofocus:!0,trapElement:null},Cp={autofocus:"boolean",trapElement:"element"};class ud extends Nt{constructor(p){super(),this._config=this._getConfig(p),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return cd}static get DefaultType(){return Cp}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),W.off(document,Ds),W.on(document,Eo,p=>this._handleFocusin(p)),W.on(document,To,p=>this._handleKeydown(p)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,W.off(document,Ds))}_handleFocusin(p){const{trapElement:b}=this._config;if(p.target===document||p.target===b||b.contains(p.target))return;const V=le.focusableChildren(b);V.length===0?b.focus():this._lastTabNavDirection===ld?V[V.length-1].focus():V[0].focus()}_handleKeydown(p){p.key==="Tab"&&(this._lastTabNavDirection=p.shiftKey?ld:"forward")}}const dd=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",hd=".sticky-top",ds="padding-right",Mr="margin-right";class Ia{constructor(){this._element=document.body}getWidth(){const p=document.documentElement.clientWidth;return Math.abs(window.innerWidth-p)}hide(){const p=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,ds,b=>b+p),this._setElementAttributes(dd,ds,b=>b+p),this._setElementAttributes(hd,Mr,b=>b-p)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,ds),this._resetElementAttributes(dd,ds),this._resetElementAttributes(hd,Mr)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(p,b,V){const Q=this.getWidth();this._applyManipulationCallback(p,ne=>{if(ne!==this._element&&window.innerWidth>ne.clientWidth+Q)return;this._saveInitialAttribute(ne,b);const ue=window.getComputedStyle(ne).getPropertyValue(b);ne.style.setProperty(b,`${V(Number.parseFloat(ue))}px`)})}_saveInitialAttribute(p,b){const V=p.style.getPropertyValue(b);V&&nt.setDataAttribute(p,b,V)}_resetElementAttributes(p,b){this._applyManipulationCallback(p,V=>{const Q=nt.getDataAttribute(V,b);Q!==null?(nt.removeDataAttribute(V,b),V.style.setProperty(b,Q)):V.style.removeProperty(b)})}_applyManipulationCallback(p,b){if(d(p))b(p);else for(const V of le.find(p,this._element))b(V)}}const bn=".bs.modal",fd=`hide${bn}`,yi=`hidePrevented${bn}`,pd=`hidden${bn}`,md=`show${bn}`,Pp=`shown${bn}`,hs=`resize${bn}`,Rp=`click.dismiss${bn}`,jp=`mousedown.dismiss${bn}`,So=`keydown.dismiss${bn}`,xa=`click${bn}.data-api`,Jl="modal-open",wi="show",Ls="modal-static",gd={backdrop:!0,focus:!0,keyboard:!0},Xl={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ge extends Dt{constructor(p,b){super(p,b),this._dialog=le.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Ia,this._addEventListeners()}static get Default(){return gd}static get DefaultType(){return Xl}static get NAME(){return"modal"}toggle(p){return this._isShown?this.hide():this.show(p)}show(p){this._isShown||this._isTransitioning||W.trigger(this._element,md,{relatedTarget:p}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Jl),this._adjustDialog(),this._backdrop.show(()=>this._showElement(p)))}hide(){this._isShown&&!this._isTransitioning&&(W.trigger(this._element,fd).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(wi),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){W.off(window,bn),W.off(this._dialog,bn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Ye({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new ud({trapElement:this._element})}_showElement(p){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const b=le.findOne(".modal-body",this._dialog);b&&(b.scrollTop=0),C(this._element),this._element.classList.add(wi),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,W.trigger(this._element,Pp,{relatedTarget:p})},this._dialog,this._isAnimated())}_addEventListeners(){W.on(this._element,So,p=>{p.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),W.on(window,hs,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),W.on(this._element,jp,p=>{W.one(this._element,Rp,b=>{this._element===p.target&&this._element===b.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Jl),this._resetAdjustments(),this._scrollBar.reset(),W.trigger(this._element,pd)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(W.trigger(this._element,yi).defaultPrevented)return;const p=this._element.scrollHeight>document.documentElement.clientHeight,b=this._element.style.overflowY;b==="hidden"||this._element.classList.contains(Ls)||(p||(this._element.style.overflowY="hidden"),this._element.classList.add(Ls),this._queueCallback(()=>{this._element.classList.remove(Ls),this._queueCallback(()=>{this._element.style.overflowY=b},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const p=this._element.scrollHeight>document.documentElement.clientHeight,b=this._scrollBar.getWidth(),V=b>0;if(V&&!p){const Q=T()?"paddingLeft":"paddingRight";this._element.style[Q]=`${b}px`}if(!V&&p){const Q=T()?"paddingRight":"paddingLeft";this._element.style[Q]=`${b}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(p,b){return this.each(function(){const V=Ge.getOrCreateInstance(this,p);if(typeof p=="string"){if(V[p]===void 0)throw new TypeError(`No method named "${p}"`);V[p](b)}})}}W.on(document,xa,'[data-bs-toggle="modal"]',function($){const p=le.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&$.preventDefault(),W.one(p,md,V=>{V.defaultPrevented||W.one(p,pd,()=>{g(this)&&this.focus()})});const b=le.findOne(".modal.show");b&&Ge.getInstance(b).hide(),Ge.getOrCreateInstance(p).toggle(this)}),rt(Ge),O(Ge);const Vr=".bs.offcanvas",_d=".data-api",vd=`load${Vr}${_d}`,Zl="show",ec="showing",Io="hiding",tc=".offcanvas.show",Fr=`show${Vr}`,yd=`shown${Vr}`,Op=`hide${Vr}`,bi=`hidePrevented${Vr}`,nc=`hidden${Vr}`,rc=`resize${Vr}`,Aa=`click${Vr}${_d}`,wd=`keydown.dismiss${Vr}`,ka={backdrop:!0,keyboard:!0,scroll:!1},Np={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class yr extends Dt{constructor(p,b){super(p,b),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return ka}static get DefaultType(){return Np}static get NAME(){return"offcanvas"}toggle(p){return this._isShown?this.hide():this.show(p)}show(p){this._isShown||W.trigger(this._element,Fr,{relatedTarget:p}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Ia().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(ec),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Zl),this._element.classList.remove(ec),W.trigger(this._element,yd,{relatedTarget:p})},this._element,!0))}hide(){this._isShown&&(W.trigger(this._element,Op).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Io),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Zl,Io),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Ia().reset(),W.trigger(this._element,nc)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const p=!!this._config.backdrop;return new Ye({className:"offcanvas-backdrop",isVisible:p,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:p?()=>{this._config.backdrop!=="static"?this.hide():W.trigger(this._element,bi)}:null})}_initializeFocusTrap(){return new ud({trapElement:this._element})}_addEventListeners(){W.on(this._element,wd,p=>{p.key==="Escape"&&(this._config.keyboard?this.hide():W.trigger(this._element,bi))})}static jQueryInterface(p){return this.each(function(){const b=yr.getOrCreateInstance(this,p);if(typeof p=="string"){if(b[p]===void 0||p.startsWith("_")||p==="constructor")throw new TypeError(`No method named "${p}"`);b[p](this)}})}}W.on(document,Aa,'[data-bs-toggle="offcanvas"]',function($){const p=le.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&$.preventDefault(),_(this))return;W.one(p,nc,()=>{g(this)&&this.focus()});const b=le.findOne(tc);b&&b!==p&&yr.getInstance(b).hide(),yr.getOrCreateInstance(p).toggle(this)}),W.on(window,vd,()=>{for(const $ of le.find(tc))yr.getOrCreateInstance($).show()}),W.on(window,rc,()=>{for(const $ of le.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle($).position!=="fixed"&&yr.getOrCreateInstance($).hide()}),rt(yr),O(yr);const Ei={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},bd=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Ed=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,sc=($,p)=>{const b=$.nodeName.toLowerCase();return p.includes(b)?!bd.has(b)||!!Ed.test($.nodeValue):p.filter(V=>V instanceof RegExp).some(V=>V.test(b))},ic={allowList:Ei,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Td={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Ca={entry:"(string|element|function|null)",selector:"(string|element)"};class Sd extends Nt{constructor(p){super(),this._config=this._getConfig(p)}static get Default(){return ic}static get DefaultType(){return Td}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(p=>this._resolvePossibleFunction(p)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(p){return this._checkContent(p),this._config.content={...this._config.content,...p},this}toHtml(){const p=document.createElement("div");p.innerHTML=this._maybeSanitize(this._config.template);for(const[Q,ne]of Object.entries(this._config.content))this._setContent(p,ne,Q);const b=p.children[0],V=this._resolvePossibleFunction(this._config.extraClass);return V&&b.classList.add(...V.split(" ")),b}_typeCheckConfig(p){super._typeCheckConfig(p),this._checkContent(p.content)}_checkContent(p){for(const[b,V]of Object.entries(p))super._typeCheckConfig({selector:b,entry:V},Ca)}_setContent(p,b,V){const Q=le.findOne(V,p);Q&&((b=this._resolvePossibleFunction(b))?d(b)?this._putElementInTemplate(h(b),Q):this._config.html?Q.innerHTML=this._maybeSanitize(b):Q.textContent=b:Q.remove())}_maybeSanitize(p){return this._config.sanitize?function(b,V,Q){if(!b.length)return b;if(Q&&typeof Q=="function")return Q(b);const ne=new window.DOMParser().parseFromString(b,"text/html"),ue=[].concat(...ne.body.querySelectorAll("*"));for(const Le of ue){const mt=Le.nodeName.toLowerCase();if(!Object.keys(V).includes(mt)){Le.remove();continue}const Dn=[].concat(...Le.attributes),Yn=[].concat(V["*"]||[],V[mt]||[]);for(const Ur of Dn)sc(Ur,Yn)||Le.removeAttribute(Ur.nodeName)}return ne.body.innerHTML}(p,this._config.allowList,this._config.sanitizeFn):p}_resolvePossibleFunction(p){return M(p,[this])}_putElementInTemplate(p,b){if(this._config.html)return b.innerHTML="",void b.append(p);b.textContent=p.textContent}}const Id=new Set(["sanitize","allowList","sanitizeFn"]),$r="fade",xo="show",oc=".modal",ac="hide.bs.modal",Ti="hover",Si="focus",En={AUTO:"auto",TOP:"top",RIGHT:T()?"left":"right",BOTTOM:"bottom",LEFT:T()?"right":"left"},xd={allowList:Ei,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Ad={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Nn extends Dt{constructor(p,b){if(s===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(p,b),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return xd}static get DefaultType(){return Ad}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),W.off(this._element.closest(oc),ac,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const p=W.trigger(this._element,this.constructor.eventName("show")),b=(E(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(p.defaultPrevented||!b)return;this._disposePopper();const V=this._getTipElement();this._element.setAttribute("aria-describedby",V.getAttribute("id"));const{container:Q}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(Q.append(V),W.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(V),V.classList.add(xo),"ontouchstart"in document.documentElement)for(const ne of[].concat(...document.body.children))W.on(ne,"mouseover",S);this._queueCallback(()=>{W.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!W.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(xo),"ontouchstart"in document.documentElement)for(const p of[].concat(...document.body.children))W.off(p,"mouseover",S);this._activeTrigger.click=!1,this._activeTrigger[Si]=!1,this._activeTrigger[Ti]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),W.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(p){const b=this._getTemplateFactory(p).toHtml();if(!b)return null;b.classList.remove($r,xo),b.classList.add(`bs-${this.constructor.NAME}-auto`);const V=(Q=>{do Q+=Math.floor(1e6*Math.random());while(document.getElementById(Q));return Q})(this.constructor.NAME).toString();return b.setAttribute("id",V),this._isAnimated()&&b.classList.add($r),b}setContent(p){this._newContent=p,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(p){return this._templateFactory?this._templateFactory.changeContent(p):this._templateFactory=new Sd({...this._config,content:p,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(p){return this.constructor.getOrCreateInstance(p.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains($r)}_isShown(){return this.tip&&this.tip.classList.contains(xo)}_createPopper(p){const b=M(this._config.placement,[this,p,this._element]),V=En[b.toUpperCase()];return s.createPopper(this._element,p,this._getPopperConfig(V))}_getOffset(){const{offset:p}=this._config;return typeof p=="string"?p.split(",").map(b=>Number.parseInt(b,10)):typeof p=="function"?b=>p(b,this._element):p}_resolvePossibleFunction(p){return M(p,[this._element])}_getPopperConfig(p){const b={placement:p,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:V=>{this._getTipElement().setAttribute("data-popper-placement",V.state.placement)}}]};return{...b,...M(this._config.popperConfig,[b])}}_setListeners(){const p=this._config.trigger.split(" ");for(const b of p)if(b==="click")W.on(this._element,this.constructor.eventName("click"),this._config.selector,V=>{this._initializeOnDelegatedTarget(V).toggle()});else if(b!=="manual"){const V=b===Ti?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),Q=b===Ti?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");W.on(this._element,V,this._config.selector,ne=>{const ue=this._initializeOnDelegatedTarget(ne);ue._activeTrigger[ne.type==="focusin"?Si:Ti]=!0,ue._enter()}),W.on(this._element,Q,this._config.selector,ne=>{const ue=this._initializeOnDelegatedTarget(ne);ue._activeTrigger[ne.type==="focusout"?Si:Ti]=ue._element.contains(ne.relatedTarget),ue._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},W.on(this._element.closest(oc),ac,this._hideModalHandler)}_fixTitle(){const p=this._element.getAttribute("title");p&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",p),this._element.setAttribute("data-bs-original-title",p),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(p,b){clearTimeout(this._timeout),this._timeout=setTimeout(p,b)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(p){const b=nt.getDataAttributes(this._element);for(const V of Object.keys(b))Id.has(V)&&delete b[V];return p={...b,...typeof p=="object"&&p?p:{}},p=this._mergeConfigObj(p),p=this._configAfterMerge(p),this._typeCheckConfig(p),p}_configAfterMerge(p){return p.container=p.container===!1?document.body:h(p.container),typeof p.delay=="number"&&(p.delay={show:p.delay,hide:p.delay}),typeof p.title=="number"&&(p.title=p.title.toString()),typeof p.content=="number"&&(p.content=p.content.toString()),p}_getDelegateConfig(){const p={};for(const[b,V]of Object.entries(this._config))this.constructor.Default[b]!==V&&(p[b]=V);return p.selector=!1,p.trigger="manual",p}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(p){return this.each(function(){const b=Nn.getOrCreateInstance(this,p);if(typeof p=="string"){if(b[p]===void 0)throw new TypeError(`No method named "${p}"`);b[p]()}})}}O(Nn);const u={...Nn.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},m={...Nn.DefaultType,content:"(null|string|element|function)"};class v extends Nn{static get Default(){return u}static get DefaultType(){return m}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(p){return this.each(function(){const b=v.getOrCreateInstance(this,p);if(typeof p=="string"){if(b[p]===void 0)throw new TypeError(`No method named "${p}"`);b[p]()}})}}O(v);const P=".bs.scrollspy",B=`activate${P}`,H=`click${P}`,te=`load${P}.data-api`,Fe="active",It="[href]",De=".nav-link",Ut=`${De}, .nav-item > ${De}, .list-group-item`,Bt={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Ii={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Gt extends Dt{constructor(p,b){super(p,b),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Bt}static get DefaultType(){return Ii}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const p of this._observableSections.values())this._observer.observe(p)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(p){return p.target=h(p.target)||document.body,p.rootMargin=p.offset?`${p.offset}px 0px -30%`:p.rootMargin,typeof p.threshold=="string"&&(p.threshold=p.threshold.split(",").map(b=>Number.parseFloat(b))),p}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(W.off(this._config.target,H),W.on(this._config.target,H,It,p=>{const b=this._observableSections.get(p.target.hash);if(b){p.preventDefault();const V=this._rootElement||window,Q=b.offsetTop-this._element.offsetTop;if(V.scrollTo)return void V.scrollTo({top:Q,behavior:"smooth"});V.scrollTop=Q}}))}_getNewObserver(){const p={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(b=>this._observerCallback(b),p)}_observerCallback(p){const b=ue=>this._targetLinks.get(`#${ue.target.id}`),V=ue=>{this._previousScrollData.visibleEntryTop=ue.target.offsetTop,this._process(b(ue))},Q=(this._rootElement||document.documentElement).scrollTop,ne=Q>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=Q;for(const ue of p){if(!ue.isIntersecting){this._activeTarget=null,this._clearActiveClass(b(ue));continue}const Le=ue.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(ne&&Le){if(V(ue),!Q)return}else ne||Le||V(ue)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const p=le.find(It,this._config.target);for(const b of p){if(!b.hash||_(b))continue;const V=le.findOne(decodeURI(b.hash),this._element);g(V)&&(this._targetLinks.set(decodeURI(b.hash),b),this._observableSections.set(b.hash,V))}}_process(p){this._activeTarget!==p&&(this._clearActiveClass(this._config.target),this._activeTarget=p,p.classList.add(Fe),this._activateParents(p),W.trigger(this._element,B,{relatedTarget:p}))}_activateParents(p){if(p.classList.contains("dropdown-item"))le.findOne(".dropdown-toggle",p.closest(".dropdown")).classList.add(Fe);else for(const b of le.parents(p,".nav, .list-group"))for(const V of le.prev(b,Ut))V.classList.add(Fe)}_clearActiveClass(p){p.classList.remove(Fe);const b=le.find(`${It}.${Fe}`,p);for(const V of b)V.classList.remove(Fe)}static jQueryInterface(p){return this.each(function(){const b=Gt.getOrCreateInstance(this,p);if(typeof p=="string"){if(b[p]===void 0||p.startsWith("_")||p==="constructor")throw new TypeError(`No method named "${p}"`);b[p]()}})}}W.on(window,te,()=>{for(const $ of le.find('[data-bs-spy="scroll"]'))Gt.getOrCreateInstance($)}),O(Gt);const wr=".bs.tab",lc=`hide${wr}`,Ek=`hidden${wr}`,Tk=`show${wr}`,Sk=`shown${wr}`,Ik=`click${wr}`,xk=`keydown${wr}`,Ak=`load${wr}`,kk="ArrowLeft",Gy="ArrowRight",Ck="ArrowUp",Ky="ArrowDown",Dp="Home",Qy="End",Ao="active",Yy="fade",Lp="show",Jy=".dropdown-toggle",Mp=`:not(${Jy})`,Xy='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Vp=`.nav-link${Mp}, .list-group-item${Mp}, [role="tab"]${Mp}, ${Xy}`,Pk=`.${Ao}[data-bs-toggle="tab"], .${Ao}[data-bs-toggle="pill"], .${Ao}[data-bs-toggle="list"]`;class ko extends Dt{constructor(p){super(p),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),W.on(this._element,xk,b=>this._keydown(b)))}static get NAME(){return"tab"}show(){const p=this._element;if(this._elemIsActive(p))return;const b=this._getActiveElem(),V=b?W.trigger(b,lc,{relatedTarget:p}):null;W.trigger(p,Tk,{relatedTarget:b}).defaultPrevented||V&&V.defaultPrevented||(this._deactivate(b,p),this._activate(p,b))}_activate(p,b){p&&(p.classList.add(Ao),this._activate(le.getElementFromSelector(p)),this._queueCallback(()=>{p.getAttribute("role")==="tab"?(p.removeAttribute("tabindex"),p.setAttribute("aria-selected",!0),this._toggleDropDown(p,!0),W.trigger(p,Sk,{relatedTarget:b})):p.classList.add(Lp)},p,p.classList.contains(Yy)))}_deactivate(p,b){p&&(p.classList.remove(Ao),p.blur(),this._deactivate(le.getElementFromSelector(p)),this._queueCallback(()=>{p.getAttribute("role")==="tab"?(p.setAttribute("aria-selected",!1),p.setAttribute("tabindex","-1"),this._toggleDropDown(p,!1),W.trigger(p,Ek,{relatedTarget:b})):p.classList.remove(Lp)},p,p.classList.contains(Yy)))}_keydown(p){if(![kk,Gy,Ck,Ky,Dp,Qy].includes(p.key))return;p.stopPropagation(),p.preventDefault();const b=this._getChildren().filter(Q=>!_(Q));let V;if([Dp,Qy].includes(p.key))V=b[p.key===Dp?0:b.length-1];else{const Q=[Gy,Ky].includes(p.key);V=x(b,p.target,Q,!0)}V&&(V.focus({preventScroll:!0}),ko.getOrCreateInstance(V).show())}_getChildren(){return le.find(Vp,this._parent)}_getActiveElem(){return this._getChildren().find(p=>this._elemIsActive(p))||null}_setInitialAttributes(p,b){this._setAttributeIfNotExists(p,"role","tablist");for(const V of b)this._setInitialAttributesOnChild(V)}_setInitialAttributesOnChild(p){p=this._getInnerElement(p);const b=this._elemIsActive(p),V=this._getOuterElement(p);p.setAttribute("aria-selected",b),V!==p&&this._setAttributeIfNotExists(V,"role","presentation"),b||p.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(p,"role","tab"),this._setInitialAttributesOnTargetPanel(p)}_setInitialAttributesOnTargetPanel(p){const b=le.getElementFromSelector(p);b&&(this._setAttributeIfNotExists(b,"role","tabpanel"),p.id&&this._setAttributeIfNotExists(b,"aria-labelledby",`${p.id}`))}_toggleDropDown(p,b){const V=this._getOuterElement(p);if(!V.classList.contains("dropdown"))return;const Q=(ne,ue)=>{const Le=le.findOne(ne,V);Le&&Le.classList.toggle(ue,b)};Q(Jy,Ao),Q(".dropdown-menu",Lp),V.setAttribute("aria-expanded",b)}_setAttributeIfNotExists(p,b,V){p.hasAttribute(b)||p.setAttribute(b,V)}_elemIsActive(p){return p.classList.contains(Ao)}_getInnerElement(p){return p.matches(Vp)?p:le.findOne(Vp,p)}_getOuterElement(p){return p.closest(".nav-item, .list-group-item")||p}static jQueryInterface(p){return this.each(function(){const b=ko.getOrCreateInstance(this);if(typeof p=="string"){if(b[p]===void 0||p.startsWith("_")||p==="constructor")throw new TypeError(`No method named "${p}"`);b[p]()}})}}W.on(document,Ik,Xy,function($){["A","AREA"].includes(this.tagName)&&$.preventDefault(),_(this)||ko.getOrCreateInstance(this).show()}),W.on(window,Ak,()=>{for(const $ of le.find(Pk))ko.getOrCreateInstance($)}),O(ko);const xi=".bs.toast",Rk=`mouseover${xi}`,jk=`mouseout${xi}`,Ok=`focusin${xi}`,Nk=`focusout${xi}`,Dk=`hide${xi}`,Lk=`hidden${xi}`,Mk=`show${xi}`,Vk=`shown${xi}`,Zy="hide",kd="show",Cd="showing",Fk={animation:"boolean",autohide:"boolean",delay:"number"},$k={animation:!0,autohide:!0,delay:5e3};class cc extends Dt{constructor(p,b){super(p,b),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return $k}static get DefaultType(){return Fk}static get NAME(){return"toast"}show(){W.trigger(this._element,Mk).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Zy),C(this._element),this._element.classList.add(kd,Cd),this._queueCallback(()=>{this._element.classList.remove(Cd),W.trigger(this._element,Vk),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(W.trigger(this._element,Dk).defaultPrevented||(this._element.classList.add(Cd),this._queueCallback(()=>{this._element.classList.add(Zy),this._element.classList.remove(Cd,kd),W.trigger(this._element,Lk)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(kd),super.dispose()}isShown(){return this._element.classList.contains(kd)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(p,b){switch(p.type){case"mouseover":case"mouseout":this._hasMouseInteraction=b;break;case"focusin":case"focusout":this._hasKeyboardInteraction=b}if(b)return void this._clearTimeout();const V=p.relatedTarget;this._element===V||this._element.contains(V)||this._maybeScheduleHide()}_setListeners(){W.on(this._element,Rk,p=>this._onInteraction(p,!0)),W.on(this._element,jk,p=>this._onInteraction(p,!1)),W.on(this._element,Ok,p=>this._onInteraction(p,!0)),W.on(this._element,Nk,p=>this._onInteraction(p,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(p){return this.each(function(){const b=cc.getOrCreateInstance(this,p);if(typeof p=="string"){if(b[p]===void 0)throw new TypeError(`No method named "${p}"`);b[p](this)}})}}return rt(cc),O(cc),{Alert:Lt,Button:Pr,Carousel:ft,Collapse:Pe,Dropdown:Qn,Modal:Ge,Offcanvas:yr,Popover:v,ScrollSpy:Gt,Tab:ko,Toast:cc,Tooltip:Nn}})})(A$);const _4=()=>f.jsx("header",{className:"header text-center border-bottom py-3",children:f.jsx("h1",{className:"fw-bold",children:f.jsx(Me,{to:"/",className:"text-dark",children:"   "})})});function cE(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Dy(t={},e={}){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:cE(e[r])&&cE(t[r])&&Object.keys(e[r]).length>0&&Dy(t[r],e[r])})}const RA={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function xs(){const t=typeof document<"u"?document:{};return Dy(t,RA),t}const v4={document:RA,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Rn(){const t=typeof window<"u"?window:{};return Dy(t,v4),t}function y4(t=""){return t.trim().split(" ").filter(e=>!!e.trim())}function w4(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function jA(t,e=0){return setTimeout(t,e)}function Ef(){return Date.now()}function b4(t){const e=Rn();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function E4(t,e="x"){const n=Rn();let r,s,i;const o=b4(t);return n.WebKitCSSMatrix?(s=o.transform||o.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(l=>l.replace(",",".")).join(", ")),i=new n.WebKitCSSMatrix(s==="none"?"":s)):(i=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=i.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?s=i.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?s=i.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function eh(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function T4(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Zn(...t){const e=Object(t[0]),n=["__proto__","constructor","prototype"];for(let r=1;r<t.length;r+=1){const s=t[r];if(s!=null&&!T4(s)){const i=Object.keys(Object(s)).filter(o=>n.indexOf(o)<0);for(let o=0,l=i.length;o<l;o+=1){const a=i[o],c=Object.getOwnPropertyDescriptor(s,a);c!==void 0&&c.enumerable&&(eh(e[a])&&eh(s[a])?s[a].__swiper__?e[a]=s[a]:Zn(e[a],s[a]):!eh(e[a])&&eh(s[a])?(e[a]={},s[a].__swiper__?e[a]=s[a]:Zn(e[a],s[a])):e[a]=s[a])}}}return e}function ja(t,e,n){t.style.setProperty(e,n)}function OA({swiper:t,targetPosition:e,side:n}){const r=Rn(),s=-t.translate;let i=null,o;const l=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const a=e>s?"next":"prev",c=(h,g)=>a==="next"&&h>=g||a==="prev"&&h<=g,d=()=>{o=new Date().getTime(),i===null&&(i=o);const h=Math.max(Math.min((o-i)/l,1),0),g=.5-Math.cos(h*Math.PI)/2;let _=s+g*(e-s);if(c(_,e)&&(_=e),t.wrapperEl.scrollTo({[n]:_}),c(_,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:_})}),r.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=r.requestAnimationFrame(d)};d()}function Qs(t,e=""){const n=Rn(),r=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&r.push(...t.assignedElements()),e?r.filter(s=>s.matches(e)):r}function S4(t,e){const n=[e];for(;n.length>0;){const r=n.shift();if(t===r)return!0;n.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function I4(t,e){const n=Rn();let r=e.contains(t);return!r&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(t),r||(r=S4(t,e))),r}function Tf(t){try{console.warn(t);return}catch{}}function d_(t,e=[]){const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:y4(e)),n}function x4(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function A4(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function Hi(t,e){return Rn().getComputedStyle(t,null).getPropertyValue(e)}function uE(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function k4(t,e){const n=[];let r=t.parentElement;for(;r;)n.push(r),r=r.parentElement;return n}function dE(t,e,n){const r=Rn();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function hE(t,e=""){typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(e):t.innerHTML=e}let km;function C4(){const t=Rn(),e=xs();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function NA(){return km||(km=C4()),km}let Cm;function P4({userAgent:t}={}){const e=NA(),n=Rn(),r=n.navigator.platform,s=t||n.navigator.userAgent,i={ios:!1,android:!1},o=n.screen.width,l=n.screen.height,a=s.match(/(Android);?[\s\/]+([\d.]+)?/);let c=s.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const d=s.match(/(iPod)(.*OS\s([\d_]+))?/),h=!c&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),g=r==="Win32";let _=r==="MacIntel";const E=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!c&&_&&e.touch&&E.indexOf(`${o}x${l}`)>=0&&(c=s.match(/(Version)\/([\d.]+)/),c||(c=[0,1,"13_0_0"]),_=!1),a&&!g&&(i.os="android",i.android=!0),(c||h||d)&&(i.os="ios",i.ios=!0),i}function DA(t={}){return Cm||(Cm=P4(t)),Cm}let Pm;function R4(){const t=Rn(),e=DA();let n=!1;function r(){const l=t.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(r()){const l=String(t.navigator.userAgent);if(l.includes("Version/")){const[a,c]=l.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));n=a<16||a===16&&c<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),i=r(),o=i||s&&e.ios;return{isSafari:n||i,needPerspectiveFix:n,need3dFix:o,isWebView:s}}function LA(){return Pm||(Pm=R4()),Pm}function j4({swiper:t,on:e,emit:n}){const r=Rn();let s=null,i=null;const o=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},l=()=>{!t||t.destroyed||!t.initialized||(s=new ResizeObserver(d=>{i=r.requestAnimationFrame(()=>{const{width:h,height:g}=t;let _=h,E=g;d.forEach(({contentBoxSize:S,contentRect:C,target:I})=>{I&&I!==t.el||(_=C?C.width:(S[0]||S).inlineSize,E=C?C.height:(S[0]||S).blockSize)}),(_!==h||E!==g)&&o()})}),s.observe(t.el))},a=()=>{i&&r.cancelAnimationFrame(i),s&&s.unobserve&&t.el&&(s.unobserve(t.el),s=null)},c=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof r.ResizeObserver<"u"){l();return}r.addEventListener("resize",o),r.addEventListener("orientationchange",c)}),e("destroy",()=>{a(),r.removeEventListener("resize",o),r.removeEventListener("orientationchange",c)})}function O4({swiper:t,extendParams:e,on:n,emit:r}){const s=[],i=Rn(),o=(c,d={})=>{const h=i.MutationObserver||i.WebkitMutationObserver,g=new h(_=>{if(t.__preventObserver__)return;if(_.length===1){r("observerUpdate",_[0]);return}const E=function(){r("observerUpdate",_[0])};i.requestAnimationFrame?i.requestAnimationFrame(E):i.setTimeout(E,0)});g.observe(c,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:t.isElement||(typeof d.childList>"u"?!0:d).childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),s.push(g)},l=()=>{if(t.params.observer){if(t.params.observeParents){const c=k4(t.hostEl);for(let d=0;d<c.length;d+=1)o(c[d])}o(t.hostEl,{childList:t.params.observeSlideChildren}),o(t.wrapperEl,{attributes:!1})}},a=()=>{s.forEach(c=>{c.disconnect()}),s.splice(0,s.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",l),n("destroy",a)}var N4={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=n?"unshift":"push";return t.split(" ").forEach(i=>{r.eventsListeners[i]||(r.eventsListeners[i]=[]),r.eventsListeners[i][s](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(...i){r.off(t,s),s.__emitterProxy&&delete s.__emitterProxy,e.apply(r,i)}return s.__emitterProxy=e,r.on(t,s,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((s,i)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&n.eventsListeners[r].splice(i,1)})}),n},emit(...t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let n,r,s;return typeof t[0]=="string"||Array.isArray(t[0])?(n=t[0],r=t.slice(1,t.length),s=e):(n=t[0].events,r=t[0].data,s=t[0].context||e),r.unshift(s),(Array.isArray(n)?n:n.split(" ")).forEach(o=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(l=>{l.apply(s,[o,...r])}),e.eventsListeners&&e.eventsListeners[o]&&e.eventsListeners[o].forEach(l=>{l.apply(s,r)})}),e}};function D4(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Hi(r,"padding-left")||0,10)-parseInt(Hi(r,"padding-right")||0,10),n=n-parseInt(Hi(r,"padding-top")||0,10)-parseInt(Hi(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function L4(){const t=this;function e(A,j){return parseFloat(A.getPropertyValue(t.getDirectionLabel(j))||0)}const n=t.params,{wrapperEl:r,slidesEl:s,rtlTranslate:i,wrongRTL:o}=t,l=t.virtual&&n.virtual.enabled,a=l?t.virtual.slides.length:t.slides.length,c=Qs(s,`.${t.params.slideClass}, swiper-slide`),d=l?t.virtual.slides.length:c.length;let h=[];const g=[],_=[];let E=n.slidesOffsetBefore;typeof E=="function"&&(E=n.slidesOffsetBefore.call(t));let S=n.slidesOffsetAfter;typeof S=="function"&&(S=n.slidesOffsetAfter.call(t));const C=t.snapGrid.length,I=t.slidesGrid.length,w=t.size-E-S;let T=n.spaceBetween,O=-E,M=0,R=0;if(typeof w>"u")return;typeof T=="string"&&T.indexOf("%")>=0?T=parseFloat(T.replace("%",""))/100*w:typeof T=="string"&&(T=parseFloat(T)),t.virtualSize=-T-E-S,c.forEach(A=>{i?A.style.marginLeft="":A.style.marginRight="",A.style.marginBottom="",A.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(ja(r,"--swiper-centered-offset-before",""),ja(r,"--swiper-centered-offset-after","")),n.cssMode&&(ja(r,"--swiper-slides-offset-before",`${E}px`),ja(r,"--swiper-slides-offset-after",`${S}px`));const x=n.grid&&n.grid.rows>1&&t.grid;x?t.grid.initSlides(c):t.grid&&t.grid.unsetSlides();let y;const k=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(A=>typeof n.breakpoints[A].slidesPerView<"u").length>0;for(let A=0;A<d;A+=1){y=0;const j=c[A];if(!(j&&(x&&t.grid.updateSlide(A,j,c),Hi(j,"display")==="none"))){if(l&&n.slidesPerView==="auto")n.virtual.slidesPerViewAutoSlideSize&&(y=n.virtual.slidesPerViewAutoSlideSize),y&&j&&(n.roundLengths&&(y=Math.floor(y)),j.style[t.getDirectionLabel("width")]=`${y}px`);else if(n.slidesPerView==="auto"){k&&(j.style[t.getDirectionLabel("width")]="");const D=getComputedStyle(j),N=j.style.transform,ie=j.style.webkitTransform;if(N&&(j.style.transform="none"),ie&&(j.style.webkitTransform="none"),n.roundLengths)y=t.isHorizontal()?dE(j,"width"):dE(j,"height");else{const _e=e(D,"width"),ke=e(D,"padding-left"),ee=e(D,"padding-right"),z=e(D,"margin-left"),Y=e(D,"margin-right"),se=D.getPropertyValue("box-sizing");if(se&&se==="border-box")y=_e+z+Y;else{const{clientWidth:ve,offsetWidth:Te}=j;y=_e+ke+ee+z+Y+(Te-ve)}}N&&(j.style.transform=N),ie&&(j.style.webkitTransform=ie),n.roundLengths&&(y=Math.floor(y))}else y=(w-(n.slidesPerView-1)*T)/n.slidesPerView,n.roundLengths&&(y=Math.floor(y)),j&&(j.style[t.getDirectionLabel("width")]=`${y}px`);j&&(j.swiperSlideSize=y),_.push(y),n.centeredSlides?(O=O+y/2+M/2+T,M===0&&A!==0&&(O=O-w/2-T),A===0&&(O=O-w/2-T),Math.abs(O)<1/1e3&&(O=0),n.roundLengths&&(O=Math.floor(O)),R%n.slidesPerGroup===0&&h.push(O),g.push(O)):(n.roundLengths&&(O=Math.floor(O)),(R-Math.min(t.params.slidesPerGroupSkip,R))%t.params.slidesPerGroup===0&&h.push(O),g.push(O),O=O+y+T),t.virtualSize+=y+T,M=y,R+=1}}if(t.virtualSize=Math.max(t.virtualSize,w)+S,i&&o&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+T}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+T}px`),x&&t.grid.updateWrapperSize(y,h),!n.centeredSlides){const A=n.slidesPerView!=="auto"&&n.slidesPerView%1!==0,j=n.snapToSlideEdge&&!n.loop&&(n.slidesPerView==="auto"||A);let D=h.length;if(j){let ie;if(n.slidesPerView==="auto"){ie=1;let _e=0;for(let ke=_.length-1;ke>=0&&(_e+=_[ke]+(ke<_.length-1?T:0),_e<=w);ke-=1)ie=_.length-ke}else ie=Math.floor(n.slidesPerView);D=Math.max(d-ie,0)}const N=[];for(let ie=0;ie<h.length;ie+=1){let _e=h[ie];n.roundLengths&&(_e=Math.floor(_e)),j?ie<=D&&N.push(_e):h[ie]<=t.virtualSize-w&&N.push(_e)}h=N,Math.floor(t.virtualSize-w)-Math.floor(h[h.length-1])>1&&(j||h.push(t.virtualSize-w))}if(l&&n.loop){const A=_[0]+T;if(n.slidesPerGroup>1){const j=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),D=A*n.slidesPerGroup;for(let N=0;N<j;N+=1)h.push(h[h.length-1]+D)}for(let j=0;j<t.virtual.slidesBefore+t.virtual.slidesAfter;j+=1)n.slidesPerGroup===1&&h.push(h[h.length-1]+A),g.push(g[g.length-1]+A),t.virtualSize+=A}if(h.length===0&&(h=[0]),T!==0){const A=t.isHorizontal()&&i?"marginLeft":t.getDirectionLabel("marginRight");c.filter((j,D)=>!n.cssMode||n.loop?!0:D!==c.length-1).forEach(j=>{j.style[A]=`${T}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let A=0;_.forEach(D=>{A+=D+(T||0)}),A-=T;const j=A>w?A-w:0;h=h.map(D=>D<=0?-E:D>j?j+S:D)}if(n.centerInsufficientSlides){let A=0;_.forEach(D=>{A+=D+(T||0)}),A-=T;const j=(E||0)+(S||0);if(A+j<w){const D=(w-A-j)/2;h.forEach((N,ie)=>{h[ie]=N-D}),g.forEach((N,ie)=>{g[ie]=N+D})}}if(Object.assign(t,{slides:c,snapGrid:h,slidesGrid:g,slidesSizesGrid:_}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){ja(r,"--swiper-centered-offset-before",`${-h[0]}px`),ja(r,"--swiper-centered-offset-after",`${t.size/2-_[_.length-1]/2}px`);const A=-t.snapGrid[0],j=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(D=>D+A),t.slidesGrid=t.slidesGrid.map(D=>D+j)}if(d!==a&&t.emit("slidesLengthChange"),h.length!==C&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),g.length!==I&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const A=`${n.containerModifierClass}backface-hidden`,j=t.el.classList.contains(A);d<=n.maxBackfaceHiddenSlides?j||t.el.classList.add(A):j&&t.el.classList.remove(A)}}function M4(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let s=0,i;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=l=>r?e.slides[e.getSlideIndexByData(l)]:e.slides[l];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(l=>{n.push(l)});else for(i=0;i<Math.ceil(e.params.slidesPerView);i+=1){const l=e.activeIndex+i;if(l>e.slides.length&&!r)break;n.push(o(l))}else n.push(o(e.activeIndex));for(i=0;i<n.length;i+=1)if(typeof n[i]<"u"){const l=n[i].offsetHeight;s=l>s?l:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function V4(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}const fE=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function F4(t=this&&this.translate||0){const e=this,n=e.params,{slides:r,rtlTranslate:s,snapGrid:i}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;s&&(o=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let l=n.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*e.size:typeof l=="string"&&(l=parseFloat(l));for(let a=0;a<r.length;a+=1){const c=r[a];let d=c.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(d-=r[0].swiperSlideOffset);const h=(o+(n.centeredSlides?e.minTranslate():0)-d)/(c.swiperSlideSize+l),g=(o-i[0]+(n.centeredSlides?e.minTranslate():0)-d)/(c.swiperSlideSize+l),_=-(o-d),E=_+e.slidesSizesGrid[a],S=_>=0&&_<=e.size-e.slidesSizesGrid[a],C=_>=0&&_<e.size-1||E>1&&E<=e.size||_<=0&&E>=e.size;C&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(a)),fE(c,C,n.slideVisibleClass),fE(c,S,n.slideFullyVisibleClass),c.progress=s?-h:h,c.originalProgress=s?-g:g}}function $4(t){const e=this;if(typeof t>"u"){const d=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*d||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:i,isEnd:o,progressLoop:l}=e;const a=i,c=o;if(r===0)s=0,i=!0,o=!0;else{s=(t-e.minTranslate())/r;const d=Math.abs(t-e.minTranslate())<1,h=Math.abs(t-e.maxTranslate())<1;i=d||s<=0,o=h||s>=1,d&&(s=0),h&&(s=1)}if(n.loop){const d=e.getSlideIndexByData(0),h=e.getSlideIndexByData(e.slides.length-1),g=e.slidesGrid[d],_=e.slidesGrid[h],E=e.slidesGrid[e.slidesGrid.length-1],S=Math.abs(t);S>=g?l=(S-g)/E:l=(S+E-_)/E,l>1&&(l-=1)}Object.assign(e,{progress:s,progressLoop:l,isBeginning:i,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),i&&!a&&e.emit("reachBeginning toEdge"),o&&!c&&e.emit("reachEnd toEdge"),(a&&!i||c&&!o)&&e.emit("fromEdge"),e.emit("progress",s)}const Rm=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function U4(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:s}=t,i=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,l=h=>Qs(r,`.${n.slideClass}${h}, swiper-slide${h}`)[0];let a,c,d;if(i)if(n.loop){let h=s-t.virtual.slidesBefore;h<0&&(h=t.virtual.slides.length+h),h>=t.virtual.slides.length&&(h-=t.virtual.slides.length),a=l(`[data-swiper-slide-index="${h}"]`)}else a=l(`[data-swiper-slide-index="${s}"]`);else o?(a=e.find(h=>h.column===s),d=e.find(h=>h.column===s+1),c=e.find(h=>h.column===s-1)):a=e[s];a&&(o||(d=A4(a,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d&&(d=e[0]),c=x4(a,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!c===0&&(c=e[e.length-1]))),e.forEach(h=>{Rm(h,h===a,n.slideActiveClass),Rm(h,h===d,n.slideNextClass),Rm(h,h===c,n.slidePrevClass)}),t.emitSlidesClasses()}const Ph=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let s=r.querySelector(`.${t.params.lazyPreloaderClass}`);!s&&t.isElement&&(r.shadowRoot?s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),s&&!s.lazyPreloaderManaged&&s.remove())})),s&&!s.lazyPreloaderManaged&&s.remove()}},jm=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},h_=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),s=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=s,l=[o-e];l.push(...Array.from({length:e}).map((a,c)=>o+r+c)),t.slides.forEach((a,c)=>{l.includes(a.column)&&jm(t,c)});return}const i=s+r-1;if(t.params.rewind||t.params.loop)for(let o=s-e;o<=i+e;o+=1){const l=(o%n+n)%n;(l<s||l>i)&&jm(t,l)}else for(let o=Math.max(s-e,0);o<=Math.min(i+e,n-1);o+=1)o!==s&&(o>i||o<s)&&jm(t,o)};function B4(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let s;for(let i=0;i<e.length;i+=1)typeof e[i+1]<"u"?r>=e[i]&&r<e[i+1]-(e[i+1]-e[i])/2?s=i:r>=e[i]&&r<e[i+1]&&(s=i+1):r>=e[i]&&(s=i);return n.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function z4(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:s,activeIndex:i,realIndex:o,snapIndex:l}=e;let a=t,c;const d=_=>{let E=_-e.virtual.slidesBefore;return E<0&&(E=e.virtual.slides.length+E),E>=e.virtual.slides.length&&(E-=e.virtual.slides.length),E};if(typeof a>"u"&&(a=B4(e)),r.indexOf(n)>=0)c=r.indexOf(n);else{const _=Math.min(s.slidesPerGroupSkip,a);c=_+Math.floor((a-_)/s.slidesPerGroup)}if(c>=r.length&&(c=r.length-1),a===i&&!e.params.loop){c!==l&&(e.snapIndex=c,e.emit("snapIndexChange"));return}if(a===i&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=d(a);return}const h=e.grid&&s.grid&&s.grid.rows>1;let g;if(e.virtual&&s.virtual.enabled)s.loop?g=d(a):g=a;else if(h){const _=e.slides.find(S=>S.column===a);let E=parseInt(_.getAttribute("data-swiper-slide-index"),10);Number.isNaN(E)&&(E=Math.max(e.slides.indexOf(_),0)),g=Math.floor(E/s.grid.rows)}else if(e.slides[a]){const _=e.slides[a].getAttribute("data-swiper-slide-index");_?g=parseInt(_,10):g=a}else g=a;Object.assign(e,{previousSnapIndex:l,snapIndex:c,previousRealIndex:o,realIndex:g,previousIndex:i,activeIndex:a}),e.initialized&&h_(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==g&&e.emit("realIndexChange"),e.emit("slideChange"))}function q4(t,e){const n=this,r=n.params;let s=t.closest(`.${r.slideClass}, swiper-slide`);!s&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(l=>{!s&&l.matches&&l.matches(`.${r.slideClass}, swiper-slide`)&&(s=l)});let i=!1,o;if(s){for(let l=0;l<n.slides.length;l+=1)if(n.slides[l]===s){i=!0,o=l;break}}if(s&&i)n.clickedSlide=s,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var H4={updateSize:D4,updateSlides:L4,updateAutoHeight:M4,updateSlidesOffset:V4,updateSlidesProgress:F4,updateProgress:$4,updateSlidesClasses:U4,updateActiveIndex:z4,updateClickedSlide:q4};function W4(t=this.isHorizontal()?"x":"y"){const e=this,{params:n,rtlTranslate:r,translate:s,wrapperEl:i}=e;if(n.virtualTranslate)return r?-s:s;if(n.cssMode)return s;let o=E4(i,t);return o+=e.cssOverflowAdjustment(),r&&(o=-o),o||0}function G4(t,e){const n=this,{rtlTranslate:r,params:s,wrapperEl:i,progress:o}=n;let l=0,a=0;const c=0;n.isHorizontal()?l=r?-t:t:a=t,s.roundLengths&&(l=Math.floor(l),a=Math.floor(a)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:a,s.cssMode?i[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-a:s.virtualTranslate||(n.isHorizontal()?l-=n.cssOverflowAdjustment():a-=n.cssOverflowAdjustment(),i.style.transform=`translate3d(${l}px, ${a}px, ${c}px)`);let d;const h=n.maxTranslate()-n.minTranslate();h===0?d=0:d=(t-n.minTranslate())/h,d!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function K4(){return-this.snapGrid[0]}function Q4(){return-this.snapGrid[this.snapGrid.length-1]}function Y4(t=0,e=this.params.speed,n=!0,r=!0,s){const i=this,{params:o,wrapperEl:l}=i;if(i.animating&&o.preventInteractionOnTransition)return!1;const a=i.minTranslate(),c=i.maxTranslate();let d;if(r&&t>a?d=a:r&&t<c?d=c:d=t,i.updateProgress(d),o.cssMode){const h=i.isHorizontal();if(e===0)l[h?"scrollLeft":"scrollTop"]=-d;else{if(!i.support.smoothScroll)return OA({swiper:i,targetPosition:-d,side:h?"left":"top"}),!0;l.scrollTo({[h?"left":"top"]:-d,behavior:"smooth"})}return!0}return e===0?(i.setTransition(0),i.setTranslate(d),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionEnd"))):(i.setTransition(e),i.setTranslate(d),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(g){!i||i.destroyed||g.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,i.animating=!1,n&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}var J4={getTranslate:W4,setTranslate:G4,minTranslate:K4,maxTranslate:Q4,translateTo:Y4};function X4(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function MA({swiper:t,runCallbacks:e,direction:n,step:r}){const{activeIndex:s,previousIndex:i}=t;let o=n;o||(s>i?o="next":s<i?o="prev":o="reset"),t.emit(`transition${r}`),e&&o==="reset"?t.emit(`slideResetTransition${r}`):e&&s!==i&&(t.emit(`slideChangeTransition${r}`),o==="next"?t.emit(`slideNextTransition${r}`):t.emit(`slidePrevTransition${r}`))}function Z4(t=!0,e){const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),MA({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function eU(t=!0,e){const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),MA({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var tU={setTransition:X4,transitionStart:Z4,transitionEnd:eU};function nU(t=0,e,n=!0,r,s){typeof t=="string"&&(t=parseInt(t,10));const i=this;let o=t;o<0&&(o=0);const{params:l,snapGrid:a,slidesGrid:c,previousIndex:d,activeIndex:h,rtlTranslate:g,wrapperEl:_,enabled:E}=i;if(!E&&!r&&!s||i.destroyed||i.animating&&l.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=i.params.speed);const S=Math.min(i.params.slidesPerGroupSkip,o);let C=S+Math.floor((o-S)/i.params.slidesPerGroup);C>=a.length&&(C=a.length-1);const I=-a[C];if(l.normalizeSlideIndex)for(let x=0;x<c.length;x+=1){const y=-Math.floor(I*100),k=Math.floor(c[x]*100),A=Math.floor(c[x+1]*100);typeof c[x+1]<"u"?y>=k&&y<A-(A-k)/2?o=x:y>=k&&y<A&&(o=x+1):y>=k&&(o=x)}if(i.initialized&&o!==h&&(!i.allowSlideNext&&(g?I>i.translate&&I>i.minTranslate():I<i.translate&&I<i.minTranslate())||!i.allowSlidePrev&&I>i.translate&&I>i.maxTranslate()&&(h||0)!==o))return!1;o!==(d||0)&&n&&i.emit("beforeSlideChangeStart"),i.updateProgress(I);let w;o>h?w="next":o<h?w="prev":w="reset";const T=i.virtual&&i.params.virtual.enabled;if(!(T&&s)&&(g&&-I===i.translate||!g&&I===i.translate))return i.updateActiveIndex(o),l.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),l.effect!=="slide"&&i.setTranslate(I),w!=="reset"&&(i.transitionStart(n,w),i.transitionEnd(n,w)),!1;if(l.cssMode){const x=i.isHorizontal(),y=g?I:-I;if(e===0)T&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),T&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{_[x?"scrollLeft":"scrollTop"]=y})):_[x?"scrollLeft":"scrollTop"]=y,T&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1});else{if(!i.support.smoothScroll)return OA({swiper:i,targetPosition:y,side:x?"left":"top"}),!0;_.scrollTo({[x?"left":"top"]:y,behavior:"smooth"})}return!0}const R=LA().isSafari;return T&&!s&&R&&i.isElement&&i.virtual.update(!1,!1,o),i.setTransition(e),i.setTranslate(I),i.updateActiveIndex(o),i.updateSlidesClasses(),i.emit("beforeTransitionStart",e,r),i.transitionStart(n,w),e===0?i.transitionEnd(n,w):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(y){!i||i.destroyed||y.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,w))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0}function rU(t=0,e,n=!0,r){typeof t=="string"&&(t=parseInt(t,10));const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);const i=s.grid&&s.params.grid&&s.params.grid.rows>1;let o=t;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)o=o+s.virtual.slidesBefore;else{let l;if(i){const S=o*s.params.grid.rows;l=s.slides.find(C=>C.getAttribute("data-swiper-slide-index")*1===S).column}else l=s.getSlideIndexByData(o);const a=i?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:c,slidesOffsetBefore:d,slidesOffsetAfter:h}=s.params,g=c||!!d||!!h;let _=s.params.slidesPerView;_==="auto"?_=s.slidesPerViewDynamic():(_=Math.ceil(parseFloat(s.params.slidesPerView,10)),g&&_%2===0&&(_=_+1));let E=a-l<_;if(g&&(E=E||l<Math.ceil(_/2)),r&&g&&s.params.slidesPerView!=="auto"&&!i&&(E=!1),E){const S=g?l<s.activeIndex?"prev":"next":l-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:S,slideTo:!0,activeSlideIndex:S==="next"?l+1:l-a+1,slideRealIndex:S==="next"?s.realIndex:void 0})}if(i){const S=o*s.params.grid.rows;o=s.slides.find(C=>C.getAttribute("data-swiper-slide-index")*1===S).column}else o=s.getSlideIndexByData(o)}return requestAnimationFrame(()=>{s.slideTo(o,e,n,r)}),s}function sU(t,e=!0,n){const r=this,{enabled:s,params:i,animating:o}=r;if(!s||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);let l=i.slidesPerGroup;i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(l=Math.max(r.slidesPerViewDynamic("current",!0),1));const a=r.activeIndex<i.slidesPerGroupSkip?1:l,c=r.virtual&&i.virtual.enabled;if(i.loop){if(o&&!c&&i.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+a,t,e,n)}),!0}return i.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+a,t,e,n)}function iU(t,e=!0,n){const r=this,{params:s,snapGrid:i,slidesGrid:o,rtlTranslate:l,enabled:a,animating:c}=r;if(!a||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);const d=r.virtual&&s.virtual.enabled;if(s.loop){if(c&&!d&&s.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const h=l?r.translate:-r.translate;function g(w){return w<0?-Math.floor(Math.abs(w)):Math.floor(w)}const _=g(h),E=i.map(w=>g(w)),S=s.freeMode&&s.freeMode.enabled;let C=i[E.indexOf(_)-1];if(typeof C>"u"&&(s.cssMode||S)){let w;i.forEach((T,O)=>{_>=T&&(w=O)}),typeof w<"u"&&(C=S?i[w]:i[w>0?w-1:w])}let I=0;if(typeof C<"u"&&(I=o.indexOf(C),I<0&&(I=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(I=I-r.slidesPerViewDynamic("previous",!0)+1,I=Math.max(I,0))),s.rewind&&r.isBeginning){const w=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(w,t,e,n)}else if(s.loop&&r.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(I,t,e,n)}),!0;return r.slideTo(I,t,e,n)}function oU(t,e=!0,n){const r=this;if(!r.destroyed)return typeof t>"u"&&(t=r.params.speed),r.slideTo(r.activeIndex,t,e,n)}function aU(t,e=!0,n,r=.5){const s=this;if(s.destroyed)return;typeof t>"u"&&(t=s.params.speed);let i=s.activeIndex;const o=Math.min(s.params.slidesPerGroupSkip,i),l=o+Math.floor((i-o)/s.params.slidesPerGroup),a=s.rtlTranslate?s.translate:-s.translate;if(a>=s.snapGrid[l]){const c=s.snapGrid[l],d=s.snapGrid[l+1];a-c>(d-c)*r&&(i+=s.params.slidesPerGroup)}else{const c=s.snapGrid[l-1],d=s.snapGrid[l];a-c<=(d-c)*r&&(i-=s.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,s.slidesGrid.length-1),s.slideTo(i,t,e,n)}function lU(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let s=t.getSlideIndexWhenGrid(t.clickedIndex),i;const o=t.isElement?"swiper-slide":`.${e.slideClass}`,l=t.grid&&t.params.grid&&t.params.grid.rows>1;if(e.loop){if(t.animating)return;i=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?t.slideToLoop(i):s>(l?(t.slides.length-r)/2-(t.params.grid.rows-1):t.slides.length-r)?(t.loopFix(),s=t.getSlideIndex(Qs(n,`${o}[data-swiper-slide-index="${i}"]`)[0]),jA(()=>{t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}var cU={slideTo:nU,slideToLoop:rU,slideNext:sU,slidePrev:iU,slideReset:oU,slideToClosest:aU,slideToClickedSlide:lU};function uU(t,e){const n=this,{params:r,slidesEl:s}=n;if(!r.loop||n.virtual&&n.params.virtual.enabled)return;const i=()=>{Qs(s,`.${r.slideClass}, swiper-slide`).forEach((E,S)=>{E.setAttribute("data-swiper-slide-index",S)})},o=()=>{const _=Qs(s,`.${r.slideBlankClass}`);_.forEach(E=>{E.remove()}),_.length>0&&(n.recalcSlides(),n.updateSlides())},l=n.grid&&r.grid&&r.grid.rows>1;r.loopAddBlankSlides&&(r.slidesPerGroup>1||l)&&o();const a=r.slidesPerGroup*(l?r.grid.rows:1),c=n.slides.length%a!==0,d=l&&n.slides.length%r.grid.rows!==0,h=_=>{for(let E=0;E<_;E+=1){const S=n.isElement?d_("swiper-slide",[r.slideBlankClass]):d_("div",[r.slideClass,r.slideBlankClass]);n.slidesEl.append(S)}};if(c){if(r.loopAddBlankSlides){const _=a-n.slides.length%a;h(_),n.recalcSlides(),n.updateSlides()}else Tf("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(d){if(r.loopAddBlankSlides){const _=r.grid.rows-n.slides.length%r.grid.rows;h(_),n.recalcSlides(),n.updateSlides()}else Tf("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();const g=r.centeredSlides||!!r.slidesOffsetBefore||!!r.slidesOffsetAfter;n.loopFix({slideRealIndex:t,direction:g?void 0:"next",initial:e})}function dU({slideRealIndex:t,slideTo:e=!0,direction:n,setTranslate:r,activeSlideIndex:s,initial:i,byController:o,byMousewheel:l}={}){const a=this;if(!a.params.loop)return;a.emit("beforeLoopFix");const{slides:c,allowSlidePrev:d,allowSlideNext:h,slidesEl:g,params:_}=a,{centeredSlides:E,slidesOffsetBefore:S,slidesOffsetAfter:C,initialSlide:I}=_,w=E||!!S||!!C;if(a.allowSlidePrev=!0,a.allowSlideNext=!0,a.virtual&&_.virtual.enabled){e&&(!w&&a.snapIndex===0?a.slideTo(a.virtual.slides.length,0,!1,!0):w&&a.snapIndex<_.slidesPerView?a.slideTo(a.virtual.slides.length+a.snapIndex,0,!1,!0):a.snapIndex===a.snapGrid.length-1&&a.slideTo(a.virtual.slidesBefore,0,!1,!0)),a.allowSlidePrev=d,a.allowSlideNext=h,a.emit("loopFix");return}let T=_.slidesPerView;T==="auto"?T=a.slidesPerViewDynamic():(T=Math.ceil(parseFloat(_.slidesPerView,10)),w&&T%2===0&&(T=T+1));const O=_.slidesPerGroupAuto?T:_.slidesPerGroup;let M=w?Math.max(O,Math.ceil(T/2)):O;M%O!==0&&(M+=O-M%O),M+=_.loopAdditionalSlides,a.loopedSlides=M;const R=a.grid&&_.grid&&_.grid.rows>1;c.length<T+M||a.params.effect==="cards"&&c.length<T+M*2?Tf("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):R&&_.grid.fill==="row"&&Tf("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const x=[],y=[],k=R?Math.ceil(c.length/_.grid.rows):c.length,A=i&&k-I<T&&!w;let j=A?I:a.activeIndex;typeof s>"u"?s=a.getSlideIndex(c.find(z=>z.classList.contains(_.slideActiveClass))):j=s;const D=n==="next"||!n,N=n==="prev"||!n;let ie=0,_e=0;const ee=(R?c[s].column:s)+(w&&typeof r>"u"?-T/2+.5:0);if(ee<M){ie=Math.max(M-ee,O);for(let z=0;z<M-ee;z+=1){const Y=z-Math.floor(z/k)*k;if(R){const se=k-Y-1;for(let ve=c.length-1;ve>=0;ve-=1)c[ve].column===se&&x.push(ve)}else x.push(k-Y-1)}}else if(ee+T>k-M){_e=Math.max(ee-(k-M*2),O),A&&(_e=Math.max(_e,T-k+I+1));for(let z=0;z<_e;z+=1){const Y=z-Math.floor(z/k)*k;R?c.forEach((se,ve)=>{se.column===Y&&y.push(ve)}):y.push(Y)}}if(a.__preventObserver__=!0,requestAnimationFrame(()=>{a.__preventObserver__=!1}),a.params.effect==="cards"&&c.length<T+M*2&&(y.includes(s)&&y.splice(y.indexOf(s),1),x.includes(s)&&x.splice(x.indexOf(s),1)),N&&x.forEach(z=>{c[z].swiperLoopMoveDOM=!0,g.prepend(c[z]),c[z].swiperLoopMoveDOM=!1}),D&&y.forEach(z=>{c[z].swiperLoopMoveDOM=!0,g.append(c[z]),c[z].swiperLoopMoveDOM=!1}),a.recalcSlides(),_.slidesPerView==="auto"?a.updateSlides():R&&(x.length>0&&N||y.length>0&&D)&&a.slides.forEach((z,Y)=>{a.grid.updateSlide(Y,z,a.slides)}),_.watchSlidesProgress&&a.updateSlidesOffset(),e){if(x.length>0&&N){if(typeof t>"u"){const z=a.slidesGrid[j],se=a.slidesGrid[j+ie]-z;l?a.setTranslate(a.translate-se):(a.slideTo(j+Math.ceil(ie),0,!1,!0),r&&(a.touchEventsData.startTranslate=a.touchEventsData.startTranslate-se,a.touchEventsData.currentTranslate=a.touchEventsData.currentTranslate-se))}else if(r){const z=R?x.length/_.grid.rows:x.length;a.slideTo(a.activeIndex+z,0,!1,!0),a.touchEventsData.currentTranslate=a.translate}}else if(y.length>0&&D)if(typeof t>"u"){const z=a.slidesGrid[j],se=a.slidesGrid[j-_e]-z;l?a.setTranslate(a.translate-se):(a.slideTo(j-_e,0,!1,!0),r&&(a.touchEventsData.startTranslate=a.touchEventsData.startTranslate-se,a.touchEventsData.currentTranslate=a.touchEventsData.currentTranslate-se))}else{const z=R?y.length/_.grid.rows:y.length;a.slideTo(a.activeIndex-z,0,!1,!0)}}if(a.allowSlidePrev=d,a.allowSlideNext=h,a.controller&&a.controller.control&&!o){const z={slideRealIndex:t,direction:n,setTranslate:r,activeSlideIndex:s,byController:!0};Array.isArray(a.controller.control)?a.controller.control.forEach(Y=>{!Y.destroyed&&Y.params.loop&&Y.loopFix({...z,slideTo:Y.params.slidesPerView===_.slidesPerView?e:!1})}):a.controller.control instanceof a.constructor&&a.controller.control.params.loop&&a.controller.control.loopFix({...z,slideTo:a.controller.control.params.slidesPerView===_.slidesPerView?e:!1})}a.emit("loopFix")}function hU(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(s=>{const i=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;r[i]=s}),t.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),r.forEach(s=>{n.append(s)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var fU={loopCreate:uU,loopFix:dU,loopDestroy:hU};function pU(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function mU(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var gU={setGrabCursor:pU,unsetGrabCursor:mU};function _U(t,e=this){function n(r){if(!r||r===xs()||r===Rn())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(t);return!s&&!r.getRootNode?null:s||n(r.getRootNode().host)}return n(e)}function pE(t,e,n){const r=Rn(),{params:s}=t,i=s.edgeSwipeDetection,o=s.edgeSwipeThreshold;return i&&(n<=o||n>=r.innerWidth-o)?i==="prevent"?(e.preventDefault(),!0):!1:!0}function vU(t){const e=this,n=xs();let r=t;r.originalEvent&&(r=r.originalEvent);const s=e.touchEventsData;if(r.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==r.pointerId)return;s.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(s.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){pE(e,r,r.targetTouches[0].pageX);return}const{params:i,touches:o,enabled:l}=e;if(!l||!i.simulateTouch&&r.pointerType==="mouse"||e.animating&&i.preventInteractionOnTransition)return;!e.animating&&i.cssMode&&i.loop&&e.loopFix();let a=r.target;if(i.touchEventsTarget==="wrapper"&&!I4(a,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||s.isTouched&&s.isMoved)return;const c=!!i.noSwipingClass&&i.noSwipingClass!=="",d=r.composedPath?r.composedPath():r.path;c&&r.target&&r.target.shadowRoot&&d&&(a=d[0]);const h=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,g=!!(r.target&&r.target.shadowRoot);if(i.noSwiping&&(g?_U(h,a):a.closest(h))){e.allowClick=!0;return}if(i.swipeHandler&&!a.closest(i.swipeHandler))return;o.currentX=r.pageX,o.currentY=r.pageY;const _=o.currentX,E=o.currentY;if(!pE(e,r,_))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=_,o.startY=E,s.touchStartTime=Ef(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,i.threshold>0&&(s.allowThresholdMove=!1);let S=!0;a.matches(s.focusableElements)&&(S=!1,a.nodeName==="SELECT"&&(s.isTouched=!1)),n.activeElement&&n.activeElement.matches(s.focusableElements)&&n.activeElement!==a&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!a.matches(s.focusableElements))&&n.activeElement.blur();const C=S&&e.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||C)&&!a.isContentEditable&&r.preventDefault(),i.freeMode&&i.freeMode.enabled&&e.freeMode&&e.animating&&!i.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function yU(t){const e=xs(),n=this,r=n.touchEventsData,{params:s,touches:i,rtlTranslate:o,enabled:l}=n;if(!l||!s.simulateTouch&&t.pointerType==="mouse")return;let a=t;if(a.originalEvent&&(a=a.originalEvent),a.type==="pointermove"&&(r.touchId!==null||a.pointerId!==r.pointerId))return;let c;if(a.type==="touchmove"){if(c=[...a.changedTouches].find(R=>R.identifier===r.touchId),!c||c.identifier!==r.touchId)return}else c=a;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",a);return}const d=c.pageX,h=c.pageY;if(a.preventedByNestedSwiper){i.startX=d,i.startY=h;return}if(!n.allowTouchMove){a.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(i,{startX:d,startY:h,currentX:d,currentY:h}),r.touchStartTime=Ef());return}if(s.touchReleaseOnEdges&&!s.loop)if(n.isVertical()){if(h<i.startY&&n.translate<=n.maxTranslate()||h>i.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(o&&(d>i.startX&&-n.translate<=n.maxTranslate()||d<i.startX&&-n.translate>=n.minTranslate()))return;if(!o&&(d<i.startX&&n.translate<=n.maxTranslate()||d>i.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==a.target&&a.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&a.target===e.activeElement&&a.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",a),i.previousX=i.currentX,i.previousY=i.currentY,i.currentX=d,i.currentY=h;const g=i.currentX-i.startX,_=i.currentY-i.startY;if(n.params.threshold&&Math.sqrt(g**2+_**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let R;n.isHorizontal()&&i.currentY===i.startY||n.isVertical()&&i.currentX===i.startX?r.isScrolling=!1:g*g+_*_>=25&&(R=Math.atan2(Math.abs(_),Math.abs(g))*180/Math.PI,r.isScrolling=n.isHorizontal()?R>s.touchAngle:90-R>s.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",a),typeof r.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(r.startMoving=!0),r.isScrolling||a.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!s.cssMode&&a.cancelable&&a.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&a.stopPropagation();let E=n.isHorizontal()?g:_,S=n.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;s.oneWayMovement&&(E=Math.abs(E)*(o?1:-1),S=Math.abs(S)*(o?1:-1)),i.diff=E,E*=s.touchRatio,o&&(E=-E,S=-S);const C=n.touchesDirection;n.swipeDirection=E>0?"prev":"next",n.touchesDirection=S>0?"prev":"next";const I=n.params.loop&&!s.cssMode,w=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(I&&w&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const R=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(R)}r.allowMomentumBounce=!1,s.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",a)}let T;if(new Date().getTime(),s._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&C!==n.touchesDirection&&I&&w&&Math.abs(E)>=1){Object.assign(i,{startX:d,startY:h,currentX:d,currentY:h,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",a),r.isMoved=!0,r.currentTranslate=E+r.startTranslate;let O=!0,M=s.resistanceRatio;if(s.touchReleaseOnEdges&&(M=0),E>0?(I&&w&&!T&&r.allowThresholdMove&&r.currentTranslate>(s.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(s.slidesPerView!=="auto"&&n.slides.length-s.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(O=!1,s.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+E)**M))):E<0&&(I&&w&&!T&&r.allowThresholdMove&&r.currentTranslate<(s.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(s.slidesPerView!=="auto"&&n.slides.length-s.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(s.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(O=!1,s.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-E)**M))),O&&(a.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(E)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,r.currentTranslate=r.startTranslate,i.diff=n.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&n.freeMode||s.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function wU(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let s;if(r.type==="touchend"||r.type==="touchcancel"){if(s=[...r.changedTouches].find(M=>M.identifier===n.touchId),!s||s.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;s=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:l,rtlTranslate:a,slidesGrid:c,enabled:d}=e;if(!d||!o.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const h=Ef(),g=h-n.touchStartTime;if(e.allowClick){const M=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(M&&M[0]||r.target,M),e.emit("tap click",r),g<300&&h-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=Ef(),jA(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||l.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let _;if(o.followFinger?_=a?e.translate:-e.translate:_=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:_});return}const E=_>=-e.maxTranslate()&&!e.params.loop;let S=0,C=e.slidesSizesGrid[0];for(let M=0;M<c.length;M+=M<o.slidesPerGroupSkip?1:o.slidesPerGroup){const R=M<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof c[M+R]<"u"?(E||_>=c[M]&&_<c[M+R])&&(S=M,C=c[M+R]-c[M]):(E||_>=c[M])&&(S=M,C=c[c.length-1]-c[c.length-2])}let I=null,w=null;o.rewind&&(e.isBeginning?w=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(I=0));const T=(_-c[S])/C,O=S<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(g>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(T>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?I:S+O):e.slideTo(S)),e.swipeDirection==="prev"&&(T>1-o.longSwipesRatio?e.slideTo(S+O):w!==null&&T<0&&Math.abs(T)>o.longSwipesRatio?e.slideTo(w):e.slideTo(S))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(S+O):e.slideTo(S):(e.swipeDirection==="next"&&e.slideTo(I!==null?I:S+O),e.swipeDirection==="prev"&&e.slideTo(w!==null?w:S))}}function mE(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:i}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const l=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!l?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=s,t.allowSlideNext=r,t.params.watchOverflow&&i!==t.snapGrid&&t.checkOverflow()}function bU(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function EU(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let s;const i=t.maxTranslate()-t.minTranslate();i===0?s=0:s=(t.translate-t.minTranslate())/i,s!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function TU(t){const e=this;Ph(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function SU(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const VA=(t,e)=>{const n=xs(),{params:r,el:s,wrapperEl:i,device:o}=t,l=!!r.nested,a=e==="on"?"addEventListener":"removeEventListener",c=e;!s||typeof s=="string"||(n[a]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:l}),s[a]("touchstart",t.onTouchStart,{passive:!1}),s[a]("pointerdown",t.onTouchStart,{passive:!1}),n[a]("touchmove",t.onTouchMove,{passive:!1,capture:l}),n[a]("pointermove",t.onTouchMove,{passive:!1,capture:l}),n[a]("touchend",t.onTouchEnd,{passive:!0}),n[a]("pointerup",t.onTouchEnd,{passive:!0}),n[a]("pointercancel",t.onTouchEnd,{passive:!0}),n[a]("touchcancel",t.onTouchEnd,{passive:!0}),n[a]("pointerout",t.onTouchEnd,{passive:!0}),n[a]("pointerleave",t.onTouchEnd,{passive:!0}),n[a]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&s[a]("click",t.onClick,!0),r.cssMode&&i[a]("scroll",t.onScroll),r.updateOnWindowResize?t[c](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",mE,!0):t[c]("observerUpdate",mE,!0),s[a]("load",t.onLoad,{capture:!0}))};function IU(){const t=this,{params:e}=t;t.onTouchStart=vU.bind(t),t.onTouchMove=yU.bind(t),t.onTouchEnd=wU.bind(t),t.onDocumentTouchStart=SU.bind(t),e.cssMode&&(t.onScroll=EU.bind(t)),t.onClick=bU.bind(t),t.onLoad=TU.bind(t),VA(t,"on")}function xU(){VA(this,"off")}var AU={attachEvents:IU,detachEvents:xU};const gE=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function kU(){const t=this,{realIndex:e,initialized:n,params:r,el:s}=t,i=r.breakpoints;if(!i||i&&Object.keys(i).length===0)return;const o=xs(),l=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",a=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?t.el:o.querySelector(r.breakpointsBase),c=t.getBreakpoint(i,l,a);if(!c||t.currentBreakpoint===c)return;const h=(c in i?i[c]:void 0)||t.originalParams,g=gE(t,r),_=gE(t,h),E=t.params.grabCursor,S=h.grabCursor,C=r.enabled;g&&!_?(s.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!g&&_&&(s.classList.add(`${r.containerModifierClass}grid`),(h.grid.fill&&h.grid.fill==="column"||!h.grid.fill&&r.grid.fill==="column")&&s.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),E&&!S?t.unsetGrabCursor():!E&&S&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(R=>{if(typeof h[R]>"u")return;const x=r[R]&&r[R].enabled,y=h[R]&&h[R].enabled;x&&!y&&t[R].disable(),!x&&y&&t[R].enable()});const I=h.direction&&h.direction!==r.direction,w=r.loop&&(h.slidesPerView!==r.slidesPerView||I),T=r.loop;I&&n&&t.changeDirection(),Zn(t.params,h);const O=t.params.enabled,M=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),C&&!O?t.disable():!C&&O&&t.enable(),t.currentBreakpoint=c,t.emit("_beforeBreakpoint",h),n&&(w?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!T&&M?(t.loopCreate(e),t.updateSlides()):T&&!M&&t.loopDestroy()),t.emit("breakpoint",h)}function CU(t,e="window",n){if(!t||e==="container"&&!n)return;let r=!1;const s=Rn(),i=e==="window"?s.innerHeight:n.clientHeight,o=Object.keys(t).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){const a=parseFloat(l.substr(1));return{value:i*a,point:l}}return{value:l,point:l}});o.sort((l,a)=>parseInt(l.value,10)-parseInt(a.value,10));for(let l=0;l<o.length;l+=1){const{point:a,value:c}=o[l];e==="window"?s.matchMedia(`(min-width: ${c}px)`).matches&&(r=a):c<=n.clientWidth&&(r=a)}return r||"max"}var PU={setBreakpoint:kU,getBreakpoint:CU};function RU(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&n.push(e+s)}):typeof r=="string"&&n.push(e+r)}),n}function jU(){const t=this,{classNames:e,params:n,rtl:r,el:s,device:i}=t,o=RU(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),s.classList.add(...e),t.emitContainerClasses()}function OU(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var NU={addClasses:jU,removeClasses:OU};function DU(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const s=t.slides.length-1,i=t.slidesGrid[s]+t.slidesSizesGrid[s]+r*2;t.isLocked=t.size>i}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var LU={checkOverflow:DU},f_={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,snapToSlideEdge:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function MU(t,e){return function(r={}){const s=Object.keys(r)[0],i=r[s];if(typeof i!="object"||i===null){Zn(e,r);return}if(t[s]===!0&&(t[s]={enabled:!0}),s==="navigation"&&t[s]&&t[s].enabled&&!t[s].prevEl&&!t[s].nextEl&&(t[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&t[s]&&t[s].enabled&&!t[s].el&&(t[s].auto=!0),!(s in t&&"enabled"in i)){Zn(e,r);return}typeof t[s]=="object"&&!("enabled"in t[s])&&(t[s].enabled=!0),t[s]||(t[s]={enabled:!1}),Zn(e,r)}}const Om={eventsEmitter:N4,update:H4,translate:J4,transition:tU,slide:cU,loop:fU,grabCursor:gU,events:AU,breakpoints:PU,checkOverflow:LU,classes:NU},Nm={};let Ly=class Fs{constructor(...e){let n,r;e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?r=e[0]:[n,r]=e,r||(r={}),r=Zn({},r),n&&!r.el&&(r.el=n);const s=xs();if(r.el&&typeof r.el=="string"&&s.querySelectorAll(r.el).length>1){const a=[];return s.querySelectorAll(r.el).forEach(c=>{const d=Zn({},r,{el:c});a.push(new Fs(d))}),a}const i=this;i.__swiper__=!0,i.support=NA(),i.device=DA({userAgent:r.userAgent}),i.browser=LA(),i.eventsListeners={},i.eventsAnyListeners=[],i.modules=[...i.__modules__],r.modules&&Array.isArray(r.modules)&&i.modules.push(...r.modules);const o={};i.modules.forEach(a=>{a({params:r,swiper:i,extendParams:MU(r,o),on:i.on.bind(i),once:i.once.bind(i),off:i.off.bind(i),emit:i.emit.bind(i)})});const l=Zn({},f_,o);return i.params=Zn({},l,Nm,r),i.originalParams=Zn({},i.params),i.passedParams=Zn({},r),i.params&&i.params.on&&Object.keys(i.params.on).forEach(a=>{i.on(a,i.params.on[a])}),i.params&&i.params.onAny&&i.onAny(i.params.onAny),Object.assign(i,{enabled:i.params.enabled,el:n,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return i.params.direction==="horizontal"},isVertical(){return i.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:i.params.allowSlideNext,allowSlidePrev:i.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:i.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:i.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),i.emit("_swiper"),i.params.init&&i.init(),i}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,s=Qs(n,`.${r.slideClass}, swiper-slide`),i=uE(s[0]);return uE(e)-i}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=Qs(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),o=(r.maxTranslate()-s)*e+s;r.translateTo(o,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const s=e.getSlideClasses(r);n.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e="current",n=!1){const r=this,{params:s,slides:i,slidesGrid:o,slidesSizesGrid:l,size:a,activeIndex:c}=r;let d=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let h=i[c]?Math.ceil(i[c].swiperSlideSize):0,g;for(let _=c+1;_<i.length;_+=1)i[_]&&!g&&(h+=Math.ceil(i[_].swiperSlideSize),d+=1,h>a&&(g=!0));for(let _=c-1;_>=0;_-=1)i[_]&&!g&&(h+=i[_].swiperSlideSize,d+=1,h>a&&(g=!0))}else if(e==="current")for(let h=c+1;h<i.length;h+=1)(n?o[h]+l[h]-o[c]<a:o[h]-o[c]<a)&&(d+=1);else for(let h=c-1;h>=0;h-=1)o[c]-o[h]<a&&(d+=1);return d}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&Ph(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const o=e.rtlTranslate?e.translate*-1:e.translate,l=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(l),e.updateActiveIndex(),e.updateSlidesClasses()}let i;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)s(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const o=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;i=e.slideTo(o.length-1,0,!1,!0)}else i=e.slideTo(e.activeIndex,0,!1,!0);i||s()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n=!0){const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${s}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(i=>{e==="vertical"?i.style.width="":i.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const s=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(s()):Qs(r,s())[0];return!o&&n.params.createElements&&(o=d_("div",n.params.wrapperClass),r.append(o),Qs(r,`.${n.params.slideClass}`).forEach(l=>{o.append(l)})),Object.assign(n,{el:r,wrapperEl:o,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:o,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Hi(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Hi(r,"direction")==="rtl"),wrongRTL:Hi(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const s=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&s.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(i=>{i.complete?Ph(n,i):i.addEventListener("load",o=>{Ph(n,o.target)})}),h_(n),n.initialized=!0,h_(n),n.emit("init"),n.emit("afterInit"),n}destroy(e=!0,n=!0){const r=this,{params:s,el:i,wrapperEl:o,slides:l}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),n&&(r.removeClasses(),i&&typeof i!="string"&&i.removeAttribute("style"),o&&o.removeAttribute("style"),l&&l.length&&l.forEach(a=>{a.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),a.removeAttribute("style"),a.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(a=>{r.off(a)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),w4(r)),r.destroyed=!0),null}static extendDefaults(e){Zn(Nm,e)}static get extendedDefaults(){return Nm}static get defaults(){return f_}static installModule(e){Fs.prototype.__modules__||(Fs.prototype.__modules__=[]);const n=Fs.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Fs.installModule(n)),Fs):(Fs.installModule(e),Fs)}};Object.keys(Om).forEach(t=>{Object.keys(Om[t]).forEach(e=>{Ly.prototype[e]=Om[t][e]})});Ly.use([j4,O4]);const FA=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_snapToSlideEdge","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function da(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function hl(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:da(e[r])&&da(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:hl(t[r],e[r]):t[r]=e[r]})}function $A(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function UA(t={}){return t.pagination&&typeof t.pagination.el>"u"}function BA(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function zA(t=""){const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function VU(t=""){return t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function FU({swiper:t,slides:e,passedParams:n,changedParams:r,nextEl:s,prevEl:i,scrollbarEl:o,paginationEl:l}){const a=r.filter(y=>y!=="children"&&y!=="direction"&&y!=="wrapperClass"),{params:c,pagination:d,navigation:h,scrollbar:g,virtual:_,thumbs:E}=t;let S,C,I,w,T,O,M,R;r.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&!n.thumbs.swiper.destroyed&&c.thumbs&&(!c.thumbs.swiper||c.thumbs.swiper.destroyed)&&(S=!0),r.includes("controller")&&n.controller&&n.controller.control&&c.controller&&!c.controller.control&&(C=!0),r.includes("pagination")&&n.pagination&&(n.pagination.el||l)&&(c.pagination||c.pagination===!1)&&d&&!d.el&&(I=!0),r.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||o)&&(c.scrollbar||c.scrollbar===!1)&&g&&!g.el&&(w=!0),r.includes("navigation")&&n.navigation&&(n.navigation.prevEl||i)&&(n.navigation.nextEl||s)&&(c.navigation||c.navigation===!1)&&h&&!h.prevEl&&!h.nextEl&&(T=!0);const x=y=>{t[y]&&(t[y].destroy(),y==="navigation"?(t.isElement&&(t[y].prevEl.remove(),t[y].nextEl.remove()),c[y].prevEl=void 0,c[y].nextEl=void 0,t[y].prevEl=void 0,t[y].nextEl=void 0):(t.isElement&&t[y].el.remove(),c[y].el=void 0,t[y].el=void 0))};r.includes("loop")&&t.isElement&&(c.loop&&!n.loop?O=!0:!c.loop&&n.loop?M=!0:R=!0),a.forEach(y=>{if(da(c[y])&&da(n[y]))Object.assign(c[y],n[y]),(y==="navigation"||y==="pagination"||y==="scrollbar")&&"enabled"in n[y]&&!n[y].enabled&&x(y);else{const k=n[y];(k===!0||k===!1)&&(y==="navigation"||y==="pagination"||y==="scrollbar")?k===!1&&x(y):c[y]=n[y]}}),a.includes("controller")&&!C&&t.controller&&t.controller.control&&c.controller&&c.controller.control&&(t.controller.control=c.controller.control),r.includes("children")&&e&&_&&c.virtual.enabled?(_.slides=e,_.update(!0)):r.includes("virtual")&&_&&c.virtual.enabled&&(e&&(_.slides=e),_.update(!0)),r.includes("children")&&e&&c.loop&&(R=!0),S&&E.init()&&E.update(!0),C&&(t.controller.control=c.controller.control),I&&(t.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),t.el.appendChild(l)),l&&(c.pagination.el=l),d.init(),d.render(),d.update()),w&&(t.isElement&&(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-scrollbar"),o.part.add("scrollbar"),t.el.appendChild(o)),o&&(c.scrollbar.el=o),g.init(),g.updateSize(),g.setTranslate()),T&&(t.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),hE(s,t.navigation.arrowSvg),s.part.add("button-next"),t.el.appendChild(s)),(!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-prev"),hE(i,t.navigation.arrowSvg),i.part.add("button-prev"),t.el.appendChild(i))),s&&(c.navigation.nextEl=s),i&&(c.navigation.prevEl=i),h.init(),h.update()),r.includes("allowSlideNext")&&(t.allowSlideNext=n.allowSlideNext),r.includes("allowSlidePrev")&&(t.allowSlidePrev=n.allowSlidePrev),r.includes("direction")&&t.changeDirection(n.direction,!1),(O||R)&&t.loopDestroy(),(M||R)&&t.loopCreate(),t.update()}function $U(t={},e=!0){const n={on:{}},r={},s={};hl(n,f_),n._emitClasses=!0,n.init=!1;const i={},o=FA.map(a=>a.replace(/_/,"")),l=Object.assign({},t);return Object.keys(l).forEach(a=>{typeof t[a]>"u"||(o.indexOf(a)>=0?da(t[a])?(n[a]={},s[a]={},hl(n[a],t[a]),hl(s[a],t[a])):(n[a]=t[a],s[a]=t[a]):a.search(/on[A-Z]/)===0&&typeof t[a]=="function"?e?r[`${a[2].toLowerCase()}${a.substr(3)}`]=t[a]:n.on[`${a[2].toLowerCase()}${a.substr(3)}`]=t[a]:i[a]=t[a])}),["navigation","pagination","scrollbar"].forEach(a=>{n[a]===!0&&(n[a]={}),n[a]===!1&&delete n[a]}),{params:n,passedParams:s,rest:i,events:r}}function UU({el:t,nextEl:e,prevEl:n,paginationEl:r,scrollbarEl:s,swiper:i},o){$A(o)&&e&&n&&(i.params.navigation.nextEl=e,i.originalParams.navigation.nextEl=e,i.params.navigation.prevEl=n,i.originalParams.navigation.prevEl=n),UA(o)&&r&&(i.params.pagination.el=r,i.originalParams.pagination.el=r),BA(o)&&s&&(i.params.scrollbar.el=s,i.originalParams.scrollbar.el=s),i.init(t)}function BU(t,e,n,r,s){const i=[];if(!e)return i;const o=a=>{i.indexOf(a)<0&&i.push(a)};if(n&&r){const a=r.map(s),c=n.map(s);a.join("")!==c.join("")&&o("children"),r.length!==n.length&&o("children")}return FA.filter(a=>a[0]==="_").map(a=>a.replace(/_/,"")).forEach(a=>{if(a in t&&a in e)if(da(t[a])&&da(e[a])){const c=Object.keys(t[a]),d=Object.keys(e[a]);c.length!==d.length?o(a):(c.forEach(h=>{t[a][h]!==e[a][h]&&o(a)}),d.forEach(h=>{t[a][h]!==e[a][h]&&o(a)}))}else t[a]!==e[a]&&o(a)}),i}const zU=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Sf(){return Sf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sf.apply(this,arguments)}function qA(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function HA(t){const e=[];return Pt.Children.toArray(t).forEach(n=>{qA(n)?e.push(n):n.props&&n.props.children&&HA(n.props.children).forEach(r=>e.push(r))}),e}function qU(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Pt.Children.toArray(t).forEach(r=>{if(qA(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const s=HA(r.props.children);s.length>0?s.forEach(i=>e.push(i)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function HU(t,e,n){if(!n)return null;const r=d=>{let h=d;return d<0?h=e.length+d:h>=e.length&&(h=h-e.length),h},s=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:i,to:o}=n,l=t.params.loop?-e.length:0,a=t.params.loop?e.length*2:e.length,c=[];for(let d=l;d<a;d+=1)d>=i&&d<=o&&c.push(e[r(d)]);return c.map((d,h)=>Pt.cloneElement(d,{swiper:t,style:s,key:d.props.virtualIndex||d.key||`slide-${h}`}))}function Zc(t,e){return typeof window>"u"?L.useEffect(t,e):L.useLayoutEffect(t,e)}const _E=L.createContext(null),WU=L.createContext(null),WA=L.forwardRef(({className:t,tag:e="div",wrapperTag:n="div",children:r,onSwiper:s,...i}={},o)=>{let l=!1;const[a,c]=L.useState("swiper"),[d,h]=L.useState(null),[g,_]=L.useState(!1),E=L.useRef(!1),S=L.useRef(null),C=L.useRef(null),I=L.useRef(null),w=L.useRef(null),T=L.useRef(null),O=L.useRef(null),M=L.useRef(null),R=L.useRef(null),{params:x,passedParams:y,rest:k,events:A}=$U(i),{slides:j,slots:D}=qU(r),N=()=>{_(!g)};Object.assign(x.on,{_containerClasses(z,Y){c(Y)}});const ie=()=>{Object.assign(x.on,A),l=!0;const z={...x};if(delete z.wrapperClass,C.current=new Ly(z),C.current.virtual&&C.current.params.virtual.enabled){C.current.virtual.slides=j;const Y={cache:!1,slides:j,renderExternal:h,renderExternalUpdate:!1};hl(C.current.params.virtual,Y),hl(C.current.originalParams.virtual,Y)}};S.current||ie(),C.current&&C.current.on("_beforeBreakpoint",N);const _e=()=>{l||!A||!C.current||Object.keys(A).forEach(z=>{C.current.on(z,A[z])})},ke=()=>{!A||!C.current||Object.keys(A).forEach(z=>{C.current.off(z,A[z])})};L.useEffect(()=>()=>{C.current&&C.current.off("_beforeBreakpoint",N)}),L.useEffect(()=>{!E.current&&C.current&&(C.current.emitSlidesClasses(),E.current=!0)}),Zc(()=>{if(o&&(o.current=S.current),!!S.current)return C.current.destroyed&&ie(),UU({el:S.current,nextEl:T.current,prevEl:O.current,paginationEl:M.current,scrollbarEl:R.current,swiper:C.current},x),s&&!C.current.destroyed&&s(C.current),()=>{C.current&&!C.current.destroyed&&C.current.destroy(!0,!1)}},[]),Zc(()=>{_e();const z=BU(y,I.current,j,w.current,Y=>Y.key);return I.current=y,w.current=j,z.length&&C.current&&!C.current.destroyed&&FU({swiper:C.current,slides:j,passedParams:y,changedParams:z,nextEl:T.current,prevEl:O.current,scrollbarEl:R.current,paginationEl:M.current}),()=>{ke()}}),Zc(()=>{zU(C.current)},[d]);function ee(){return x.virtual?HU(C.current,j,d):j.map((z,Y)=>Pt.cloneElement(z,{swiper:C.current,swiperSlideIndex:Y}))}return Pt.createElement(e,Sf({ref:S,className:zA(`${a}${t?` ${t}`:""}`)},k),Pt.createElement(WU.Provider,{value:C.current},D["container-start"],Pt.createElement(n,{className:VU(x.wrapperClass)},D["wrapper-start"],ee(),D["wrapper-end"]),$A(x)&&Pt.createElement(Pt.Fragment,null,Pt.createElement("div",{ref:O,className:"swiper-button-prev"}),Pt.createElement("div",{ref:T,className:"swiper-button-next"})),BA(x)&&Pt.createElement("div",{ref:R,className:"swiper-scrollbar"}),UA(x)&&Pt.createElement("div",{ref:M,className:"swiper-pagination"}),D["container-end"]))});WA.displayName="Swiper";const GA=L.forwardRef(({tag:t="div",children:e,className:n="",swiper:r,zoom:s,lazy:i,virtualIndex:o,swiperSlideIndex:l,...a}={},c)=>{const d=L.useRef(null),[h,g]=L.useState("swiper-slide"),[_,E]=L.useState(!1);function S(T,O,M){O===d.current&&g(M)}Zc(()=>{if(typeof l<"u"&&(d.current.swiperSlideIndex=l),c&&(c.current=d.current),!(!d.current||!r)){if(r.destroyed){h!=="swiper-slide"&&g("swiper-slide");return}return r.on("_slideClass",S),()=>{r&&r.off("_slideClass",S)}}}),Zc(()=>{r&&d.current&&!r.destroyed&&g(r.getSlideClasses(d.current))},[r]);const C={isActive:h.indexOf("swiper-slide-active")>=0,isVisible:h.indexOf("swiper-slide-visible")>=0,isPrev:h.indexOf("swiper-slide-prev")>=0,isNext:h.indexOf("swiper-slide-next")>=0},I=()=>typeof e=="function"?e(C):e,w=()=>{E(!0)};return Pt.createElement(t,Sf({ref:d,className:zA(`${h}${n?` ${n}`:""}`),"data-swiper-slide-index":o,onLoad:w},a),s&&Pt.createElement(_E.Provider,{value:C},Pt.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof s=="number"?s:void 0},I(),i&&!_&&Pt.createElement("div",{className:"swiper-lazy-preloader",ref:T=>{T&&(T.lazyPreloaderManaged=!0)}}))),!s&&Pt.createElement(_E.Provider,{value:C},I(),i&&!_&&Pt.createElement("div",{className:"swiper-lazy-preloader",ref:T=>{T&&(T.lazyPreloaderManaged=!0)}})))});GA.displayName="SwiperSlide";function GU({swiper:t,extendParams:e,on:n,emit:r,params:s}){t.autoplay={running:!1,paused:!1,timeLeft:0},e({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let i,o,l=s&&s.autoplay?s.autoplay.delay:3e3,a=s&&s.autoplay?s.autoplay.delay:3e3,c,d=new Date().getTime(),h,g,_,E,S,C;function I(ee){!t||t.destroyed||!t.wrapperEl||ee.target===t.wrapperEl&&(t.wrapperEl.removeEventListener("transitionend",I),!(C||ee.detail&&ee.detail.bySwiperTouchMove)&&k())}const w=()=>{if(t.destroyed||!t.autoplay.running)return;t.autoplay.paused?h=!0:h&&(a=c,h=!1);const ee=t.autoplay.paused?c:d+a-new Date().getTime();t.autoplay.timeLeft=ee,r("autoplayTimeLeft",ee,ee/l),o=requestAnimationFrame(()=>{w()})},T=()=>{let ee;return t.virtual&&t.params.virtual.enabled?ee=t.slides.find(Y=>Y.classList.contains("swiper-slide-active")):ee=t.slides[t.activeIndex],ee?parseInt(ee.getAttribute("data-swiper-autoplay"),10):void 0},O=()=>{let ee=t.params.autoplay.delay;const z=T();return!Number.isNaN(z)&&z>0&&(ee=z),ee},M=ee=>{if(t.destroyed||!t.autoplay.running)return;cancelAnimationFrame(o),w();let z=ee;typeof z>"u"&&(z=O(),l=z,a=z),c=z;const Y=t.params.speed,se=()=>{!t||t.destroyed||(t.params.autoplay.reverseDirection?!t.isBeginning||t.params.loop||t.params.rewind?(t.slidePrev(Y,!0,!0),r("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(t.slides.length-1,Y,!0,!0),r("autoplay")):!t.isEnd||t.params.loop||t.params.rewind?(t.slideNext(Y,!0,!0),r("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(0,Y,!0,!0),r("autoplay")),t.params.cssMode&&(d=new Date().getTime(),requestAnimationFrame(()=>{M()})))};return z>0?(clearTimeout(i),i=setTimeout(()=>{se()},z)):requestAnimationFrame(()=>{se()}),z},R=()=>{d=new Date().getTime(),t.autoplay.running=!0,M(),r("autoplayStart")},x=()=>{t.autoplay.running=!1,clearTimeout(i),cancelAnimationFrame(o),r("autoplayStop")},y=(ee,z)=>{if(t.destroyed||!t.autoplay.running)return;clearTimeout(i),ee||(S=!0);const Y=()=>{r("autoplayPause"),t.params.autoplay.waitForTransition?t.wrapperEl.addEventListener("transitionend",I):k()};if(t.autoplay.paused=!0,z){Y();return}c=(c||t.params.autoplay.delay)-(new Date().getTime()-d),!(t.isEnd&&c<0&&!t.params.loop)&&(c<0&&(c=0),Y())},k=()=>{t.isEnd&&c<0&&!t.params.loop||t.destroyed||!t.autoplay.running||(d=new Date().getTime(),S?(S=!1,M(c)):M(),t.autoplay.paused=!1,r("autoplayResume"))},A=()=>{if(t.destroyed||!t.autoplay.running)return;const ee=xs();ee.visibilityState==="hidden"&&(S=!0,y(!0)),ee.visibilityState==="visible"&&k()},j=ee=>{ee.pointerType==="mouse"&&(S=!0,C=!0,!(t.animating||t.autoplay.paused)&&y(!0))},D=ee=>{ee.pointerType==="mouse"&&(C=!1,t.autoplay.paused&&k())},N=()=>{t.params.autoplay.pauseOnMouseEnter&&(t.el.addEventListener("pointerenter",j),t.el.addEventListener("pointerleave",D))},ie=()=>{t.el&&typeof t.el!="string"&&(t.el.removeEventListener("pointerenter",j),t.el.removeEventListener("pointerleave",D))},_e=()=>{xs().addEventListener("visibilitychange",A)},ke=()=>{xs().removeEventListener("visibilitychange",A)};n("init",()=>{t.params.autoplay.enabled&&(N(),_e(),R())}),n("destroy",()=>{ie(),ke(),t.autoplay.running&&x()}),n("_freeModeStaticRelease",()=>{(_||S)&&k()}),n("_freeModeNoMomentumRelease",()=>{t.params.autoplay.disableOnInteraction?x():y(!0,!0)}),n("beforeTransitionStart",(ee,z,Y)=>{t.destroyed||!t.autoplay.running||(Y||!t.params.autoplay.disableOnInteraction?y(!0,!0):x())}),n("sliderFirstMove",()=>{if(!(t.destroyed||!t.autoplay.running)){if(t.params.autoplay.disableOnInteraction){x();return}g=!0,_=!1,S=!1,E=setTimeout(()=>{S=!0,_=!0,y(!0)},200)}}),n("touchEnd",()=>{if(!(t.destroyed||!t.autoplay.running||!g)){if(clearTimeout(E),clearTimeout(i),t.params.autoplay.disableOnInteraction){_=!1,g=!1;return}_&&t.params.cssMode&&k(),_=!1,g=!1}}),n("slideChange",()=>{t.destroyed||!t.autoplay.running||t.autoplay.paused&&(c=O(),l=O())}),Object.assign(t.autoplay,{start:R,stop:x,pause:y,resume:k})}const KU=["           -2025-.","          -  -       .","       .","           -2025-.","          -  -       .","       .","           -2025-.","          -  -       .","       .","           -2025-.","          -  -       .","       .","           -2025-.","          -  -       .","       .","           -2025-.","          -  -       .","       ."],QU=()=>f.jsx("div",{className:"bg-dark py-3 border",children:f.jsx(WA,{slidesPerView:"auto",spaceBetween:50,loop:!0,speed:15e3,allowTouchMove:!1,autoplay:{delay:0,disableOnInteraction:!1},modules:[GU],style:{transitionTimingFunction:"linear"},children:KU.map((t,e)=>f.jsx(f.Fragment,{children:f.jsxs(GA,{className:"w-auto d-flex align-items-center gap-5 whitespace-nowrap",children:[f.jsx("p",{className:"m-0 text-white",children:t}),"||||||"]},e)}))})}),YU=()=>f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"subheader bg-dark text-light fs-6",style:{padding:"11px 0"},children:f.jsxs("div",{className:"container-xl text-center",children:["  : ",f.jsx("a",{href:"https://t.me/darelom_students",children:" ."})]})}),f.jsx(QU,{}),f.jsx("div",{className:"subheader text-center py-3 bg-dark border-top text-light fs-6",style:{padding:"11px 0"},children:f.jsx("a",{href:"https://darelom-students.netlify.app",children:"      - 2026."})})]}),JU=()=>f.jsx("footer",{className:"footer bg-black py-4",children:f.jsxs("div",{className:"container text-center text-light",children:[f.jsxs("div",{className:"d-flex flex-wrap gap-4 gap-sm-5",children:[f.jsxs(Tc,{title:" ",children:[f.jsxs(Oe,{children:[f.jsx("span",{children:"  : "}),f.jsx(Me,{to:"/send_problem",children:"  "}),"."]}),f.jsxs(Oe,{children:[f.jsx("span",{children:" : "}),f.jsx(Me,{to:"/send_suggestion",children:"  "}),"."]}),f.jsxs(Oe,{children:[f.jsx("span",{children:" : "}),f.jsx("a",{href:"https://t.me/darelom_students",children:" "}),"."]}),f.jsx(Oe,{children:f.jsx("a",{href:"https://github.com/iabdwahab/darelom-students",children:"   GitHub."})})]}),f.jsxs(Tc,{title:"  ",children:[f.jsx(Oe,{children:f.jsx(Me,{to:"/degrees/grade_1/2023_24",children:"  / 2024."})}),f.jsx(Oe,{children:f.jsx(Me,{to:"/degrees/grade_2/2023_24",children:"  / 2024."})}),f.jsx(Oe,{children:f.jsx(Me,{to:"/degrees/grade_3/2023_24",children:"  / 2024."})}),f.jsx(Oe,{children:f.jsx(Me,{to:"/degrees/grade_4/2023_24",children:"  / 2024."})}),f.jsx("hr",{}),f.jsx(Oe,{children:f.jsx(Me,{to:"/degrees/grade_1/2024_25",children:"  / 2025."})}),f.jsx(Oe,{children:f.jsx(Me,{to:"/degrees/grade_2/2024_25",children:"  / 2025."})}),f.jsx(Oe,{children:f.jsx(Me,{to:"/degrees/grade_3/2024_25",children:"  / 2025."})}),f.jsx(Oe,{children:f.jsx(Me,{to:"/degrees/grade_4/2024_25",children:"  / 2025."})})]}),f.jsxs(Tc,{title:"  ",children:[f.jsx(Oe,{children:f.jsx(Me,{to:"/ranking/grade_1/term_1/2024",children:"  /   / 2024."})}),f.jsx(Oe,{children:f.jsx(Me,{to:"/ranking/grade_1/term_2/2024",children:"  /   / 2024."})}),f.jsx(Oe,{children:f.jsx(Me,{to:"/ranking/grade_1/term_1/2025",children:"  /   / 2025."})}),f.jsx(Oe,{children:f.jsx(Me,{to:"/ranking/grade_1/term_2/2025",children:"  /   / 2025."})}),f.jsx("hr",{}),f.jsx(Oe,{children:f.jsx(Me,{to:"/ranking/grade_2/term_1/2024",children:"  /   / 2024."})}),f.jsx(Oe,{children:f.jsx(Me,{to:"/ranking/grade_2/term_2/2024",children:"  /   / 2024."})}),f.jsx(Oe,{children:f.jsx(Me,{to:"/ranking/grade_2/term_1/2025",children:"  /   / 2025."})}),f.jsx(Oe,{children:f.jsx(Me,{to:"/ranking/grade_2/term_2/2025",children:"  /   / 2025."})}),f.jsx("hr",{}),f.jsx(Oe,{children:f.jsx(Me,{to:"/ranking/grade_3/term_1/2024",children:"  /   / 2024."})}),f.jsx(Oe,{children:f.jsx(Me,{to:"/ranking/grade_3/term_2/2024",children:"  /   / 2024."})}),f.jsx(Oe,{children:f.jsx(Me,{to:"/ranking/grade_3/term_1/2025",children:"  /   / 2025."})}),f.jsx(Oe,{children:f.jsx(Me,{to:"/ranking/grade_3/term_2/2025",children:"  /   / 2025."})}),f.jsx("hr",{}),f.jsx(Oe,{children:f.jsx(Me,{to:"/ranking/grade_4/term_1/2024",children:"  /   / 2024."})}),f.jsx(Oe,{children:f.jsx(Me,{to:"/ranking/grade_4/term_2/2024",children:"  /   / 2024."})}),f.jsx(Oe,{children:f.jsx(Me,{to:"/ranking/grade_4/term_1/2025",children:"  /   / 2025."})}),f.jsx(Oe,{children:f.jsx(Me,{to:"/ranking/grade_4/term_2/2025",children:"  /   / 2025."})})]}),f.jsxs("div",{children:[f.jsxs(Tc,{title:"  ",className:"mb-4",children:[f.jsx(Oe,{children:f.jsx("a",{href:"http://t.me/iabdwahab",children:"Telegram."})}),f.jsx(Oe,{children:f.jsx("a",{href:"https://www.linkedin.com/in/iabdwahab/",children:"LinkedIn."})}),f.jsx(Oe,{children:f.jsx("a",{href:"https://github.com/iabdwahab",children:"GitHub."})})]}),f.jsxs(Tc,{title:"  ",children:[f.jsxs(Oe,{children:[f.jsx("a",{href:"https://mothalthagency.com",children:"  ."}),f.jsx(Oe,{children:f.jsx("a",{href:"https://thecapital.sa",children:'  " ".'})})]}),f.jsx(Oe,{children:f.jsx("a",{href:"https://iabdwahab.github.io/assembly-endgame/",children:"Assembly Endgame."})}),f.jsx(Oe,{children:f.jsx("a",{href:"https://iabdwahab.github.io/positivus-agency",children:"Positivus Agency."})}),f.jsx(Oe,{children:f.jsx("a",{href:"https://world-ranks-iabdwahab.vercel.app",children:"World Ranks."})})]})]})]}),f.jsx("hr",{}),f.jsxs("p",{className:"m-0",children:[f.jsx("span",{children:"   : "}),f.jsx("span",{className:"text-warning",children:"  153."})]})]})});function Tc({title:t,children:e,className:n}){return f.jsxs("div",{className:`text-end ${n}`,children:[f.jsxs("h4",{className:"mb-3",children:[t,":"]}),e]})}function Oe({children:t}){return f.jsxs("p",{className:"m-0",children:["- ",t]})}const XU=()=>{const{pathname:t}=dr();L.useEffect(()=>{window.scrollTo(0,0)},[t])},ZU=()=>{const[t,e]=L.useState(localStorage.getItem("theme")||"light");function n(){document.documentElement.getAttribute("data-bs-theme")==="dark"?(document.documentElement.setAttribute("data-bs-theme","light"),localStorage.setItem("theme","light"),e("light")):(document.documentElement.setAttribute("data-bs-theme","dark"),localStorage.setItem("theme","dark"),e("dark"))}return f.jsx("button",{className:"btn btn-primary w-100 mt-2 p-2",onClick:n,children:t==="light"?"  []":"  [ ]"})},eB=()=>f.jsx("div",{className:"border-bottom",children:f.jsx("div",{className:"container-xl py-3",children:f.jsx(ZU,{})})}),Ot=({hasText:t=!0})=>f.jsxs("div",{className:"d-block text-center py-4",children:[f.jsx("div",{className:"spinner-border text-primary",role:"status",children:f.jsx("span",{className:"sr-only d-none",children:"..."})}),t?f.jsx("p",{className:"fw-bold fs-5 mt-2",children:"  ."}):""]}),tB=()=>{const[t,e]=L.useState(!0);return L.useEffect(()=>{VI(dp,()=>{e(!1)})},[]),f.jsxs("div",{className:"d-flex flex-column min-vh-100",children:[f.jsx(_4,{}),f.jsx(YU,{}),f.jsx(eB,{}),f.jsx("div",{className:"container-xl flex-grow-1 py-3",children:f.jsx("div",{children:t?f.jsx(Ot,{}):f.jsx(n$,{})})}),f.jsx(JU,{}),f.jsx(XU,{})]})},nB=({currentStepIndex:t,setCurrentStepIndex:e,selections:n,setSelections:r})=>{function s(){t>0&&(e(t-1),r(n.slice(0,n.length-1)))}const i=t===0;return f.jsx("button",{className:`btn btn-danger ${i?"d-none":"d-block"}`,onClick:s,children:""})},rB=({option:t,stepsList:e,currentStepIndex:n,setCurrentStepIndex:r,selections:s,setSelections:i})=>{const o=bt();function l(){if(t.option_data==="test_yourself")return o("/test_yourself");n<e.length-1&&t.will_next?(r(n+1),i([...s,t.option_data])):o(`${s.join("/")}/${t.option_data}`)}const a=`${t.option_text}`;return f.jsx("button",{className:"btn btn-primary w-100 p-2",onClick:l,children:a})},sB=({stepsList:t})=>{var l,a;const e=dr(),[n,r]=L.useState(((l=e.state)==null?void 0:l.initialStepIndex)||0),[s,i]=L.useState(((a=e.state)==null?void 0:a.selections)||[]),o=t[n];return f.jsxs("div",{children:[f.jsxs("div",{className:"d-flex justify-content-between align-content-center",children:[f.jsx("h2",{children:o.title}),f.jsx(nB,{currentStepIndex:n,setCurrentStepIndex:r,selections:s,setSelections:i})]}),f.jsx("div",{className:"row g-2 my-2",children:o.options.map((c,d)=>{var h;if(n===0||(h=c.availableAt)!=null&&h.includes(s[0]))return f.jsx("div",{className:"col-sm-6",children:f.jsx(rB,{option:c,stepsList:t,currentStepIndex:n,setCurrentStepIndex:r,selections:s,setSelections:i})},d)})})]})},mn=({children:t,fontSize:e,py:n})=>f.jsx("h2",{className:`fs-${e||4} py-${n||2} fw-medium bg-dark text-center text-light`,children:t}),iB=()=>f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{scope:"col",children:"#"}),f.jsx("th",{scope:"col",children:""}),f.jsx("th",{scope:"col",className:"text-center",children:""})]})}),di="https://iabdwahab.github.io";async function oB(){return await(await fetch(`${di}/darelom-students-data/top_degrees.json`)).json()}const aB=()=>{const[t,e]=L.useState([]),[n,r]=L.useState(!0);return L.useEffect(()=>{async function s(){let i;i=await oB(),e(i),r(!1)}s()},[]),f.jsxs("div",{className:"top-students",children:[f.jsx(mn,{children:" "}),n?f.jsx(Ot,{}):f.jsx("div",{className:"row g-2 mt-1",children:t.map((s,i)=>f.jsxs("div",{className:"border-secondary-subtle rounded-2 py-1 my-0 col-lg-6",children:[f.jsx("h3",{className:"fs-5 bg-dark text-light p-2 my-0",children:s.grade_ar_name}),f.jsxs("table",{className:"table table-striped border",children:[f.jsx(iB,{}),f.jsx(lB,{gradeDegree:s})]}),f.jsx(Me,{to:`degrees/${s.grade}/2024_25`,className:"d-block my-2 btn btn-primary fw-bold",children:"  "})]},i))})]})};function lB({gradeDegree:t}){return f.jsx("tbody",{children:t.list.map((e,n)=>f.jsx(cB,{student:e,grade:t.grade},n))})}function cB({student:t,grade:e}){const n=bt();return f.jsxs("tr",{className:"degree_tr-linked",onClick:()=>n(`/degrees/${e}/2024_25/${t.id}`),children:[f.jsx("th",{scope:"row",children:t.rank}),f.jsx("td",{children:t.name}),f.jsxs("td",{className:"text-center",children:["%",t.total_percentage]})]})}const uB=[{title:" :",options:[{option_text:" ",option_data:"grade_1",will_next:!0,available:!0},{option_text:" ",option_data:"grade_2",will_next:!0,available:!0},{option_text:" ",option_data:"grade_3",will_next:!0,available:!0},{option_text:" ",option_data:"grade_4",will_next:!0,available:!0},{option_text:" ",option_data:"general_subjects",will_next:!1,available:!0}]},{title:" ",options:[{option_text:" ",option_data:"schedule",will_next:!1,availableAt:["grade_1","grade_2","grade_3","grade_4"]},{option_text:" ",option_data:"books",will_next:!0,availableAt:["grade_1","grade_2","grade_3","grade_4"]},{option_text:" ",option_data:"lectures_recordings",will_next:!0,availableAt:["grade_1","grade_2","grade_3"]},{option_text:"  -  ",option_data:"test_yourself_students",will_next:!0,availableAt:["grade_1","grade_2","grade_3","grade_4"]},{option_text:"  [ ]",option_data:"test_yourself",will_next:!1,availableAt:["grade_1","grade_2","grade_3","grade_4"]},{option_text:" ",option_data:"more_resources",will_next:!0,availableAt:["grade_2"]},{option_text:"",option_data:"explanations",will_next:!1,availableAt:[]},{option_text:"  ",option_data:"final_exams",will_next:!0,availableAt:["grade_1","grade_2","grade_3","grade_4"]}]},{title:"  :",options:[{option_text:"  ",option_data:"term_1",will_next:!1,availableAt:["grade_1","grade_2","grade_3","grade_4"]},{option_text:"  ",option_data:"term_2",will_next:!1,availableAt:["grade_1","grade_2","grade_3","grade_4"]}]}],dB=()=>f.jsxs(f.Fragment,{children:[f.jsx(sB,{stepsList:uB}),f.jsx(aB,{})]});async function hB(t,e){const r=await(await fetch(`${di}/darelom-students-data/degrees/${e}/degrees_${t}.json`)).json();return r.degrees.sort((s,i)=>i.total-s.total),{degrees:r.degrees,studentsCount:r.degrees.length}}async function fB(t){const e=await w1(t),n=e.docs.map(s=>s.data()),r=e.docs[e.docs.length-1];return{degreesData:n,lastStudentData:r}}async function pB(t){return(await EM(t)).data().count}function Tt(t){return{grade_1:" ",grade_2:" ",grade_3:" ",grade_4:" ",term_1:"  ",term_2:"  ",nahw:"",sarf:"",english:"",elm_allugha:" ",albalagha:"",adab_gahily:" ",falsafa:"",seera_khoalfaa:"  ",quran_ebadat:" ",naqd_qadim:"  ",nsoos_gahilya:" ",farsy:"",ebry:"",riyadat_aamal:" ",nazm_oslobiya:" ",quran_ahwal:"   ",adab_islamy_omawy:"  ",arood:"",mawarith:"",maajim_aswat:"  ",balaghat_quran:" ",qaet_bahth:" ",nsoos_islamya_omawya:"  ",tareekh_omawy_abasy:"  ",aqida:"",adab_moqaran:" ",adab_abasy_andalusy:"  ",olom_quran:" ",tareekh_misr:"  ",tafseer:"",elm_kalam:" ",nsoos_abasya_andalusya:"  ",ittijahat_lughawiya:" ",adab_hadith:" ",hadara_nozom:" ",tasawof:"",osool_fiqh:" ",horoob_salibiya:" ",nsoos_haditha:"  ",naqd_hadith:"  ",mojalad_tasgilat:"  ",groupped_channel:"  "}[t]}const mB=({student:t,grade:e,year:n})=>{let{id:r,name:s,rank:i,total:o,total_percentage:l}=t;const a=bt(),c=s==="   ";function d(){c||a(`/degrees/${e}/${n}/${t.id}`)}return c&&(r="",s=""),f.jsxs("tr",{className:"degree_tr-linked",onClick:d,children:[f.jsx("th",{scope:"row",className:"text-center",children:i}),f.jsx("td",{className:"text-center",children:r}),f.jsx("td",{style:{whiteSpace:"nowrap"},children:s}),f.jsx("td",{className:"text-center",children:o}),f.jsxs("td",{className:"text-center",children:["%",l]})]})},My=()=>{const t=[{isCentered:!0,text:"#"},{isCentered:!0,text:" "},{isCentered:!1,text:""},{isCentered:!0,text:""},{isCentered:!0,text:""}];return f.jsx("thead",{children:f.jsx("tr",{children:t.map((e,n)=>f.jsx("th",{scope:"col",className:`${e.isCentered&&"text-center"}`,children:e.text},n))})})},Vy=({studentsCount:t})=>{const e=f.jsx("span",{className:"fw-bold",children:t||" "});return f.jsxs("h3",{className:"py-2 fs-4",children:[" : ",e,"."]})},gB=({degreesCollection:t,lastStudent:e,setDataAndHideLoaderFirestore:n})=>{function r(){const s=dM(t,hM("rank","asc"),pM(e),fM(40));n(s)}return f.jsx("button",{className:"btn btn-primary w-100",onClick:r,children:" "})},_B=()=>f.jsx("h3",{className:"fw-bold text-center fs-5",children:" ."}),Gl=()=>f.jsx("button",{className:"btn btn-primary w-100 disabled",children:f.jsx("div",{className:"spinner-border spinner-border-sm",role:"status"})}),vB=()=>{const{grade:t}=nn(),e=bt(),n=L.useRef(null),[r,s]=L.useState(!1);return L.useEffect(()=>{const i=n.current;i.addEventListener("submit",async o=>{o.preventDefault(),o.stopPropagation();try{s(!0);const l=i["student_id-input"].value;if(i.checkValidity()){const a=rs(kn,`${t}/degrees/2023_24`,l);(await ci(a)).exists()?e(`${l}`):i.classList.add("was-validated"),n.current.reset()}else i.classList.add("was-validated")}catch(l){console.log(l.message)}finally{s(!1)}})},[]),f.jsxs("form",{className:"row g-3 mt-0 needs-validation",noValidate:!0,ref:n,children:[f.jsx("p",{className:"mb-2 fw-bold",children:"  :"}),f.jsxs("div",{className:"col-12 col-sm-10 m-0 mb-2",children:[f.jsx("input",{type:"text",className:"form-control py-2",id:"student_id-input",placeholder:" ",minLength:5,maxLength:5,required:!0}),f.jsx("div",{className:"invalid-feedback",children:"   ."})]}),f.jsx("div",{className:"col-12 col-sm-2 m-0",children:r?f.jsx(Gl,{}):f.jsx("button",{type:"submit",className:"btn btn-primary mb-3 py-2 w-100",children:""})})]})};function vE(t,e){if(t.length)if(e==="duplicated"){t.sort((s,i)=>i.total-s.total);let n=1,r=t[0].total;for(let s=0;s<t.length;s++)t[s].total!==r&&(n=n+1,r=t[s].total),t[s].rank=n}else for(let n=0;n<t.length;n++)t[n].rank=n+1}const yB=()=>{const[t,e]=L.useState([]),[n,r]=L.useState(!0),{grade:s,year:i}=nn(),[o,l]=L.useState(null),[a,c]=L.useState(null),[d,h]=L.useState(!1),[g,_]=L.useState("normal"),E=L.useRef(null),{pathname:S}=dr(),[C,I]=x$(),w=Zu(kn,`${s}/degrees/${i}`);async function T(R){const x=await pB(w),{degreesData:y,lastStudentData:k}=await fB(R);l(x),e([...t,...y]),c(k),k.data().rank===x&&h(!0),r(!1)}async function O(){const R=await hB(s,i);e(R.degrees),l(R.degrees.length),r(!1),h(!0)}function M(R){_(R.target.value),vE(t,R.target.value),I({sortMethod:R.target.value})}return L.useEffect(()=>{O(),E.current&&(E.current.value="normal")},[S]),vE(t,C.get("sortMethod")||"normal"),f.jsxs("div",{children:[f.jsxs(mn,{fontSize:3,py:3,children:["  ",Tt(s)," ",i.split("_").join("/")]}),f.jsx(Vy,{studentsCount:o}),f.jsx(vB,{}),f.jsxs("div",{className:"d-flex flex-column gap-2 mb-4",children:[f.jsx("h5",{children:" :"}),f.jsxs("select",{ref:E,onChange:M,className:"form-select w-100","aria-label":"Default select example",style:{width:"100%",maxWidth:"400px"},children:[f.jsx("option",{value:"normal",defaultValue:!0,children:" "}),f.jsx("option",{value:"duplicated",children:"  "})]})]}),f.jsxs("div",{className:"table-responsive border",children:[f.jsxs("table",{className:"table table-striped table-bordered",children:[f.jsx(My,{}),f.jsx("tbody",{children:t.map(R=>f.jsx(mB,{student:R,grade:s,year:i},R.id))})]}),n&&f.jsx(Ot,{})]}),f.jsx("div",{className:"mt-3 mb-1",children:d?f.jsx(_B,{}):f.jsx(gB,{degreesCollection:w,lastStudent:a,setDataAndHideLoaderFirestore:T})})]})},wB="modulepreload",bB=function(t){return"/darelom-students/"+t},yE={},td=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.all(n.map(l=>{if(l=bB(l),l in yE)return;yE[l]=!0;const a=l.endsWith(".css"),c=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=a?"stylesheet":wB,a||(d.as="script",d.crossOrigin=""),d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),a)return new Promise((h,g)=>{d.addEventListener("load",h),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}return s.then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},EB=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>td(async()=>{const{default:r}=await Promise.resolve().then(()=>Kl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Fy extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class TB extends Fy{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class SB extends Fy{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class IB extends Fy{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var p_;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(p_||(p_={}));var xB=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};class AB{constructor(e,{headers:n={},customFetch:r,region:s=p_.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=EB(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return xB(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:a}=n;a||(a=this.region),a&&a!=="any"&&(l["x-region"]=a);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(l["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(l["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:c}).catch(E=>{throw new TB(E)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new SB(d);if(!d.ok)throw new IB(d);let g=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),_;return g==="application/json"?_=yield d.json():g==="application/octet-stream"?_=yield d.blob():g==="text/event-stream"?_=d:g==="multipart/form-data"?_=yield d.formData():_=yield d.text(),{data:_,error:null}}catch(s){return{data:null,error:s}}})}}var Vn={},$y={},yp={},nd={},wp={},bp={},kB=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ol=kB();const CB=Ol.fetch,KA=Ol.fetch.bind(Ol),QA=Ol.Headers,PB=Ol.Request,RB=Ol.Response,Kl=Object.freeze(Object.defineProperty({__proto__:null,Headers:QA,Request:PB,Response:RB,default:KA,fetch:CB},Symbol.toStringTag,{value:"Module"})),jB=$E(Kl);var Ep={};Object.defineProperty(Ep,"__esModule",{value:!0});let OB=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ep.default=OB;var YA=sr&&sr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bp,"__esModule",{value:!0});const NB=YA(jB),DB=YA(Ep);let LB=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=NB.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,a;let c=null,d=null,h=null,g=i.status,_=i.statusText;if(i.ok){if(this.method!=="HEAD"){const I=await i.text();I===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=I:d=JSON.parse(I))}const S=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),C=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");S&&C&&C.length>1&&(h=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,g=406,_="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const S=await i.text();try{c=JSON.parse(S),Array.isArray(c)&&i.status===404&&(d=[],c=null,g=200,_="OK")}catch{i.status===404&&S===""?(g=204,_="No Content"):c={message:S}}if(c&&this.isMaybeSingle&&(!((a=c==null?void 0:c.details)===null||a===void 0)&&a.includes("0 rows"))&&(c=null,g=200,_="OK"),c&&this.shouldThrowOnError)throw new DB.default(c)}return{error:c,data:d,count:h,status:g,statusText:_}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,a;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=i==null?void 0:i.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};bp.default=LB;var MB=sr&&sr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wp,"__esModule",{value:!0});const VB=MB(bp);let FB=class extends VB.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const a=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${a};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};wp.default=FB;var $B=sr&&sr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(nd,"__esModule",{value:!0});const UB=$B(wp);let BB=class extends UB.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};nd.default=BB;var zB=sr&&sr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yp,"__esModule",{value:!0});const Sc=zB(nd);let qB=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Sc.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new Sc.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const a=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(a.length>0){const c=[...new Set(a)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Sc.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Sc.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Sc.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};yp.default=qB;var Tp={},Sp={};Object.defineProperty(Sp,"__esModule",{value:!0});Sp.version=void 0;Sp.version="0.0.0-automated";Object.defineProperty(Tp,"__esModule",{value:!0});Tp.DEFAULT_HEADERS=void 0;const HB=Sp;Tp.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${HB.version}`};var JA=sr&&sr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($y,"__esModule",{value:!0});const WB=JA(yp),GB=JA(nd),KB=Tp;let QB=class XA{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},KB.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new WB.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new XA(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${e}`);let a;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",a=n);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new GB.default({method:o,url:l,headers:c,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};$y.default=QB;var Ql=sr&&sr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vn,"__esModule",{value:!0});Vn.PostgrestError=Vn.PostgrestBuilder=Vn.PostgrestTransformBuilder=Vn.PostgrestFilterBuilder=Vn.PostgrestQueryBuilder=Vn.PostgrestClient=void 0;const ZA=Ql($y);Vn.PostgrestClient=ZA.default;const ek=Ql(yp);Vn.PostgrestQueryBuilder=ek.default;const tk=Ql(nd);Vn.PostgrestFilterBuilder=tk.default;const nk=Ql(wp);Vn.PostgrestTransformBuilder=nk.default;const rk=Ql(bp);Vn.PostgrestBuilder=rk.default;const sk=Ql(Ep);Vn.PostgrestError=sk.default;var YB=Vn.default={PostgrestClient:ZA.default,PostgrestQueryBuilder:ek.default,PostgrestFilterBuilder:tk.default,PostgrestTransformBuilder:nk.default,PostgrestBuilder:rk.default,PostgrestError:sk.default};const{PostgrestClient:JB,PostgrestQueryBuilder:W5,PostgrestFilterBuilder:G5,PostgrestTransformBuilder:K5,PostgrestBuilder:Q5,PostgrestError:Y5}=YB;function XB(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const ZB=XB(),e3="2.11.15",t3=`realtime-js/${e3}`,n3="1.0.0",ik=1e4,r3=1e3;var eu;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(eu||(eu={}));var cn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(cn||(cn={}));var Kr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Kr||(Kr={}));var m_;(function(t){t.websocket="websocket"})(m_||(m_={}));var Mo;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Mo||(Mo={}));class s3{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+s));o=o+s;const a=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:a,payload:c}}}class ok{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var st;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(st||(st={}));const wE=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=i3(o,t,e,s),i),{})},i3=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?ak(i,o):g_(o)},ak=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return c3(e,n)}switch(t){case st.bool:return o3(e);case st.float4:case st.float8:case st.int2:case st.int4:case st.int8:case st.numeric:case st.oid:return a3(e);case st.json:case st.jsonb:return l3(e);case st.timestamp:return u3(e);case st.abstime:case st.date:case st.daterange:case st.int4range:case st.int8range:case st.money:case st.reltime:case st.text:case st.time:case st.timestamptz:case st.timetz:case st.tsrange:case st.tstzrange:return g_(e);default:return g_(e)}},g_=t=>t,o3=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},a3=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},l3=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},c3=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>ak(e,l))}return t},u3=t=>typeof t=="string"?t.replace(" ","T"):t,lk=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Dm{constructor(e,n,r={},s=ik){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var bE;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(bE||(bE={}));class tu{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=tu.syncState(this.state,s,i,o),this.pendingDiffs.forEach(a=>{this.state=tu.syncDiff(this.state,a,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=tu.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),l={},a={};return this.map(i,(c,d)=>{o[c]||(a[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const g=d.map(C=>C.presence_ref),_=h.map(C=>C.presence_ref),E=d.filter(C=>_.indexOf(C.presence_ref)<0),S=h.filter(C=>g.indexOf(C.presence_ref)<0);E.length>0&&(l[c]=E),S.length>0&&(a[c]=S)}else l[c]=d}),this.syncDiff(i,{joins:l,leaves:a},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,a)=>{var c;const d=(c=e[l])!==null&&c!==void 0?c:[];if(e[l]=this.cloneDeep(a),d.length>0){const h=e[l].map(_=>_.presence_ref),g=d.filter(_=>h.indexOf(_.presence_ref)<0);e[l].unshift(...g)}r(l,d,a)}),this.map(o,(l,a)=>{let c=e[l];if(!c)return;const d=a.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=c,s(l,c,a),c.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var EE;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(EE||(EE={}));var TE;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(TE||(TE={}));var Bs;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Bs||(Bs={}));class Uy{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=cn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Dm(this,Kr.join,this.params,this.timeout),this.rejoinTimer=new ok(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=cn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=cn.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=cn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=cn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Kr.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new tu(this),this.broadcastEndpointURL=lk(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==cn.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>e==null?void 0:e(Bs.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(Bs.CLOSED));const a={},c={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(a.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},a)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){e==null||e(Bs.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,_=(h=g==null?void 0:g.length)!==null&&h!==void 0?h:0,E=[];for(let S=0;S<_;S++){const C=g[S],{filter:{event:I,schema:w,table:T,filter:O}}=C,M=d&&d[S];if(M&&M.event===I&&M.schema===w&&M.table===T&&M.filter===O)E.push(Object.assign(Object.assign({},C),{id:M.id}));else{this.unsubscribe(),this.state=cn.errored,e==null||e(Bs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,e&&e(Bs.SUBSCRIBED);return}}).receive("error",d=>{this.state=cn.errored,e==null||e(Bs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Bs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,a;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=cn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Kr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Dm(this,Kr.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Dm(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:a,leave:c,join:d}=Kr;if(r&&[l,a,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let g=this._onMessage(o,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(_=>{var E,S,C;return((E=_.filter)===null||E===void 0?void 0:E.event)==="*"||((C=(S=_.filter)===null||S===void 0?void 0:S.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===o}).map(_=>_.callback(g,r)):(i=this.bindings[o])===null||i===void 0||i.filter(_=>{var E,S,C,I,w,T;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in _){const O=_.id,M=(E=_.filter)===null||E===void 0?void 0:E.event;return O&&((S=n.ids)===null||S===void 0?void 0:S.includes(O))&&(M==="*"||(M==null?void 0:M.toLocaleLowerCase())===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const O=(w=(I=_==null?void 0:_.filter)===null||I===void 0?void 0:I.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return O==="*"||O===((T=n==null?void 0:n.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===o}).map(_=>{if(typeof g=="object"&&"ids"in g){const E=g.data,{schema:S,table:C,commit_timestamp:I,type:w,errors:T}=E;g=Object.assign(Object.assign({},{schema:S,table:C,commit_timestamp:I,eventType:w,new:{},old:{},errors:T}),this._getPayloadRecords(E))}_.callback(g,r)})}_isClosed(){return this.state===cn.closed}_isJoined(){return this.state===cn.joined}_isJoining(){return this.state===cn.joining}_isLeaving(){return this.state===cn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Uy.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Kr.close,{},e)}_onError(e){this._on(Kr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=cn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=wE(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=wE(e.columns,e.old_record)),n}}const SE=()=>{},d3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class h3{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ik,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=SE,this.ref=0,this.logger=SE,this.conn=null,this.sendBuffer=[],this.serializer=new s3,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>td(async()=>{const{default:a}=await Promise.resolve().then(()=>Kl);return{default:a}},void 0).then(({default:a})=>a(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${m_.websocket}`,this.httpEndpoint=lk(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ok(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=ZB),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:n3}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case eu.connecting:return Mo.Connecting;case eu.open:return Mo.Open;case eu.closing:return Mo.Closing;default:return Mo.Closed}}isConnected(){return this.connectionState()===Mo.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Uy(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:t3};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Kr.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(r3,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Kr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([d3],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class By extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function zt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class f3 extends By{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class __ extends By{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var p3=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const ck=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>td(async()=>{const{default:r}=await Promise.resolve().then(()=>Kl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},m3=()=>p3(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield td(()=>Promise.resolve().then(()=>Kl),void 0)).Response:Response}),v_=t=>{if(Array.isArray(t))return t.map(n=>v_(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=v_(r)}),e};var wa=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const Lm=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),g3=(t,e,n)=>wa(void 0,void 0,void 0,function*(){const r=yield m3();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new f3(Lm(s),t.status||500))}).catch(s=>{e(new __(Lm(s),s))}):e(new __(Lm(t),t))}),_3=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function rd(t,e,n,r,s,i){return wa(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,_3(e,r,s,i)).then(a=>{if(!a.ok)throw a;return r!=null&&r.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>g3(a,l,r))})})}function If(t,e,n,r){return wa(this,void 0,void 0,function*(){return rd(t,"GET",e,n,r)})}function Oi(t,e,n,r,s){return wa(this,void 0,void 0,function*(){return rd(t,"POST",e,r,s,n)})}function v3(t,e,n,r,s){return wa(this,void 0,void 0,function*(){return rd(t,"PUT",e,r,s,n)})}function y3(t,e,n,r){return wa(this,void 0,void 0,function*(){return rd(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function uk(t,e,n,r,s){return wa(this,void 0,void 0,function*(){return rd(t,"DELETE",e,r,s,n)})}var Ln=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const w3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},IE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class b3{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=ck(s)}uploadOrUpdate(e,n,r,s){return Ln(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},IE),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),g=yield h.json();return h.ok?{data:{path:c,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(i){if(zt(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Ln(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Ln(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let a;const c=Object.assign({upsert:IE.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",c.cacheControl)):(a=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:a,headers:d}),g=yield h.json();return h.ok?{data:{path:i,fullPath:g.Key},error:null}:{data:null,error:g}}catch(a){if(zt(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(e,n){return Ln(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Oi(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new By("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(zt(r))return{data:null,error:r};throw r}})}update(e,n,r){return Ln(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Ln(this,void 0,void 0,function*(){try{return{data:yield Oi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(zt(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Ln(this,void 0,void 0,function*(){try{return{data:{path:(yield Oi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(zt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Ln(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Oi(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(zt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Ln(this,void 0,void 0,function*(){try{const s=yield Oi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(zt(s))return{data:null,error:s};throw s}})}download(e,n){return Ln(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield If(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(zt(l))return{data:null,error:l};throw l}})}info(e){return Ln(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield If(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:v_(r),error:null}}catch(r){if(zt(r))return{data:null,error:r};throw r}})}exists(e){return Ln(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield y3(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(zt(r)&&r instanceof __){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});a!==""&&s.push(a);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${c}`)}}}remove(e){return Ln(this,void 0,void 0,function*(){try{return{data:yield uk(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(zt(n))return{data:null,error:n};throw n}})}list(e,n,r){return Ln(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},w3),n),{prefix:e||""});return{data:yield Oi(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(zt(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const E3="2.7.1",T3={"X-Client-Info":`storage-js/${E3}`};var Oa=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};class S3{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},T3),n),this.fetch=ck(r)}listBuckets(){return Oa(this,void 0,void 0,function*(){try{return{data:yield If(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(zt(e))return{data:null,error:e};throw e}})}getBucket(e){return Oa(this,void 0,void 0,function*(){try{return{data:yield If(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(zt(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Oa(this,void 0,void 0,function*(){try{return{data:yield Oi(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(zt(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Oa(this,void 0,void 0,function*(){try{return{data:yield v3(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(zt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Oa(this,void 0,void 0,function*(){try{return{data:yield Oi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(zt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Oa(this,void 0,void 0,function*(){try{return{data:yield uk(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(zt(n))return{data:null,error:n};throw n}})}}class I3 extends S3{constructor(e,n={},r){super(e,n,r)}from(e){return new b3(this.url,this.headers,e,this.fetch)}}const x3="2.50.2";let Lc="";typeof Deno<"u"?Lc="deno":typeof document<"u"?Lc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Lc="react-native":Lc="node";const A3={"X-Client-Info":`supabase-js-${Lc}/${x3}`},k3={headers:A3},C3={schema:"public"},P3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},R3={};var j3=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const O3=t=>{let e;return t?e=t:typeof fetch>"u"?e=KA:e=fetch,(...n)=>e(...n)},N3=()=>typeof Headers>"u"?QA:Headers,D3=(t,e,n)=>{const r=O3(n),s=N3();return(i,o)=>j3(void 0,void 0,void 0,function*(){var l;const a=(l=yield e())!==null&&l!==void 0?l:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${a}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var L3=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};function M3(t){return t.endsWith("/")?t:t+"/"}function V3(t,e){var n,r;const{db:s,auth:i,realtime:o,global:l}=t,{db:a,auth:c,realtime:d,global:h}=e,g={db:Object.assign(Object.assign({},a),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>L3(this,void 0,void 0,function*(){return""})};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}const dk="2.70.0",$a=30*1e3,y_=3,Mm=y_*$a,F3="http://localhost:9999",$3="supabase.auth.token",U3={"X-Client-Info":`gotrue-js/${dk}`},w_="X-Supabase-Api-Version",hk={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},B3=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,z3=6e5;class zy extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function xe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class q3 extends zy{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function H3(t){return xe(t)&&t.name==="AuthApiError"}class fk extends zy{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class go extends zy{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Pi extends go{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function W3(t){return xe(t)&&t.name==="AuthSessionMissingError"}class th extends go{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class nh extends go{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class rh extends go{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function G3(t){return xe(t)&&t.name==="AuthImplicitGrantRedirectError"}class xE extends go{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class b_ extends go{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Vm(t){return xe(t)&&t.name==="AuthRetryableFetchError"}class AE extends go{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class nu extends go{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const xf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),kE=` 	
\r=`.split(""),K3=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<kE.length;e+=1)t[kE[e].charCodeAt(0)]=-2;for(let e=0;e<xf.length;e+=1)t[xf[e].charCodeAt(0)]=e;return t})();function CE(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(xf[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(xf[r]),e.queuedBits-=6}}function pk(t,e,n){const r=K3[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function PE(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{J3(o,r,n)};for(let o=0;o<t.length;o+=1)pk(t.charCodeAt(o),s,i);return e.join("")}function Q3(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Y3(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Q3(r,e)}}function J3(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function X3(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)pk(t.charCodeAt(s),n,r);return new Uint8Array(e)}function Z3(t){const e=[];return Y3(t,n=>e.push(n)),new Uint8Array(e)}function ez(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>CE(s,n,r)),CE(null,n,r),e.join("")}function tz(t){return Math.round(Date.now()/1e3)+t}function nz(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const qr=()=>typeof window<"u"&&typeof document<"u",Ro={tested:!1,writable:!1},ru=()=>{if(!qr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ro.tested)return Ro.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ro.tested=!0,Ro.writable=!0}catch{Ro.tested=!0,Ro.writable=!1}return Ro.writable};function rz(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const mk=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>td(async()=>{const{default:r}=await Promise.resolve().then(()=>Kl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},sz=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",gk=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},sh=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ih=async(t,e)=>{await t.removeItem(e)};class Ip{constructor(){this.promise=new Ip.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ip.promiseConstructor=Promise;function Fm(t){const e=t.split(".");if(e.length!==3)throw new nu("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!B3.test(e[r]))throw new nu("JWT not in base64url format");return{header:JSON.parse(PE(e[0])),payload:JSON.parse(PE(e[1])),signature:X3(e[2]),raw:{header:e[0],payload:e[1]}}}async function iz(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function oz(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function az(t){return("0"+t.toString(16)).substr(-2)}function lz(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,az).join("")}async function cz(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function uz(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await cz(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Na(t,e,n=!1){const r=lz();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await gk(t,`${e}-code-verifier`,s);const i=await uz(r);return[i,r===i?"plain":"s256"]}const dz=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hz(t){const e=t.headers.get(w_);if(!e||!e.match(dz))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function fz(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function pz(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const mz=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Da(t){if(!mz.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var gz=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Do=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),_z=[502,503,504];async function RE(t){var e;if(!sz(t))throw new b_(Do(t),0);if(_z.includes(t.status))throw new b_(Do(t),t.status);let n;try{n=await t.json()}catch(i){throw new fk(Do(i),i)}let r;const s=hz(t);if(s&&s.getTime()>=hk["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new AE(Do(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Pi}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new AE(Do(n),t.status,n.weak_password.reasons);throw new q3(Do(n),t.status||500,r)}const vz=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Re(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[w_]||(i[w_]=hk["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await yz(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(a):{data:Object.assign({},a),error:null}}async function yz(t,e,n,r,s,i){const o=vz(e,r,s,i);let l;try{l=await t(n,Object.assign({},o))}catch(a){throw console.error(a),new b_(Do(a),0)}if(l.ok||await RE(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(a){await RE(a)}}function $s(t){var e;let n=null;Tz(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=tz(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function jE(t){const e=$s(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ui(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function wz(t){return{data:t,error:null}}function bz(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=gz(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function Ez(t){return t}function Tz(t){return t.access_token&&t.refresh_token&&t.expires_in}const $m=["global","local","others"];var Sz=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class Iz{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=mk(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=$m[0]){if($m.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$m.join(", ")}`);try{return await Re(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Re(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ui})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Sz(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:bz,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(xe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Re(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ui})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,l,a;try{const c={nextPage:null,lastPage:0,total:0},d=await Re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Ez});if(d.error)throw d.error;const h=await d.json(),g=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,_=(a=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return _.length>0&&(_.forEach(E=>{const S=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(E.split(";")[1].split("=")[1]);c[`${C}Page`]=S}),c.total=parseInt(g)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(xe(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Da(e);try{return await Re(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ui})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Da(e);try{return await Re(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ui})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Da(e);try{return await Re(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ui})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Da(e.userId);try{const{data:n,error:r}=await Re(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Da(e.userId),Da(e.id);try{return{data:await Re(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}}}const xz={getItem:t=>ru()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{ru()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{ru()&&globalThis.localStorage.removeItem(t)}};function OE(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function Az(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const La={debug:!!(globalThis&&ru()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _k extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class kz extends _k{}async function Cz(t,e,n){La.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),La.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){La.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{La.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw La.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new kz(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(La.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Az();const Pz={url:F3,storageKey:$3,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:U3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function NE(t,e,n){return await n()}class Lu{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Lu.nextInstanceID,Lu.nextInstanceID+=1,this.instanceID>0&&qr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Pz),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Iz({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=mk(s.fetch),this.lock=s.lock||NE,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:qr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Cz:this.lock=NE,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:ru()?this.storage=xz:(this.memoryStorage={},this.storage=OE(this.memoryStorage)):(this.memoryStorage={},this.storage=OE(this.memoryStorage)),qr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${dk}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=rz(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),qr()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),G3(i)){const a=(e=i.details)===null||e===void 0?void 0:e.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return xe(n)?{error:n}:{error:new fk("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:$s}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(i){if(xe(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:g}=e;let _=null,E=null;this.flowType==="pkce"&&([_,E]=await Na(this.storage,this.storageKey)),i=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:d,password:h,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:_,code_challenge_method:E},xform:$s})}else if("phone"in e){const{phone:d,password:h,options:g}=e;i=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(s=g==null?void 0:g.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:$s})}else throw new nh("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(i){if(xe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:l}=e;n=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:jE})}else if("phone"in e){const{phone:i,password:o,options:l}=e;n=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:jE})}else throw new nh("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new th}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(xe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,l,a,c,d,h,g,_;let E,S;if("message"in e)E=e.message,S=e.signature;else{const{chain:C,wallet:I,statement:w,options:T}=e;let O;if(qr())if(typeof I=="object")O=I;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))O=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof I!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=I}const M=new URL((n=T==null?void 0:T.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in O&&O.signIn){const R=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T==null?void 0:T.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),w?{statement:w}:null));let x;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")x=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)x=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in x&&"signature"in x&&(typeof x.signedMessage=="string"||x.signedMessage instanceof Uint8Array)&&x.signature instanceof Uint8Array)E=typeof x.signedMessage=="string"?x.signedMessage:new TextDecoder().decode(x.signedMessage),S=x.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${M.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(s=(r=T==null?void 0:T.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=T==null?void 0:T.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((o=T==null?void 0:T.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((l=T==null?void 0:T.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((a=T==null?void 0:T.signInWithSolana)===null||a===void 0)&&a.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((c=T==null?void 0:T.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((h=(d=T==null?void 0:T.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...T.signInWithSolana.resources.map(x=>`- ${x}`)]:[]].join(`
`);const R=await O.signMessage(new TextEncoder().encode(E),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=R}}try{const{data:C,error:I}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:ez(S)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:$s});if(I)throw I;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new th}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:I})}catch(C){if(xe(C))return{data:{user:null,session:null},error:C};throw C}}async _exchangeCodeForSession(e){const n=await sh(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:$s});if(await ih(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new th}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(xe(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,l=await Re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:$s}),{data:a,error:c}=l;return c?{data:{user:null,session:null},error:c}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new th}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:c})}catch(n){if(xe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:l,options:a}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Na(this.storage,this.storageKey));const{error:h}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=a==null?void 0:a.data)!==null&&n!==void 0?n:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:a}=e,{data:c,error:d}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=a==null?void 0:a.data)!==null&&s!==void 0?s:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new nh("You must provide either an email or phone number.")}catch(l){if(xe(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await Re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:$s});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,c=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(s){if(xe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Na(this.storage,this.storageKey)),await Re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:wz})}catch(i){if(xe(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Pi;const{error:s}=await Re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(xe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await Re(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:l}=await Re(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new nh("You must provide either an email or phone number and a type")}catch(n){if(xe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await sh(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Mm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(a,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ui}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pi}:await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ui})})}catch(n){if(xe(n))return W3(n)&&(await this._removeSession(),await ih(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Pi;const o=s.session;let l=null,a=null;this.flowType==="pkce"&&e.email!=null&&([l,a]=await Na(this.storage,this.storageKey));const{data:c,error:d}=await Re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:Ui});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Pi;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Fm(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:a}=await this._callRefreshToken(e.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:a}=await this._getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(xe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Pi;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(xe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!qr())throw new rh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new rh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new xE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new rh("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new xE("No code detected.");const{data:w,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:a,token_type:c}=e;if(!i||!l||!o||!c)throw new rh("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let g=d+h;a&&(g=parseInt(a));const _=g-d;_*1e3<=$a&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${h}s`);const E=g-h;d-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,g,d):d-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,g,d);const{data:S,error:C}=await this._getUser(i);if(C)throw C;const I={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:g,refresh_token:o,token_type:c,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:I,redirectType:e.type},error:null}}catch(r){if(xe(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await sh(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(H3(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await ih(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=nz(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Na(this.storage,this.storageKey,!0));try{return await Re(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(xe(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,a,c,d;const{data:h,error:g}=i;if(g)throw g;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await Re(this.fetch,"GET",_,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return qr()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(xe(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await Re(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await oz(async s=>(s>0&&await iz(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:$s})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Vm(i)&&Date.now()+o-r<$a})}catch(r){if(this._debug(n,"error",r),xe(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),qr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await sh(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Mm;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Mm}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),Vm(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Pi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ip;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Pi;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),xe(i)){const o={session:null,error:i};return Vm(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(a){i.push(a)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await gk(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await ih(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&qr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),$a);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/$a);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${$a}ms, refresh threshold is ${y_} ticks`),s<=y_&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof _k)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Na(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Re(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:c}=await Re(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await Re(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(xe(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Re(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(xe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Fm(s.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+z3>Date.now()))return r;const{data:s,error:i}=await Re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new nu("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===e),!r)throw new nu("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:_,error:E}=await this.getSession();if(E||!_.session)return{data:null,error:E};r=_.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:a}}=Fm(r);if(fz(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:_}=await this.getUser(r);if(_)throw _;return{data:{claims:i,header:s,signature:o},error:null}}const c=pz(s.alg),d=await this.fetchJwk(s.kid,n),h=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,Z3(`${l}.${a}`)))throw new nu("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}}}Lu.nextInstanceID=0;const Rz=Lu;class jz extends Rz{constructor(e){super(e)}}var Oz=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};class Nz{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=M3(e),a=new URL(l);this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const c=`sb-${a.hostname.split(".")[0]}-auth-token`,d={db:C3,realtime:R3,auth:Object.assign(Object.assign({},P3),{storageKey:c}),global:k3},h=V3(r??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(g,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=D3(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new JB(new URL("rest/v1",a).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new AB(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new I3(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Oz(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:l,debug:a},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new jz({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:l,debug:a,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new h3(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Dz=(t,e,n)=>new Nz(t,e,n),Lz="https://tilyikrjfydofqprandn.supabase.co",Mz="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRpbHlpa3JqZnlkb2ZxcHJhbmRuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTEzMzU3NzksImV4cCI6MjA2NjkxMTc3OX0.dATkafpW2h3BF59iipyHtb8SQQaIqu_I5gycuHu15_k",qy=Dz(Lz,Mz);function Vz(){const{grade:t,term:e,year:n}=nn(),[r,s]=L.useState([]),[i,o]=L.useState(!0),[l,a]=L.useState(!1),c=bt(),{pathname:d}=dr();return L.useEffect(()=>{async function h(g,_,E){g=g.split("_")[1],_=_.split("_")[1];try{o(!0),a(!1);const{data:S,error:C}=await qy.from("degrees").select("student_id, name, seat_number, total_degree, rank").eq("grade",g).eq("term",_).eq("year",E).order("rank",{ascending:!0});S!=null&&S.length||a(!0),s(S),o(!1)}catch(S){console.log(S),a(!0)}}t&&e&&n&&h(t,e,n)},[d]),i?f.jsx(Ot,{}):l?f.jsx("main",{children:f.jsx("h2",{className:"text-center py-5",children:"    .    ."})}):f.jsxs("main",{children:[f.jsxs(mn,{fontSize:3,py:3,children:["  ",Tt(t)," - ",Tt(e)," - ",n==null?void 0:n.split("_").join("/"),"."]}),f.jsx(Vy,{studentsCount:r.length}),f.jsxs("div",{className:"table-responsive border mt-2",children:[f.jsxs("table",{className:"table table-striped table-bordered",children:[f.jsx(My,{}),f.jsx("tbody",{children:r.map(h=>{const g=h.name==="   ";return console.log(g&&h.seat_number),f.jsxs("tr",{className:"degree_tr-linked",onClick:()=>{!g&&c(`/students/${h.student_id}`)},children:[f.jsx("th",{scope:"row",className:"text-center",children:h.rank}),f.jsx("td",{className:"text-center",children:g?"":h.seat_number}),f.jsx("td",{style:{whiteSpace:"nowrap"},children:g?"":h.name}),f.jsx("td",{className:"text-center",children:h.total_degree.total}),f.jsxs("td",{className:"text-center",children:["%",h.total_degree.percentage]})]},h.seat_number)})})]}),i&&f.jsx(Ot,{})]})]})}function Fz(){const{grade:t}=nn(),[e,n]=L.useState([]),[r,s]=L.useState(!0),[i,o]=L.useState(!1);return L.useEffect(()=>{async function l(){try{const c=await(await fetch(`${di}/darelom-students-data/degrees/temp/${t}_term_2.json`)).json();console.log(c),n(c),s(!1)}catch{o(!0)}}l()},[t]),r?f.jsx(Ot,{}):i?f.jsx("main",{children:f.jsx("h2",{className:"text-center py-5",children:"    .    ."})}):f.jsxs("main",{children:[f.jsxs(mn,{fontSize:3,py:3,children:["  ",Tt(t)," -    - 2025."]}),f.jsx(Vy,{studentsCount:e.length}),f.jsxs("div",{className:"table-responsive border mt-2",children:[f.jsxs("table",{className:"table table-striped table-bordered",children:[f.jsx(My,{}),f.jsx("tbody",{children:e.map(l=>{const a=l.student_name==="   ";return console.log(a&&l.student_seatnumber),f.jsxs("tr",{className:"degree_tr-linked",children:[f.jsx("th",{scope:"row",className:"text-center",children:l.rank}),f.jsx("td",{className:"text-center",children:a?"":l.student_seatnumber}),f.jsx("td",{style:{whiteSpace:"nowrap"},children:a?"":l.student_name}),f.jsx("td",{className:"text-center",children:l.total_degree}),f.jsxs("td",{className:"text-center",children:["%",(l.total_degree*100/800).toFixed(2)]})]},l.student_seatnumber)})})]}),r&&f.jsx(Ot,{})]})]})}const $z=({subject:t,student:e,index:n})=>{const r=e.degrees[n],s=r>=50?"bg-success":"bg-danger";return f.jsxs("tr",{children:[f.jsx("th",{scope:"row",children:t.name},n),f.jsx("td",{className:`text-center text-light ${s}`,children:r})]})},Uz=()=>{},Bz=({title:t,value:e})=>f.jsxs("h4",{className:"mb-1",children:[f.jsxs("span",{className:"fw-bold text-primary",children:[t,": "]}),f.jsxs("span",{children:[e,"."]})]}),zz=({student:t})=>{const e=[{title:"",value:t.name},{title:" ",value:t.id},{title:"",value:t.rank},{title:"",value:t.total_grade}];return f.jsx("div",{children:e.map((n,r)=>f.jsx(Bz,{title:n.title,value:n.value},r))})};async function qz(t,e,n,r){const i=await(await fetch(`${di}/darelom-students-data/degrees/${e}/degrees_${t}.json`)).json();let o;return i.degrees.forEach(l=>{l.id==n&&(o=l)}),r(i.subjects),o}const Hz=()=>{const{grade:t,year:e,studentId:n}=nn(),[r,s]=L.useState({}),[i,o]=L.useState([]),[l,a]=L.useState(!0);return L.useEffect(()=>{async function c(){let d;d=await qz(t,e,n,o),s(d),a(!1)}c()},[]),(r==null?void 0:r.name)==="   "?f.jsx("h2",{className:"text-center py-4",children:"   ."}):f.jsxs(f.Fragment,{children:[f.jsx(mn,{fontSize:3,children:" "}),l?f.jsx(Ot,{}):f.jsxs("div",{className:"mt-3",children:[f.jsx(zz,{student:r}),f.jsxs("table",{className:"table table-striped border table-bordered mt-4",children:[f.jsx(Uz,{}),f.jsx("tbody",{children:i.map((c,d)=>f.jsx($z,{subject:c,student:r,index:d},d))})]})]})]})},Wz=()=>f.jsxs("div",{className:"min-vh-100 d-flex flex-column gap-4 justify-content-center align-items-center",children:[f.jsx("h1",{children:"  ."}),f.jsx(Me,{to:"/",className:"btn btn-primary",children:" "})]}),Hy=({grade:t,backFrom:e})=>{const n=bt();function r(){n("/",{state:{selections:[t,e],initialStepIndex:2}})}return f.jsx("button",{className:"btn btn-danger",onClick:r,children:""})};function Ys({text:t,color:e,widthPercentage:n,onClick:r}){return f.jsx("button",{className:`btn btn-${e||"primary"} w-${n||"100"} p-2`,onClick:r,children:t})}const vk=({pdf:t})=>{const e=bt(),[n,r]=L.useState(!1);function s(){window.location.href=`https://drive.google.com/uc?export=download&id=${t.book_gdrive_id}`}function i(){e(`/book/${t.book_gdrive_id}`,{state:{book_name:t.book_name}})}return n?f.jsxs("div",{className:"d-flex gap-2",children:[f.jsx(Ys,{text:"",color:"success",onClick:i}),f.jsx(Ys,{text:"",onClick:s}),f.jsx(Ys,{text:"",color:"danger",onClick:()=>r(!1)})]}):f.jsx(Ys,{text:t.book_name,onClick:()=>r(!0)})},ba=()=>{const t=bt();function e(){t("/")}return f.jsx("button",{className:"btn btn-danger",onClick:e,children:" "})},Gz=()=>{const{grade:t,term:e}=nn(),[n,r]=L.useState([]),[s,i]=L.useState(!0);return L.useEffect(()=>{fetch(`${di}/darelom-students-data/books/2023_24/books_${t}.json`).then(o=>o.json()).then(o=>{r(o[e]),i(!1)})},[]),f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"d-flex justify-content-between align-content-center mb-3",children:[f.jsx("h2",{children:" :"}),f.jsxs("div",{className:"d-flex gap-2",children:[f.jsx(Hy,{grade:t,backFrom:"books"}),f.jsx(ba,{})]})]}),f.jsxs(mn,{children:[Tt(t)," - ",Tt(e)]}),s?f.jsx(Ot,{}):f.jsx("div",{className:"row g-2 my-2",children:n.map((o,l)=>f.jsx("div",{className:"col-sm-6",children:f.jsx(vk,{pdf:o})},l))})]})};function Kz(){const t="btn btn-danger p-2 px-5 w-100",e=bt();function n(){e(-1)}return f.jsx("button",{className:t,onClick:n,children:""})}const Qz=({bookId:t,isIframeLoading:e,setIsIframeLoading:n})=>{const r=`https://drive.google.com/file/d/${t}/preview`,s=`${e&&"d-none"} w-100`,i={height:"500px"};function o(){n(!1)}return f.jsx("iframe",{src:r,onLoad:o,className:s,style:i})},Yz=({bookId:t})=>{const e="btn btn-primary p-2 px-5 w-100";function n(){window.location.href=`https://drive.google.com/uc?export=download&id=${t}`}return f.jsx("button",{className:e,onClick:n,children:""})},DE=({children:t})=>f.jsx("div",{className:"col-md-auto col-6",children:t}),LE=()=>{var i;const{bookId:t}=nn(),n=(i=dr().state)==null?void 0:i.book_name,[r,s]=L.useState(!0);return f.jsxs(f.Fragment,{children:[f.jsxs(mn,{children:['"',n,'".']}),f.jsxs("div",{className:"my-2 d-flex justify-content-end row gx-2",children:[f.jsx(DE,{children:f.jsx(Yz,{bookId:t})}),f.jsx(DE,{children:f.jsx(Kz,{})})]}),r&&f.jsx(Ot,{}),f.jsx(Qz,{bookId:t,isIframeLoading:r,setIsIframeLoading:s})]})},Jz=({currentQuestionIndex:t,questionsLength:e})=>{const n=t+1;return f.jsx("div",{className:"d-flex justify-content-between ",children:f.jsxs("p",{className:"mb-0",children:["",f.jsxs("span",{className:"fw-bold",children:[" ",n," "]}),"",f.jsxs("span",{className:"fw-bold",children:[" ",e]}),"."]})})},Xz=({questionText:t})=>f.jsx("h3",{className:"bg-black text-light p-2 py-3 text-center my-4 rounded-2 lh-base",children:t});function Zz({currentQuestionIndex:t,setCurrentQuestionIndex:e,setIsAnswered:n,answerButtons:r}){function s(){n(!1),e(t+1),r.forEach(i=>{i.disabled=!1,i.classList.remove("btn-danger","btn-success")})}return f.jsx(Ys,{text:"",onClick:s})}function e5({questionsLength:t,score:e}){const n=bt();function r(){n("/test_yourself/test_result",{state:{result:e,fullMark:t}})}return f.jsx(Ys,{text:" ",onClick:r})}const t5=({children:t})=>f.jsx("div",{className:"modal-header",children:f.jsx("h5",{className:"modal-title text-center w-100",children:t})}),n5=({children:t})=>f.jsx("div",{className:"modal-body pb-1",children:f.jsx("p",{className:"text-center fw-bold",children:t})}),r5=({children:t})=>f.jsx("div",{className:"modal-footer border-0 pt-0",children:t}),s5=({setIsModalOpen:t,answerReason:e})=>f.jsx("div",{className:"modal d-block bg-black bg-opacity-75",tabIndex:"-1",children:f.jsx("div",{className:"modal-dialog modal-dialog-centered",children:f.jsxs("div",{className:"modal-content",children:[f.jsx(t5,{children:'"   "'}),f.jsx(n5,{children:e||"      ."}),f.jsx(r5,{children:f.jsx(Ys,{text:"",color:"danger",onClick:()=>t(!1)})})]})})}),i5=({setIsModalOpen:t})=>f.jsx(Ys,{text:" ",onClick:()=>t(!0)});function o5(t,e,n,r,s,i,o,l){function a(){r.current.forEach(h=>{h.disabled=!0}),d.disabled=!1}n(!0);const c=r.current[i[s].question_answer],d=t.target;e==i[s].question_answer?(d.classList.add("btn-success"),o(l+1),a()):(a(),d.classList.add("btn-danger"),c.classList.add("btn-success"))}const Um=()=>{var O,M,R,x,y,k;const{grade:t,term:e,subject:n}=nn(),[r,s]=L.useState(!1),[i,o]=L.useState(((O=location.state)==null?void 0:O.currentQuestionIndex)||0),[l,a]=L.useState(0),[c,d]=L.useState([]),[h,g]=L.useState(!1),_=L.useRef([]),[E,S]=L.useState(!0),I=dr().pathname;function w(A){w1(Zu(kn,A)).then(j=>{const D=[];j.docs.forEach(N=>{D.push(N.data())}),d(D),S(!1)})}L.useEffect(()=>{I=="/test_yourself/sended_questions"?w("test_yourself/sended_questions"):I==`/${t}/${e}/${n}/test_yourself_students`?w(`${t}/test_yourself_students/questions/${e}/${n}`):fetch(`${di}/darelom-students-data/questions/test_questions.json`).then(A=>A.json()).then(A=>{d(A),S(!1)})},[]);const T=i>=c.length-1;return f.jsxs(f.Fragment,{children:[f.jsx(mn,{fontSize:"2",children:" "}),E?f.jsx(Ot,{}):c.length?f.jsxs("div",{className:"mt-2",children:[f.jsx(Jz,{currentQuestionIndex:i,questionsLength:c.length,creatorName:(R=(M=c[i])==null?void 0:M.question_creator)==null?void 0:R.name}),f.jsx(Xz,{questionText:(x=c[i])==null?void 0:x.question_text}),f.jsx("div",{className:"row g-2",children:(y=c[i])==null?void 0:y.question_options.map((A,j)=>f.jsx("div",{className:"col-sm-6",children:f.jsx("button",{className:"btn btn-primary w-100 p-2",ref:D=>_.current[j]=D,onClick:D=>o5(D,j,s,_,i,c,a,l),children:A})},j))}),f.jsx("hr",{}),f.jsxs("div",{className:"mt-3 d-flex gap-2",children:[r&&T?f.jsx(e5,{questionsLength:c.length,score:l}):r&&!T&&f.jsx(Zz,{currentQuestionIndex:i,setCurrentQuestionIndex:o,setIsAnswered:s,answerButtons:_.current}),r&&f.jsx(i5,{setIsModalOpen:g})]}),h&&f.jsx(s5,{setIsModalOpen:g,answerReason:(k=c[i])==null?void 0:k.answer_reason})]}):f.jsx("p",{className:"text-center fs-2 fw-bold my-2",children:"   ."})]})},a5=()=>{const t=dr(),{result:e,fullMark:n}=t.state;return f.jsxs(f.Fragment,{children:[f.jsx("h2",{children:" :"}),f.jsxs("p",{className:"text-center fs-1",children:[f.jsxs("span",{className:"fw-bold",children:[e," "]}),"",f.jsxs("span",{className:"fw-bold",children:[" ",n]}),"."]})]})},l5=()=>{const t=bt(),{grade:e,term:n}=nn(),[r,s]=L.useState([]),[i,o]=L.useState(!0);return L.useEffect(()=>{async function l(){var d;const c=(d=(await ci(rs(kn,`${e}/test_yourself_students/questions`,n))).data())==null?void 0:d.subjects;s(c),o(!1)}l()},[]),f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"d-flex justify-content-between align-content-center",children:[f.jsx("h2",{children:" :"}),f.jsxs("div",{className:"d-flex gap-2",children:[f.jsx(Hy,{grade:e,backFrom:"test_yourself_students"}),f.jsx(ba,{})]})]}),i?f.jsx(Ot,{}):f.jsx("div",{className:"row g-2 my-2",children:r==null?void 0:r.map((l,a)=>f.jsx("div",{className:"col-sm-6",children:f.jsx("button",{className:"btn btn-primary w-100",onClick:()=>t(`/${e}/${n}/${l}/test_yourself_students`),children:Tt(l)})},a))})]})},c5=()=>f.jsxs("div",{className:"row g-2",children:[f.jsx("div",{className:"col-sm-6",children:f.jsx(Me,{to:"term_1",className:"btn btn-primary w-100",children:"  "})}),f.jsx("div",{className:"col-sm-6",children:f.jsx(Me,{to:"term_2",className:"btn btn-primary w-100",children:"  "})})]}),u5=()=>{const t=bt(),[e,n]=L.useState(!0),{grade:r,term:s}=nn(),[i,o]=L.useState([]);return L.useEffect(()=>{ci(rs(kn,`${r}/test_yourself_students/questions/${s}`)).then(l=>{o(l.data().subjects),n(!1)})},[]),f.jsx(f.Fragment,{children:e?f.jsx(Ot,{}):f.jsx("div",{className:"row g-2",children:i.map((l,a)=>f.jsx("div",{className:"col-sm-6",children:f.jsx("button",{className:"btn btn-primary w-100 p-2",onClick:()=>t(`/${r}/${s}/${l}/send_question`),children:Tt(l)})},a))})})},yk=({formRef:t,children:e})=>f.jsx("form",{className:"mx-auto mt-3 needs-validation",noValidate:!0,style:{maxWidth:"480px"},ref:t,children:e}),er=({field:t,marginBottom:e=3})=>f.jsx("div",{className:`mb-${e}`,children:t}),wk=()=>f.jsxs(f.Fragment,{children:[f.jsx("label",{htmlFor:"email-input",className:"form-label fw-bold",children:" :"}),f.jsx("input",{type:"email",className:"form-control",pattern:"^[^@]+@[^@]+\\.[^@]{2,}$",id:"email-input",placeholder:"folan.alfolany@gmail.com","aria-describedby":"emailHelp",required:!0}),f.jsx("div",{className:"invalid-feedback",children:"    ."})]}),bk=()=>f.jsxs(f.Fragment,{children:[f.jsx("label",{htmlFor:"password-input",className:"form-label fw-bold",children:" :"}),f.jsx("input",{type:"password",placeholder:"_____",minLength:"6",className:"form-control",id:"password-input",autoComplete:"off",required:!0}),f.jsx("div",{className:"invalid-feedback",children:"      6   ."})]}),d5=()=>f.jsxs(f.Fragment,{children:[f.jsx("label",{htmlFor:"name-input",className:"form-label fw-bold",children:":"}),f.jsx("input",{type:"text",className:"form-control",minLength:3,id:"name-input",placeholder:" ",required:!0}),f.jsx("div",{className:"invalid-feedback",children:"     3   ."})]}),h5=()=>f.jsxs(f.Fragment,{children:[f.jsx("label",{className:"fw-bold",children:" :"}),f.jsxs("select",{className:"form-select mt-2",id:"grade-input",required:!0,children:[f.jsx("option",{value:"grade_1",children:" "}),f.jsx("option",{value:"grade_2",children:" "}),f.jsx("option",{value:"grade_3",children:" "}),f.jsx("option",{value:"grade_4",children:" "})]}),f.jsx("div",{className:"invalid-feedback",children:"  ."})]}),sd=({text:t})=>f.jsx("button",{type:"submit",className:"btn btn-primary w-100 fw-bold",children:t}),xp=({label:t,placeholder:e,invalidFeedback:n,minLength:r=10,rows:s=4,fontSize:i=5,id:o="textarea-field"})=>f.jsxs(f.Fragment,{children:[f.jsx("label",{className:`fw-bold fs-${i} mb-1`,htmlFor:o,children:t}),f.jsx("textarea",{className:"form-control",id:o,rows:s,placeholder:e,minLength:r,required:!0}),f.jsx("div",{className:"invalid-feedback",children:n})]}),f5=()=>{const t=bt(),[e,n]=L.useState(!1),[r,s]=L.useState(!1),i=L.useRef(null);return L.useEffect(()=>{const o=i.current;o.addEventListener("submit",async l=>{if(l.preventDefault(),l.stopPropagation(),o.checkValidity())try{s(!0);const a=l.target["name-input"].value,c=l.target["email-input"].value,d=l.target["grade-input"].value,h=l.target["password-input"].value,g=l.target["textarea-field"].value,E=(await qO(dp,c,h)).user.uid;await wM(rs(kn,"users",E),{name:a,email:c,grade:d,uid:E,message:g,write_permission:!1}),t("/")}catch(a){console.log(a.code),n(!0)}finally{s(!1),setTimeout(()=>{n(!1)},3e3)}else o.classList.add("was-validated")})},[]),f.jsxs("div",{children:[f.jsx(mn,{children:"  "}),f.jsxs(yk,{formRef:i,children:[f.jsx(er,{field:f.jsx(d5,{})}),f.jsx(er,{field:f.jsx(wk,{})}),f.jsx(er,{field:f.jsx(h5,{})}),f.jsx(er,{field:f.jsx(xp,{placeholder:"    .",label:"    :",fontSize:6,minLength:100,invalidFeedback:"     100   ."})}),f.jsx(er,{field:f.jsx(bk,{})}),r?f.jsx(Gl,{}):f.jsx(sd,{text:"  "}),e&&f.jsx("p",{className:"text-center my-2 p-2 bg-danger text-light fw-bold",children:" ."})]})]})},oh=()=>{const t=bt(),[e,n]=L.useState(!1),[r,s]=L.useState(!1),i=L.useRef(null);return L.useEffect(()=>{const o=i.current;o.addEventListener("submit",async l=>{if(l.preventDefault(),l.stopPropagation(),o.checkValidity())try{s(!0);const a=l.target["email-input"].value,c=l.target["password-input"].value;await HO(dp,a,c),t("/")}catch(a){console.log(a.code),n(!0)}finally{s(!1),setTimeout(()=>{n(!1)},3e3)}else o.classList.add("was-validated")})},[]),f.jsxs("div",{children:[f.jsx(mn,{children:" "}),f.jsxs(yk,{formRef:i,children:[f.jsx(er,{field:f.jsx(wk,{})}),f.jsx(er,{field:f.jsx(bk,{})}),r?f.jsx(Gl,{}):f.jsx(sd,{text:" "}),e&&f.jsx("p",{className:"text-center my-2 p-2 bg-danger text-light fw-bold",children:" ."})]}),f.jsxs("p",{className:"text-center mt-2 fw-bold",children:["    ",f.jsx(Me,{to:"/signup",children:" "}),"."]})]})},Wy=({formRef:t,children:e})=>f.jsx("form",{className:"mt-3 needs-validation",noValidate:!0,ref:t,children:e}),p5=({optionsRef:t})=>{const e=["","","",""];return f.jsxs(f.Fragment,{children:[f.jsx("label",{className:"fw-bold fs-5 mb-1",children:":"}),f.jsx("div",{className:"row g-2",children:e.map((n,r)=>f.jsx("div",{className:"col-sm-6",children:f.jsx("input",{type:"text",className:"form-control",placeholder:` ${n}.`,ref:s=>t.current[r]=s,required:!0})},r))})]})},m5=()=>f.jsxs(f.Fragment,{children:[f.jsx("label",{className:"fw-bold fs-5 mb-1",children:"  :"}),f.jsxs("select",{className:"form-control",id:"options-input",children:[f.jsx("option",{value:"0",children:"1"}),f.jsx("option",{value:"1",children:"2"}),f.jsx("option",{value:"2",children:"3"}),f.jsx("option",{value:"3",children:"4"})]})]}),g5=()=>f.jsxs(f.Fragment,{children:[f.jsx("label",{className:"fw-bold fs-5 mb-1",children:":"}),f.jsx("input",{type:"text",className:"form-control",placeholder:" .",id:"answer-reason-input"})]}),_5=()=>f.jsx(xp,{placeholder:"   .",label:" :",invalidFeedback:"      10   ."}),v5=()=>{const[t,e]=L.useState(!1),[n,r]=L.useState("initial"),{grade:s,term:i,subject:o}=nn(),l=L.useRef([]),a=L.useRef(null);return L.useEffect(()=>{const c=a.current;c.addEventListener("submit",async d=>{d.preventDefault(),d.stopPropagation();const h=c["textarea-field"].value,g=[],_=Number(c["options-input"].value),E=c["answer-reason-input"].value;if(l.current.forEach(S=>{g.push(S.value)}),c.checkValidity())try{e(!0);const{name:S,uid:C}=JSON.parse(localStorage.getItem("loggedinUserInfo"));await py(Zu(kn,`${s}/test_yourself_students/questions/${i}/${o}`),{question_text:h,question_answer:_,question_options:g,answer_reason:E,question_creator:{name:S,uid:C}}),a.current.reset(),c.classList.remove("was-validated"),r("success")}catch(S){console.log(S.code),c.classList.add("was-validated"),r("failed")}finally{e(!1),setTimeout(()=>{r("initial")},3e3)}else c.classList.add("was-validated")})},[]),f.jsxs(f.Fragment,{children:[f.jsx(mn,{children:"  []"}),f.jsxs("p",{className:"text-center mt-2 fw-bold",children:[`${Tt(s)} - ${Tt(i)} - ${Tt(o)}`,"."]}),f.jsxs(Wy,{formRef:a,children:[f.jsx(er,{field:f.jsx(_5,{})}),f.jsx(er,{field:f.jsx(p5,{optionsRef:l})}),f.jsx(er,{field:f.jsx(m5,{})}),f.jsx(er,{field:f.jsx(g5,{})}),t?f.jsx(Gl,{}):f.jsx(sd,{text:" "})]}),n==="initial"?null:n==="success"?f.jsx("p",{className:"text-center my-2 p-2 bg-success text-light fw-bold",children:"  ."}):f.jsx("p",{className:"text-center my-2 p-2 bg-danger text-light fw-bold",children:" ."})]})},y5=()=>f.jsx(xp,{placeholder:"  .",label:":",invalidFeedback:"      10   .",rows:7}),w5=()=>{const[t,e]=L.useState(!1),[n,r]=L.useState("initial"),s=L.useRef(null);return L.useEffect(()=>{const i=s.current;i.addEventListener("submit",async o=>{o.preventDefault(),o.stopPropagation();const l=i["textarea-field"].value;if(i.checkValidity())try{e(!0),await py(Zu(kn,"suggestions"),{suggestion:l,timestamp:E1()}),s.current.reset(),i.classList.remove("was-validated"),r("success")}catch(a){console.log(a.code),i.classList.add("was-validated"),r("failed")}finally{e(!1),setTimeout(()=>{r("initial")},3e3)}else i.classList.add("was-validated")})},[]),f.jsxs(f.Fragment,{children:[f.jsx(mn,{children:" "}),f.jsxs(Wy,{formRef:s,children:[f.jsx(er,{field:f.jsx(y5,{})}),t?f.jsx(Gl,{}):f.jsx(sd,{text:" "})]}),n==="initial"?null:n==="success"?f.jsx("p",{className:"text-center my-2 p-2 bg-success text-light fw-bold",children:"  ."}):f.jsx("p",{className:"text-center my-2 p-2 bg-danger text-light fw-bold",children:" ."})]})},b5=()=>f.jsx(xp,{placeholder:"          .",label:":",invalidFeedback:"      10   .",rows:7}),E5=()=>{const[t,e]=L.useState(!1),[n,r]=L.useState("initial"),s=L.useRef(null);return L.useEffect(()=>{const i=s.current;i.addEventListener("submit",async o=>{o.preventDefault(),o.stopPropagation(),console.log("s");const l=i["textarea-field"].value;if(i.checkValidity())try{e(!0),await py(Zu(kn,"problems"),{problem:l,timestamp:E1()}),s.current.reset(),i.classList.remove("was-validated"),r("success")}catch(a){console.log(a.code),i.classList.add("was-validated"),r("failed")}finally{e(!1),setTimeout(()=>{r("initial")},3e3)}else i.classList.add("was-validated")})},[]),f.jsxs(f.Fragment,{children:[f.jsx(mn,{children:"  "}),f.jsxs(Wy,{formRef:s,children:[f.jsx(er,{field:f.jsx(b5,{})}),t?f.jsx(Gl,{}):f.jsx(sd,{text:" "})]}),n==="initial"?null:n==="success"?f.jsx("p",{className:"text-center my-2 p-2 bg-success text-light fw-bold",children:"  ."}):f.jsx("p",{className:"text-center my-2 p-2 bg-danger text-light fw-bold",children:" ."})]})},T5=()=>async(t,e)=>{try{const r=await(await fetch(t)).blob(),s=URL.createObjectURL(r),i=document.createElement("a");i.href=s,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(s)}catch(n){console.log(n)}},S5=()=>{const{grade:t}=nn(),[e,n]=L.useState(!1),[r,s]=L.useState(!0);let i="",o;t==="exams_schedule"?(i=`${di}/darelom-students-data/schedule/exams_schedule.jpg`,o="     2025"):(i=`${di}/darelom-students-data/schedule/${t}.jpg`,o=`  ${Tt(t)}`);const l=T5();function a(){n(!1),s(!1)}function c(){n(!0),s(!1)}return f.jsxs("div",{className:"container",children:[r?f.jsx(Ot,{}):f.jsx(f.Fragment,{children:!e&&f.jsx(f.Fragment,{children:f.jsxs("p",{className:"text-center fw-bold fs-5",children:["  ",Tt(t),"   ."]})})}),f.jsxs("div",{className:`d-${e?"block":"none"}`,children:[f.jsx("img",{src:i,className:"w-100",alt:"Schecule",onError:a,onLoad:c}),f.jsx("button",{className:"btn btn-primary w-100 mt-3",onClick:()=>l(i,o),children:" "})]})]})},I5=({grade:t,backFrom:e})=>{const n=bt();function r(){n("/",{state:{selections:[t,e],initialStepIndex:2}})}return f.jsx("button",{className:"btn btn-danger",onClick:r,children:""})},x5=()=>{const{grade:t,term:e}=nn(),[n,r]=L.useState({}),[s,i]=L.useState([]),[o,l]=L.useState(!0);return L.useEffect(()=>{ci(rs(kn,`${t}/lectures_recordings`)).then(a=>{var d;const c=(d=a.data())==null?void 0:d[e];if(c&&Object.keys(c).length){const h=Object.keys(c);if(h.includes("mojalad_tasgilat")){const g=["mojalad_tasgilat",...h.filter(_=>_!=="mojalad_tasgilat")];i(g)}else i(h);r(c)}l(!1)})},[]),f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"d-flex justify-content-between align-content-center mb-3",children:[f.jsx("h2",{children:" :"}),f.jsxs("div",{className:"d-flex gap-2",children:[f.jsx(I5,{grade:t,backFrom:"lectures_recordings"}),f.jsx(ba,{})]})]}),f.jsxs(mn,{children:[Tt(t)," - ",Tt(e)]}),o?f.jsx(Ot,{}):f.jsx(f.Fragment,{children:Object.keys(n).length?f.jsx("div",{className:"row g-2 my-2",children:s.map((a,c)=>f.jsx("div",{className:"col-sm-6",children:f.jsx(Ys,{text:Tt(a),onClick:()=>window.location.href=n[a]})},c))}):f.jsx("p",{className:"text-center fw-bold mt-4 fs-4",children:"   ."})})]})},A5=()=>{const t=bt(),{grade:e,term:n}=nn(),[r,s]=L.useState([]),[i,o]=L.useState(!0);return L.useEffect(()=>{async function l(){var d;const c=((d=(await ci(rs(kn,`${e}/more_resources/`))).data())==null?void 0:d[n])||[];s(c),o(!1)}l()},[]),f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"d-flex justify-content-between align-content-center",children:[f.jsx("h2",{children:" :"}),f.jsxs("div",{className:"d-flex gap-2",children:[f.jsx(Hy,{grade:e,backFrom:"more_resources"}),f.jsx(ba,{})]})]}),i?f.jsx(Ot,{}):f.jsx("div",{className:"row g-2 my-2",children:r!=null&&r.length?r==null?void 0:r.map((l,a)=>f.jsx("div",{className:"col-sm-6",children:f.jsx("button",{className:"btn btn-primary w-100",onClick:()=>t(`/${e}/${n}/more_resources/${l}`),children:Tt(l)})},a)):f.jsx("p",{className:"fw-bold text-center fs-3",children:"   ."})})]})},ME=()=>{const t=bt(),{grade:e,term:n,subject:r}=nn(),[s,i]=L.useState([]),[o,l]=L.useState(!0);return L.useEffect(()=>{async function a(){var h;let c;e?c=await ci(rs(kn,`${e}/more_resources/${n}/${r}`)):c=await ci(rs(kn,`general_subjects/${r}`));const d=((h=c.data())==null?void 0:h.resources)||[];i(d),l(!1)}a()},[]),f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"d-flex justify-content-between align-content-center",children:[f.jsx("h2",{children:" :"}),f.jsxs("div",{className:"d-flex gap-2",children:[f.jsx("button",{className:"btn btn-danger",onClick:()=>t(-1),children:""}),f.jsx(ba,{})]})]}),o?f.jsx(Ot,{}):f.jsx("div",{className:"row g-2 my-2",children:s!=null&&s.length?s==null?void 0:s.map((a,c)=>f.jsx("div",{className:"col-sm-6",children:f.jsx(Me,{className:"btn btn-primary w-100",to:a!=null&&a.isBook?`/book/${a.link}`:a.link,state:{book_name:a.title},children:a.title})},c)):f.jsx("p",{className:"fw-bold text-center fs-3",children:"   ."})})]})},k5=({grade:t,backFrom:e})=>{const n=bt();function r(){n("/",{state:{selections:[t,e],initialStepIndex:2}})}return f.jsx("button",{className:"btn btn-danger",onClick:r,children:""})},C5=()=>{const[t,e]=L.useState(!1),{grade:n,term:r}=nn(),[s,i]=L.useState([]),[o,l]=L.useState(!0);return L.useEffect(()=>{fetch(`${di}/darelom-students-data/final_exams/final_exams_${n}.json`).then(a=>a.json()).then(a=>{a[r].length?(i(a[r]),l(!1)):t(!0)}).catch(a=>{e(!0)})},[]),f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"d-flex justify-content-between align-content-center mb-3",children:[f.jsx("h2",{children:" :"}),f.jsxs("div",{className:"d-flex gap-2",children:[f.jsx(k5,{grade:n,backFrom:"final_exams"}),f.jsx(ba,{})]})]}),f.jsxs(mn,{children:[Tt(n)," - ",Tt(r)]}),t?f.jsx("p",{className:"fw-bold text-center fs-4 mt-4",children:"   ."}):o?f.jsx(Ot,{}):f.jsx("div",{className:"row g-2 my-2",children:s.map((a,c)=>f.jsx("div",{className:"col-sm-6",children:f.jsx(vk,{pdf:a})},c))})]})},P5=()=>{const t=bt(),[e,n]=L.useState([]),[r,s]=L.useState(!0);return L.useEffect(()=>{async function i(){var a;const l=(a=(await ci(rs(kn,"general_subjects","subjects"))).data())==null?void 0:a.ids;n(l),s(!1)}i()},[]),f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"d-flex justify-content-between align-content-center",children:[f.jsx("h2",{children:" :"}),f.jsx("div",{className:"d-flex gap-2",children:f.jsx(ba,{})})]}),r?f.jsx(Ot,{}):f.jsx("div",{className:"row g-2 my-2",children:e==null?void 0:e.map((i,o)=>f.jsx("div",{className:"col-sm-6",children:f.jsx("button",{className:"btn btn-primary w-100",onClick:()=>t(`/general_subjects/${i}`),children:Tt(i)})},o))})]})};function R5(t){let e=0,n=0;return t.map(s=>s.degrees).flat().forEach(s=>{s.isCalculatedInTotal&&(e+=s.finalDegree,s.degree.startsWith("/")?n+=Number(s.degree.slice(1)):isNaN(Number(s.degree))||(n+=Number(s.degree)))}),{max:e,total:n}}function j5(){const[t,e]=L.useState({name:"",totalDegree:{max:0,total:0},firstGradeInPlatform:2024}),[n,r]=L.useState({}),[s,i]=L.useState(!1),[o,l]=L.useState(!1),{student_id:a}=nn(),c=L.useRef(null);L.useEffect(()=>{i(!0),d()},[a]);async function d(){const{data:h,error:g}=await qy.from("degrees").select("*").eq("student_id",a).order("grade",{ascending:!0}).order("term",{ascending:!0});if(h&&h.length){e({name:h[0].name,totalDegree:R5(h),firstGradeInPlatform:h[0].grade});const _={};h.forEach(E=>{_[E.grade]||(_[E.grade]=[]),_[E.grade].push(E)}),r(_),l(!1)}else l(!0);i(!1)}return s?f.jsx(Ot,{}):o?f.jsxs("main",{children:[f.jsxs("div",{className:"alert alert-danger text-center my-5",children:["         .   "," ",f.jsx("button",{type:"button",className:"text-decoration-underline p-0 m-0 align-baseline",style:{color:"rgb(110 168 254)",fontSize:"1em",verticalAlign:"middle",background:"none",border:"none"},"data-bs-toggle":"modal","data-bs-target":"#idInfoModal",tabIndex:0,"aria-label":"   ",children:" "}),"  ",f.jsx(Me,{to:"/send_problem",children:"  "}),".   "," ",f.jsx(Me,{to:"/find_student",children:"   "}),"."]}),f.jsx("div",{className:"modal fade",id:"idInfoModal",tabIndex:-1,"aria-labelledby":"idInfoModalLabel","aria-hidden":"true",children:f.jsx("div",{className:"modal-dialog",children:f.jsxs("div",{className:"modal-content",children:[f.jsx("div",{className:"modal-header",children:f.jsx("h5",{className:"modal-title",id:"idInfoModalLabel",children:"   "})}),f.jsxs("div",{className:"modal-body text-end",children:["          +     --:",f.jsx("br",{}),f.jsx("br",{}),'-         2024   : "12345"   : "123452024".',f.jsx("br",{}),f.jsx("br",{}),'-            : "34567"     2025   : "345672025".',f.jsx("br",{}),f.jsx("br",{}),'-         2024                          "34567"    "345672024".']}),f.jsx("div",{className:"modal-footer",children:f.jsx("button",{type:"button",className:"btn btn-danger w-100","data-bs-dismiss":"modal",children:""})})]})})})]}):a==="201252024"?f.jsx("h2",{className:"text-center py-4",children:"   ."}):f.jsxs("main",{children:[f.jsxs("section",{className:"d-grid gap-1",children:[t.firstGradeInPlatform>1&&f.jsxs("span",{className:"fs-6 text-danger mb-3",children:["*      ",Tt(`grade_${t.firstGradeInPlatform}`),"."]}),f.jsxs("h4",{className:"mb-1",children:[f.jsx("span",{className:"fw-bold text-primary",children:": "}),f.jsxs("span",{children:[t.name,"."]})]}),f.jsxs("h4",{className:"mb-1",children:[f.jsx("span",{className:"fw-bold text-primary",children:" : "}),f.jsxs("span",{children:[a,"."]})]}),f.jsxs("h4",{className:"mb-1",children:[f.jsx("span",{className:"fw-bold text-primary",children:" : "}),f.jsxs("span",{className:"fs-5",children:[t.totalDegree.total,"/",t.totalDegree.max," ",f.jsxs("span",{className:"fs-6",children:["(",(t.totalDegree.total*100/t.totalDegree.max).toFixed(2),"%)."]})]})]})]}),f.jsx("div",{className:"accordion mt-4",id:"gradesAccordion",ref:c,children:Object.entries(n).map(([h,g],_)=>f.jsxs("div",{className:"accordion-item",children:[f.jsx("h2",{className:"accordion-header",id:`heading${h}`,children:f.jsx("button",{className:`accordion-button ${_!==0?"collapsed":""}`,type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse${h}`,"aria-expanded":_===0,"aria-controls":`collapse${h}`,children:Tt(`grade_${h}`)})}),f.jsx("div",{id:`collapse${h}`,className:`accordion-collapse collapse ${_===0?"show":""}`,"aria-labelledby":`heading${h}`,"data-bs-parent":"#gradesAccordion",children:f.jsx("div",{className:"accordion-body",children:g.map(E=>f.jsx("div",{className:"mb-4",children:f.jsxs("div",{className:"table-responsive border-secondary-subtle rounded-2 py-1 my-0 ",children:[f.jsxs("div",{className:"mb-4",children:[f.jsxs("h4",{className:"mb-1 fs-5",children:[f.jsx("span",{className:"fw-bold text-primary",children:" : "}),f.jsxs("span",{children:[E.term,"."]})]}),f.jsxs("h4",{className:"mb-1 fs-5",children:[f.jsx("span",{className:"fw-bold text-primary",children:" : "}),f.jsxs("span",{children:[E.year,"."]})]}),f.jsxs("h4",{className:"mb-1 fs-5",children:[f.jsx("span",{className:"fw-bold text-primary",children:": "}),f.jsxs("span",{className:"fs-5",children:[E.total_degree.total," ",f.jsxs("span",{className:"fs-6",children:["(",E.total_degree.percentage,"%)"]}),"."]})]}),f.jsxs("h4",{className:"mb-1 fs-5",children:[f.jsx("span",{className:"fw-bold text-primary",children:": "}),f.jsxs("span",{className:"fs-5",children:[E.rank,"#."]})]})]}),f.jsxs("table",{className:"table table-striped border",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{className:"bg-dark text-white border-start py-2",children:""}),f.jsx("th",{className:"text-center bg-dark text-white py-2",children:""})]})}),f.jsx("tbody",{children:E.degrees.map((S,C)=>{const I=S.name||S.id;let w=S.degree;typeof w=="string"&&w.startsWith("/")&&(w=w.slice(1));const O=parseInt(w,10)>=50?"text-bg-success":"text-bg-danger";return f.jsxs("tr",{children:[f.jsx("td",{className:"fw-bold",children:I}),f.jsx("td",{className:`${O} text-center`,children:w})]},C)})})]})]})},E.term))})})]},h))})]})}function O5(){const[t,e]=L.useState(""),[n,r]=L.useState(!1),[s,i]=L.useState(null),o=bt(),l=async a=>{if(a.preventDefault(),r(!0),i(null),!/^\d{9}$/.test(t)){i("      9  ."),r(!1);return}try{const c=parseInt(t,10),{data:d,error:h}=await qy.from("degrees").select("student_id").eq("student_id",c).limit(1);if(h)throw h;d&&d.length>0?o(`/students/${c}`):i("    .        .")}catch(c){i("   .    ."),console.error("Error searching for student:",c)}finally{r(!1)}};return f.jsx("main",{className:"container",children:f.jsx("div",{className:"row justify-content-center",children:f.jsx("div",{children:f.jsx("div",{className:" shadow-sm",children:f.jsxs("div",{className:"card-body",children:[f.jsx(mn,{children:"   "}),f.jsxs("form",{onSubmit:l,className:"col-md-6 mx-auto",children:[f.jsxs("div",{className:"my-3",children:[f.jsxs("label",{htmlFor:"studentId",className:"form-label d-flex align-items-center gap-1",children:[" :",f.jsx("button",{type:"button",className:"btn btn-sm",style:{fontSize:"1.2em",verticalAlign:"middle",padding:0,lineHeight:1},"data-bs-toggle":"modal","data-bs-target":"#idInfoModal",tabIndex:-1,"aria-label":"   ",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-6",style:{width:"25px",height:"25px",transform:"scaleX(-1)"},children:f.jsx("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm11.378-3.917c-.89-.777-2.366-.777-3.255 0a.75.75 0 0 1-.988-1.129c1.454-1.272 3.776-1.272 5.23 0 1.513 1.324 1.513 3.518 0 4.842a3.75 3.75 0 0 1-.837.552c-.676.328-1.028.774-1.028 1.152v.75a.75.75 0 0 1-1.5 0v-.75c0-1.279 1.06-2.107 1.875-2.502.182-.088.351-.199.503-.331.83-.727.83-1.857 0-2.584ZM12 18a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"})})})]}),f.jsx("div",{className:"modal fade",id:"idInfoModal",tabIndex:-1,"aria-labelledby":"idInfoModalLabel","aria-hidden":"true",children:f.jsx("div",{className:"modal-dialog",children:f.jsxs("div",{className:"modal-content",children:[f.jsx("div",{className:"modal-header",children:f.jsx("h5",{className:"modal-title",id:"idInfoModalLabel",children:"   "})}),f.jsxs("div",{className:"modal-body",children:["          +     --:",f.jsx("br",{}),f.jsx("br",{}),'-         2024   : "12345"   : "123452024".',f.jsx("br",{}),f.jsx("br",{}),'-            : "34567"     2025   : "345672025".',f.jsx("br",{}),f.jsx("br",{}),'-         2024                          "34567"    "345672024".']}),f.jsx("div",{className:"modal-footer",children:f.jsx("button",{type:"button",className:"btn btn-danger w-100","data-bs-dismiss":"modal",children:""})})]})})}),f.jsx("input",{type:"number",className:"form-control",id:"studentId",placeholder:"123456789",value:t,onChange:a=>{a.target.value.length<=9&&e(a.target.value)},required:!0})]}),s&&f.jsx("div",{className:"alert alert-danger",children:s}),f.jsx("button",{type:"submit",className:"btn btn-primary w-100",disabled:n,children:n?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),f.jsx("span",{className:"visually-hidden",children:"Loading..."})]}):""})]})]})})})})})}function N5(){const t=[{grade:"",subjects_analytics:[{subject_name:"   ()",subject_students:{subject_students_count:346,subject_succeed_students_count:299,subject_succeed_students_percentage:"86.42"},subject_degree:{total_degree:26406,average_degree:"76.32"}},{subject_name:" :  ",subject_students:{subject_students_count:346,subject_succeed_students_count:317,subject_succeed_students_percentage:"91.62"},subject_degree:{total_degree:24928,average_degree:"72.05"}},{subject_name:"1",subject_students:{subject_students_count:346,subject_succeed_students_count:250,subject_succeed_students_percentage:"72.25"},subject_degree:{total_degree:19882,average_degree:"57.46"}},{subject_name:" ",subject_students:{subject_students_count:346,subject_succeed_students_count:274,subject_succeed_students_percentage:"79.19"},subject_degree:{total_degree:22485,average_degree:"64.99"}},{subject_name:"   ",subject_students:{subject_students_count:346,subject_succeed_students_count:258,subject_succeed_students_percentage:"74.57"},subject_degree:{total_degree:19005,average_degree:"54.93"}},{subject_name:"   ",subject_students:{subject_students_count:346,subject_succeed_students_count:264,subject_succeed_students_percentage:"76.30"},subject_degree:{total_degree:19667,average_degree:"56.84"}},{subject_name:" ",subject_students:{subject_students_count:346,subject_succeed_students_count:289,subject_succeed_students_percentage:"83.53"},subject_degree:{total_degree:22193,average_degree:"64.14"}},{subject_name:"  ",subject_students:{subject_students_count:346,subject_succeed_students_count:259,subject_succeed_students_percentage:"74.86"},subject_degree:{total_degree:19279,average_degree:"55.72"}},{subject_name:" ",subject_students:{subject_students_count:346,subject_succeed_students_count:303,subject_succeed_students_percentage:"87.57"},subject_degree:{total_degree:23283,average_degree:"67.29"}},{subject_name:"  ",subject_students:{subject_students_count:346,subject_succeed_students_count:255,subject_succeed_students_percentage:"73.70"},subject_degree:{total_degree:18583,average_degree:"53.71"}},{subject_name:"   ",subject_students:{subject_students_count:346,subject_succeed_students_count:267,subject_succeed_students_percentage:"77.17"},subject_degree:{total_degree:20323,average_degree:"58.74"}},{subject_name:"   ",subject_students:{subject_students_count:346,subject_succeed_students_count:269,subject_succeed_students_percentage:"77.75"},subject_degree:{total_degree:18783,average_degree:"54.29"}},{subject_name:" ",subject_students:{subject_students_count:346,subject_succeed_students_count:286,subject_succeed_students_percentage:"82.66"},subject_degree:{total_degree:22399,average_degree:"64.74"}},{subject_name:" ",subject_students:{subject_students_count:346,subject_succeed_students_count:263,subject_succeed_students_percentage:"76.01"},subject_degree:{total_degree:20155,average_degree:"58.25"}}]},{grade:"",subjects_analytics:[{subject_name:"   ( )",subject_students:{subject_students_count:435,subject_succeed_students_count:403,subject_succeed_students_percentage:"92.64"},subject_degree:{total_degree:31282,average_degree:"71.91"}},{subject_name:" ",subject_students:{subject_students_count:435,subject_succeed_students_count:425,subject_succeed_students_percentage:"97.70"},subject_degree:{total_degree:31332,average_degree:"72.03"}},{subject_name:"2",subject_students:{subject_students_count:435,subject_succeed_students_count:353,subject_succeed_students_percentage:"81.15"},subject_degree:{total_degree:25644,average_degree:"58.95"}},{subject_name:" ",subject_students:{subject_students_count:435,subject_succeed_students_count:412,subject_succeed_students_percentage:"94.71"},subject_degree:{total_degree:34904,average_degree:"80.24"}},{subject_name:"      ",subject_students:{subject_students_count:435,subject_succeed_students_count:357,subject_succeed_students_percentage:"82.07"},subject_degree:{total_degree:25122,average_degree:"57.75"}},{subject_name:"  ",subject_students:{subject_students_count:435,subject_succeed_students_count:376,subject_succeed_students_percentage:"86.44"},subject_degree:{total_degree:28866,average_degree:"66.36"}},{subject_name:"  ",subject_students:{subject_students_count:435,subject_succeed_students_count:406,subject_succeed_students_percentage:"93.33"},subject_degree:{total_degree:32239,average_degree:"74.11"}},{subject_name:" ",subject_students:{subject_students_count:435,subject_succeed_students_count:366,subject_succeed_students_percentage:"84.14"},subject_degree:{total_degree:26398,average_degree:"60.69"}},{subject_name:"   ",subject_students:{subject_students_count:435,subject_succeed_students_count:363,subject_succeed_students_percentage:"83.45"},subject_degree:{total_degree:24676,average_degree:"56.73"}},{subject_name:"   ",subject_students:{subject_students_count:435,subject_succeed_students_count:396,subject_succeed_students_percentage:"91.03"},subject_degree:{total_degree:28663,average_degree:"65.89"}},{subject_name:"    ",subject_students:{subject_students_count:435,subject_succeed_students_count:374,subject_succeed_students_percentage:"85.98"},subject_degree:{total_degree:25702,average_degree:"59.09"}},{subject_name:"  ",subject_students:{subject_students_count:435,subject_succeed_students_count:401,subject_succeed_students_percentage:"92.18"},subject_degree:{total_degree:31956,average_degree:"73.46"}},{subject_name:" ",subject_students:{subject_students_count:435,subject_succeed_students_count:381,subject_succeed_students_percentage:"87.59"},subject_degree:{total_degree:29567,average_degree:"67.97"}},{subject_name:" 1",subject_students:{subject_students_count:435,subject_succeed_students_count:358,subject_succeed_students_percentage:"82.30"},subject_degree:{total_degree:26885,average_degree:"61.80"}},{subject_name:" ",subject_students:{subject_students_count:435,subject_succeed_students_count:378,subject_succeed_students_percentage:"86.90"},subject_degree:{total_degree:27527,average_degree:"63.28"}}]},{grade:"",subjects_analytics:[{subject_name:" / ",subject_students:{subject_students_count:612,subject_succeed_students_count:414,subject_succeed_students_percentage:"67.65"},subject_degree:{total_degree:33216,average_degree:"54.27"}},{subject_name:" ",subject_students:{subject_students_count:612,subject_succeed_students_count:463,subject_succeed_students_percentage:"75.65"},subject_degree:{total_degree:36086,average_degree:"58.96"}},{subject_name:"  ( )",subject_students:{subject_students_count:575,subject_succeed_students_count:490,subject_succeed_students_percentage:"85.22"},subject_degree:{total_degree:40473,average_degree:"70.39"}},{subject_name:" ",subject_students:{subject_students_count:367,subject_succeed_students_count:356,subject_succeed_students_percentage:"97.00"},subject_degree:{total_degree:26718,average_degree:"72.80"}},{subject_name:"3",subject_students:{subject_students_count:612,subject_succeed_students_count:407,subject_succeed_students_percentage:"66.50"},subject_degree:{total_degree:29667,average_degree:"48.48"}},{subject_name:" 2",subject_students:{subject_students_count:612,subject_succeed_students_count:410,subject_succeed_students_percentage:"66.99"},subject_degree:{total_degree:30766,average_degree:"50.27"}},{subject_name:"  ",subject_students:{subject_students_count:612,subject_succeed_students_count:415,subject_succeed_students_percentage:"67.81"},subject_degree:{total_degree:30677,average_degree:"50.13"}},{subject_name:"     ",subject_students:{subject_students_count:612,subject_succeed_students_count:438,subject_succeed_students_percentage:"71.57"},subject_degree:{total_degree:36515,average_degree:"59.67"}},{subject_name:"    ",subject_students:{subject_students_count:575,subject_succeed_students_count:433,subject_succeed_students_percentage:"75.30"},subject_degree:{total_degree:30442,average_degree:"52.94"}},{subject_name:"   ",subject_students:{subject_students_count:612,subject_succeed_students_count:426,subject_succeed_students_percentage:"69.61"},subject_degree:{total_degree:31450,average_degree:"51.39"}},{subject_name:"  ",subject_students:{subject_students_count:612,subject_succeed_students_count:448,subject_succeed_students_percentage:"73.20"},subject_degree:{total_degree:34668,average_degree:"56.65"}},{subject_name:" ",subject_students:{subject_students_count:612,subject_succeed_students_count:447,subject_succeed_students_percentage:"73.04"},subject_degree:{total_degree:32153,average_degree:"52.54"}},{subject_name:"   ",subject_students:{subject_students_count:612,subject_succeed_students_count:423,subject_succeed_students_percentage:"69.12"},subject_degree:{total_degree:29500,average_degree:"48.20"}},{subject_name:"    ",subject_students:{subject_students_count:612,subject_succeed_students_count:410,subject_succeed_students_percentage:"66.99"},subject_degree:{total_degree:28216,average_degree:"46.10"}},{subject_name:" ",subject_students:{subject_students_count:612,subject_succeed_students_count:495,subject_succeed_students_percentage:"80.88"},subject_degree:{total_degree:40195,average_degree:"65.68"}}]},{grade:"",subjects_analytics:[{subject_name:"4",subject_students:{subject_students_count:1030,subject_succeed_students_count:558,subject_succeed_students_percentage:"54.17"},subject_degree:{total_degree:42274,average_degree:"41.04"}},{subject_name:"   4",subject_students:{subject_students_count:789,subject_succeed_students_count:670,subject_succeed_students_percentage:"84.92"},subject_degree:{total_degree:46817,average_degree:"59.34"}},{subject_name:" ",subject_students:{subject_students_count:1030,subject_succeed_students_count:532,subject_succeed_students_percentage:"51.65"},subject_degree:{total_degree:40616,average_degree:"39.43"}},{subject_name:"     ",subject_students:{subject_students_count:789,subject_succeed_students_count:561,subject_succeed_students_percentage:"71.10"},subject_degree:{total_degree:40812,average_degree:"51.73"}},{subject_name:"  ",subject_students:{subject_students_count:1030,subject_succeed_students_count:567,subject_succeed_students_percentage:"55.05"},subject_degree:{total_degree:41078,average_degree:"39.88"}},{subject_name:"  . ",subject_students:{subject_students_count:1030,subject_succeed_students_count:571,subject_succeed_students_percentage:"55.44"},subject_degree:{total_degree:41444,average_degree:"40.24"}},{subject_name:"   ",subject_students:{subject_students_count:1030,subject_succeed_students_count:703,subject_succeed_students_percentage:"68.25"},subject_degree:{total_degree:49856,average_degree:"48.40"}},{subject_name:" ",subject_students:{subject_students_count:789,subject_succeed_students_count:573,subject_succeed_students_percentage:"72.62"},subject_degree:{total_degree:39914,average_degree:"50.59"}},{subject_name:" ",subject_students:{subject_students_count:789,subject_succeed_students_count:707,subject_succeed_students_percentage:"89.61"},subject_degree:{total_degree:52675,average_degree:"66.76"}},{subject_name:"  ",subject_students:{subject_students_count:1030,subject_succeed_students_count:580,subject_succeed_students_percentage:"56.31"},subject_degree:{total_degree:42662,average_degree:"41.42"}},{subject_name:" (/) ",subject_students:{subject_students_count:789,subject_succeed_students_count:645,subject_succeed_students_percentage:"81.75"},subject_degree:{total_degree:48101,average_degree:"60.96"}},{subject_name:"    ",subject_students:{subject_students_count:789,subject_succeed_students_count:564,subject_succeed_students_percentage:"71.48"},subject_degree:{total_degree:39627,average_degree:"50.22"}},{subject_name:"  ",subject_students:{subject_students_count:789,subject_succeed_students_count:602,subject_succeed_students_percentage:"76.30"},subject_degree:{total_degree:41405,average_degree:"52.48"}},{subject_name:"    ",subject_students:{subject_students_count:789,subject_succeed_students_count:696,subject_succeed_students_percentage:"88.21"},subject_degree:{total_degree:52815,average_degree:"66.94"}}]}];return f.jsxs("main",{className:" py-3",dir:"rtl",children:[f.jsxs("div",{className:"text-center mx-auto border-bottom mb-5",style:{width:"fit-content"},children:[f.jsx("h2",{className:"fs-4",children:"     2025"}),f.jsx("p",{className:"text-danger mt-1  fs-6",children:"[ ]"})]}),f.jsx("div",{children:f.jsx("p",{className:"my-4 ",style:{textAlign:"justify"},children:"-                                     ."})}),f.jsx("div",{className:"accordion",id:"gradesAccordion",children:t.map((e,n)=>f.jsxs("div",{className:"accordion-item mb-3 border",children:[f.jsx("h2",{className:"accordion-header",id:`heading${n}`,children:f.jsxs("button",{className:`accordion-button ${n!==0?"collapsed":""}`,type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse${n}`,"aria-expanded":n===0,"aria-controls":`collapse${n}`,children:[f.jsxs("span",{className:"fw-bold fs-5",children:["   -  ",e.grade]}),f.jsxs("span",{className:"badge mx-2 bg-primary ms-2",children:[e.subjects_analytics.length," "]})]})}),f.jsx("div",{id:`collapse${n}`,className:`accordion-collapse collapse ${n===0?"show":""}`,"aria-labelledby":`heading${n}`,"data-bs-parent":"#gradesAccordion",children:f.jsx("div",{className:"accordion-body",children:f.jsx("div",{className:"row g-4",children:e.subjects_analytics.map((r,s)=>{const i=parseFloat(r.subject_students.subject_succeed_students_percentage);let o="bg-danger";return i>=85?o="bg-success":i>=70&&(o="bg-info"),f.jsx("div",{className:"col-md-6 col-lg-4",children:f.jsx("div",{className:"card shadow-sm h-100 subject-card",children:f.jsxs("div",{className:"card-body d-flex flex-column justify-content-between",children:[f.jsx("h5",{className:"card-title fw-bold mb-3",children:r.subject_name}),f.jsx("table",{className:"table table-sm table-borderless mb-3",children:f.jsxs("tbody",{children:[f.jsxs("tr",{children:[f.jsx("td",{children:"  :"}),f.jsx("td",{className:"text-end fw-bold",children:r.subject_students.subject_students_count})]}),f.jsxs("tr",{children:[f.jsx("td",{children:" :"}),f.jsx("td",{className:"text-end fw-bold text-success",children:r.subject_students.subject_succeed_students_count})]}),f.jsxs("tr",{children:[f.jsx("td",{children:"  :"}),f.jsxs("td",{className:"text-end fw-bold",children:[i,"%"]})]}),f.jsxs("tr",{children:[f.jsx("td",{children:"  :"}),f.jsx("td",{className:"text-end fw-bold",children:r.subject_degree.average_degree})]})]})}),f.jsx("div",{className:"progress",style:{height:"20px"},children:f.jsxs("div",{className:`progress-bar ${o}`,role:"progressbar",style:{width:`${i}%`},"aria-valuenow":i,"aria-valuemin":0,"aria-valuemax":100,children:[i,"%"]})})]})})},s)})})})})]},n))}),f.jsx("style",{children:`
        .subject-card:hover {
          transform: translateY(-5px);
          transition: 0.3s ease;
        }
      `})]})}function D5(){const[t,e]=L.useState(null),[n,r]=L.useState(JSON.parse(localStorage.getItem("loggedInUserInfo")));L.useEffect(()=>{VI(dp,async i=>{if(i){const l=(await ci(rs(kn,`users/${i.uid}`))).data();localStorage.setItem("loggedinUserInfo",JSON.stringify(l)),r(l)}else localStorage.setItem("loggedinUserInfo",JSON.stringify(null)),r(null);e(i),localStorage.setItem("loggedinUser",JSON.stringify(i))})},[]);const s=d$(o_(f.jsx(f.Fragment,{children:f.jsxs(ze,{path:"/",element:f.jsx(tB,{}),errorElement:f.jsx(Wz,{}),children:[f.jsx(ze,{path:"/",element:f.jsx(dB,{})}),f.jsx(ze,{path:"/degrees/:grade/:year",element:f.jsx(yB,{})}),f.jsx(ze,{path:"/degrees/:grade/:year/:studentId",element:f.jsx(Hz,{})}),f.jsx(ze,{path:"/ranking/:grade/:term/:year",element:f.jsx(Vz,{})}),f.jsx(ze,{path:"/ranking/:grade/term_2/2025",element:f.jsx(Fz,{})}),f.jsx(ze,{path:":grade/books/:term",element:f.jsx(Gz,{})}),f.jsx(ze,{path:"/book/:bookId",element:f.jsx(LE,{})}),f.jsx(ze,{path:":grade/final_exams/:term",element:f.jsx(C5,{})}),f.jsx(ze,{path:"/final_exam/:examId",element:f.jsx(LE,{})}),f.jsx(ze,{path:":grade/more_resources/:term",element:f.jsx(A5,{})}),f.jsx(ze,{path:":grade/:term/more_resources/:subject",element:f.jsx(ME,{})}),f.jsx(ze,{path:"/general_subjects",element:f.jsx(P5,{})}),f.jsx(ze,{path:"/general_subjects/:subject",element:f.jsx(ME,{})}),f.jsx(ze,{path:"/test_yourself",element:f.jsx(Um,{})})," ",f.jsx(ze,{path:"/test_yourself/test_result",element:f.jsx(a5,{})}),f.jsx(ze,{path:":grade/test_yourself_students/:term",element:f.jsx(l5,{})}),f.jsx(ze,{path:"/test_yourself/sended_questions",element:f.jsx(Um,{})}),f.jsx(ze,{path:"/:grade/:term/:subject/test_yourself_students",element:f.jsx(Um,{})}),f.jsx(ze,{path:"/:grade/send_question_selector",element:n!=null&&n.write_permission?f.jsx(c5,{}):f.jsx(oh,{})}),f.jsx(ze,{path:"/:grade/send_question_selector/:term",element:n!=null&&n.write_permission?f.jsx(u5,{}):f.jsx(oh,{})}),f.jsx(ze,{path:"/:grade/:term/:subject/send_question",element:n!=null&&n.write_permission?f.jsx(v5,{}):f.jsx(oh,{})}),f.jsx(ze,{path:"/signup",element:t?f.jsx(Yb,{to:"/"}):f.jsx(f5,{})}),f.jsx(ze,{path:"/signin",element:t?f.jsx(Yb,{to:"/"}):f.jsx(oh,{})}),f.jsx(ze,{path:"/send_suggestion",element:f.jsx(w5,{})}),f.jsx(ze,{path:"/send_problem",element:f.jsx(E5,{})}),f.jsx(ze,{path:"/:grade/schedule",element:f.jsx(S5,{})}),f.jsx(ze,{path:"/:grade/lectures_recordings/:term",element:f.jsx(x5,{})}),f.jsx(ze,{path:"/students/:student_id",element:f.jsx(j5,{})}),f.jsx(ze,{path:"/find_student",element:f.jsx(O5,{})}),f.jsx(ze,{path:"/degrees_analytics/2025",element:f.jsx(N5,{})})]})})));return f.jsx(w$,{router:s})}Bm.createRoot(document.getElementById("root")).render(f.jsx(D5,{}));document.documentElement.setAttribute("data-bs-theme",localStorage.getItem("theme")||"light");
